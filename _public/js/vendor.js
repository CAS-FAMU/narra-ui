function uiUploader(e){"use strict";function t(e){for(var t=0;t<e.length;t++)l.files.push(e[t])}function n(){return l.files}function i(e){l.options=e;for(var t=0;t<l.files.length&&l.activeUploads!=l.options.concurrency;t++)l.files[t].active||a(l.files[t],l.options.url)}function r(e){l.files.splice(l.files.indexOf(e),1)}function o(){l.files.splice(0,l.files.length)}function s(e){var t=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],n=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(n?1:0)+" "+t[isNaN(e)?0:n+1]}function a(e,t){var n,r,o,a="",u="file";if(l.activeUploads+=1,e.active=!0,n=new window.XMLHttpRequest,r=new window.FormData,n.open("POST",t),n.upload.onloadstart=function(){},n.upload.onprogress=function(t){t.lengthComputable&&(e.loaded=t.loaded,e.humanSize=s(t.loaded),l.options.onProgress(e))},n.onload=function(){l.activeUploads-=1,i(l.options),l.options.onCompleted(e,n.responseText)},n.onerror=function(){},a)for(o in a)a.hasOwnProperty(o)&&r.append(o,a[o]);return r.append(u,e,e.name),n.send(r),n}var l=this;return l.files=[],l.options={},l.activeUploads=0,e.info("uiUploader loaded"),{addFiles:t,getFiles:n,files:l.files,startUpload:i,removeFile:r,removeAll:o}}if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Q.type(e);return"function"===n||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return j.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=ft[e]={};return Q.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function s(){Z.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+a.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(wt,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?Q.parseJSON(n):n}catch(r){}yt.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function h(){try{return Z.activeElement}catch(e){}}function d(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,i=e.length;i>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function m(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),s=vt.set(t,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)Q.event.add(t,r,u[r][n])}yt.hasData(e)&&(a=yt.access(e),l=Q.extend({},a),yt.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&St.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i,r=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Q.css(r[0],"display");return r.detach(),o}function w(e){var t=Z,n=Gt[e];return n||(n=b(e,t),"none"!==n&&n||(Nt=(Nt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Nt[0].contentDocument,t.write(),t.close(),n=b(e,t),Nt.detach()),Gt[e]=n),n}function C(e,t,n){var i,r,o,s,a=e.style;return n=n||Ut(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Q.contains(e.ownerDocument,e)||(s=Q.style(e,t)),Vt.test(s)&&Ht.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function x(e,t){return{get:function(){return e()?(delete this.get,void 0):(this.get=t).apply(this,arguments)}}}function A(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Yt.length;r--;)if(t=Yt[r]+n,t in e)return t;return i}function S(e,t,n){var i=Wt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function _(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Q.css(e,n+xt[o],!0,r)),i?("content"===n&&(s-=Q.css(e,"padding"+xt[o],!0,r)),"margin"!==n&&(s-=Q.css(e,"border"+xt[o]+"Width",!0,r))):(s+=Q.css(e,"padding"+xt[o],!0,r),"padding"!==n&&(s+=Q.css(e,"border"+xt[o]+"Width",!0,r)));return s}function E(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Ut(e),s="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=C(e,t,o),(0>r||null==r)&&(r=e.style[t]),Vt.test(r))return r;i=s&&(X.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+_(e,t,n||(s?"border":"content"),i,o)+"px"}function $(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=vt.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&At(i)&&(o[s]=vt.access(i,"olddisplay",w(i.nodeName)))):(r=At(i),"none"===n&&r||vt.set(i,"olddisplay",r?n:Q.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function T(e,t,n,i,r){return new T.prototype.init(e,t,n,i,r)}function k(){return setTimeout(function(){Xt=void 0}),Xt=Q.now()}function D(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=xt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var i,r=(nn[t]||[]).concat(nn["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function M(e,t,n){var i,r,o,s,a,l,u,c,h=this,d={},p=e.style,f=e.nodeType&&At(e),g=vt.get(e,"fxshow");n.queue||(a=Q._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Q.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=Q.css(e,"display"),c="none"===u?vt.get(e,"olddisplay")||w(e.nodeName):u,"inline"===c&&"none"===Q.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Jt.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}d[i]=g&&g[i]||Q.style(e,i)}else u=void 0;if(Q.isEmptyObject(d))"inline"===("none"===u?w(e.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=vt.access(e,"fxshow",{}),o&&(g.hidden=!f),f?Q(e).show():h.done(function(){Q(e).hide()}),h.done(function(){var t;vt.remove(e,"fxshow");for(t in d)Q.style(e,t,d[t])});for(i in d)s=F(f?g[i]:0,i,h),i in g||(g[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function R(e,t){var n,i,r,o,s;for(n in e)if(i=Q.camelCase(n),r=t[i],o=e[n],Q.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=Q.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function L(e,t,n){var i,r,o=0,s=tn.length,a=Q.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Xt||k(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,n]),1>o&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xt||k(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Q.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(R(c,u.opts.specialEasing);s>o;o++)if(i=tn[o].call(u,e,c,u.opts))return i;return Q.map(c,F,u),Q.isFunction(u.opts.start)&&u.opts.start.call(e,u),Q.fx.timer(Q.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(pt)||[];if(Q.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function O(e,t,n,i){function r(a){var l;return o[a]=!0,Q.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=e===wn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function I(e,t){var n,i,r=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Q.extend(!0,e,i),e}function B(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function N(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function G(e,t,n,i){var r;if(Q.isArray(t))Q.each(t,function(t,r){n||_n.test(e)?i(e,r):G(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Q.type(t))i(e,t);else for(r in t)G(e+"["+r+"]",t[r],n,i)}function H(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var V=[],U=V.slice,z=V.concat,W=V.push,j=V.indexOf,q={},K=q.toString,Y=q.hasOwnProperty,X={},Z=e.document,J="2.1.4",Q=function(e,t){return new Q.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,it=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:V.sort,splice:V.splice},Q.extend=Q.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||Q.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(u&&i&&(Q.isPlainObject(i)||(r=Q.isArray(i)))?(r?(r=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},s[t]=Q.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?q[K.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,it)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Q.merge(i,"string"==typeof e?[e]:e):W.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:j.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return z.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(i=U.call(arguments,2),r=function(){return e.apply(t||this,i.concat(U.call(arguments)))},r.guid=e.guid=e.guid||Q.guid++,r):void 0},now:Date.now,support:X}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){q["[object "+t+"]"]=t.toLowerCase()});var rt=function(e){function t(e,t,n,i){var r,o,s,a,l,u,h,p,f,g;if((t?t.ownerDocument||t:G)!==M&&F(t),t=t||M,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&L){if(11!==a&&(r=yt.exec(e)))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&B(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&C.getElementsByClassName)return J.apply(n,t.getElementsByClassName(s)),n}if(C.qsa&&(!P||!P.test(e))){if(p=h=N,f=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=_(e),(h=t.getAttribute("id"))?p=h.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);f=bt.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return J.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{h||t.removeAttribute("id")}}}return $(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[N]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||q)-(~e.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=V++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u=[H,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[N]||(t[N]={}),(a=l[i])&&a[0]===H&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[N]&&(r=v(r)),o&&!o[N]&&(o=v(o,s)),i(function(i,s,a,l){var u,c,h,d=[],p=[],f=s.length,v=i||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:m(v,d,e,a,l),b=n?o||(i?e:f||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=m(b,p),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[p[c]]=!(y[p[c]]=h));if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?et(i,h):d[c])>-1&&(i[u]=!(s[u]=h))}}else b=m(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],a=o?1:0,l=p(function(e){return e===t},s,!0),u=p(function(e){return et(t,e)>-1},s,!0),c=[function(e,n,i){var r=!o&&(i||n!==T)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>a;a++)if(n=x.relative[e[a].type])c=[p(f(c),n)];else{if(n=x.filter[e[a].type].apply(null,e[a].matches),n[N]){for(i=++a;r>i&&!x.relative[e[i].type];i++);return v(a>1&&f(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}c.push(n)}return f(c)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,u){var c,h,d,p=0,f="0",g=i&&[],v=[],y=T,b=i||o&&x.find.TAG("*",u),w=H+=null==y?1:Math.random()||.1,C=b.length;for(u&&(T=s!==M&&s);f!==C&&null!=(c=b[f]);f++){if(o&&c){for(h=0;d=e[h++];)if(d(c,s,a)){l.push(c);break}u&&(H=w)}r&&((c=!d&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=X.call(l));v=m(v)}J.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(H=w,T=y),g};return r?i(s):s}var w,C,x,A,S,_,E,$,T,k,D,F,M,R,L,P,O,I,B,N="sizzle"+1*new Date,G=e.document,H=0,V=0,U=n(),z=n(),W=n(),j=function(e,t){return e===t&&(D=!0),0},q=1<<31,K={}.hasOwnProperty,Y=[],X=Y.pop,Z=Y.push,J=Y.push,Q=Y.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|"+".*"+")\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,Ct=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)},At=function(){F()};try{J.apply(Y=Q.call(G.childNodes),G.childNodes),Y[G.childNodes.length].nodeType}catch(St){J={apply:Y.length?function(e,t){Z.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}C=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},F=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:G;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,R=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",At,!1):n.attachEvent&&n.attachEvent("onunload",At)),L=!S(i),C.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=vt.test(i.getElementsByClassName),C.getById=r(function(e){return R.appendChild(e).id=N,!i.getElementsByName||!i.getElementsByName(N).length}),C.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(Ct,xt);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(Ct,xt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=C.getElementsByClassName&&function(e,t){return L?t.getElementsByClassName(e):void 0},O=[],P=[],(C.qsa=vt.test(i.querySelectorAll))&&(r(function(e){R.appendChild(e).innerHTML="<a id='"+N+"'></a>"+"<select id='"+N+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+N+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||P.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(C.matchesSelector=vt.test(I=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(e){C.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),O.push("!=",st)}),P=P.length&&new RegExp(P.join("|")),O=O.length&&new RegExp(O.join("|")),t=vt.test(R.compareDocumentPosition),B=t||vt.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===G&&B(G,e)?-1:t===i||t.ownerDocument===G&&B(G,t)?1:k?et(k,e)-et(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:k?et(k,e)-et(k,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===G?-1:u[r]===G?1:0},i):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&F(e),n=n.replace(ht,"='$1']"),!(!C.matchesSelector||!L||O&&O.test(n)||P&&P.test(n)))try{var i=I.call(e,n);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&F(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&F(e);var n=x.attrHandle[t.toLowerCase()],i=n&&K.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:C.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(D=!C.detectDuplicates,k=!C.sortStable&&e.slice(0),e.sort(j),D){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return k=null,e},A=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=A(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,xt),e[3]=(e[3]||e[4]||e[5]||"").replace(Ct,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(c=m[N]||(m[N]={}),u=c[e]||[],p=u[0]===H&&u[1],d=u[0]===H&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[H,p,d];break}}else if(y&&(u=(t[N]||(t[N]={}))[e])&&u[0]===H)d=u[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[N]||(h[N]={}))[e]=[H,d]),h!==t)););return d-=r,d===i||0===d%i&&d/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[N]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=et(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=E(e.replace(lt,"$1"));return r[N]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(Ct,xt),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ct,xt).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,_=t.tokenize=function(e,n){var i,r,o,s,a,l,u,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=x.preFilter;a;){(!i||(r=ut.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in x.filter)!(r=ft[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):z(e,l).slice(0)},E=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)o=y(t[n]),o[N]?i.push(o):r.push(o);o=W(e,b(r,i)),o.selector=e}return o},$=t.select=function(e,t,n,i){var r,o,s,a,l,u="function"==typeof e&&e,h=!i&&_(e=u.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&C.getById&&9===t.nodeType&&L&&x.relative[o[1].type]){if(t=(x.find.ID(s.matches[0].replace(Ct,xt),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ft.needsContext.test(e)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(Ct,xt),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&d(o),!e)return J.apply(n,i),n;break}}return(u||E(e,h))(i,t,!L,n,bt.test(e)&&c(t.parentNode)||t),n},C.sortStable=N.split("").sort(j).join("")===N,C.detectDuplicates=!!D,F(),C.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))
}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Q.find=rt,Q.expr=rt.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=rt.uniqueSort,Q.text=rt.getText,Q.isXMLDoc=rt.isXML,Q.contains=rt.contains;var ot=Q.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Q.find.matchesSelector(i,e)?[i]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(r[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,r[t],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ot.test(e)?Q(e):e||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Q.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ut.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||lt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),st.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Z.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof lt.ready?lt.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ct.prototype=Q.fn,lt=Q(Z);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Q(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=ot.test(e)||"string"!=typeof e?Q(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?j.call(Q(e),this[0]):j.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,i){var r=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),this.length>1&&(dt[e]||Q.unique(r),ht.test(e)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,ft={};Q.Callbacks=function(e){e="string"==typeof e?ft[e]||o(e):Q.extend({},e);var t,n,i,r,s,a,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=r||0,r=0,s=l.length,i=!0;l&&s>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function o(t){Q.each(t,function(t,n){var i=Q.type(n);"function"===i?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?s=l.length:t&&(r=n,c(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,l,n))>-1;)l.splice(n,1),i&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],i?u.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var s=Q.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,i):i}},r={};return i.pipe=i.then,Q.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=U.call(arguments),s=o.length,a=1!==s||e&&Q.isFunction(e.promise)?s:0,l=1===a?e:Q.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?U.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var gt;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(gt.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(t){return gt||(gt=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),gt.promise(t)},Q.ready.promise();var mt=Q.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===Q.type(n)){r=!0;for(a in n)Q.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,Q.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(Q(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?i=t.concat(t.map(Q.camelCase)):(r=Q.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,yt=new a,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Q.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),l(o,i,r[i])));vt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){yt.set(this,e)}):mt(this,function(t){var n,i=Q.camelCase(e);if(o&&void 0===t){if(n=yt.get(o,e),void 0!==n)return n;if(n=yt.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,i);yt.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=vt.get(e,t),n&&(!i||Q.isArray(n)?i=vt.access(e,t,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),i=n.length,r=n.shift(),o=Q._queueHooks(e,t),s=function(){Q.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:Q.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Q.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=vt.get(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xt=["Top","Right","Bottom","Left"],At=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},St=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var _t="undefined";X.focusinBubbles="onfocusin"in e;var Et=/^key/,$t=/^(?:mouse|pointer|contextmenu)|click/,Tt=/^(?:focusinfocus|focusoutblur)$/,kt=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,h,d,p,f,g,m=vt.get(e);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Q.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof Q!==_t&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pt)||[""],u=t.length;u--;)a=kt.exec(t[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=Q.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=Q.event.special[p]||{},c=Q.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,i,f,s)!==!1||e.addEventListener&&e.addEventListener(p,s,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),Q.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,h,d,p,f,g,m=vt.hasData(e)&&vt.get(e);if(m&&(l=m.events)){for(t=(t||"").match(pt)||[""],u=t.length;u--;)if(a=kt.exec(t[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=Q.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));s&&!d.length&&(h.teardown&&h.teardown.call(e,f,m.handle)!==!1||Q.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)Q.event.remove(e,p+t[u],n,i,!0);Q.isEmptyObject(l)&&(delete m.handle,vt.remove(e,"events"))}},trigger:function(t,n,i,r){var o,s,a,l,u,c,h,d=[i||Z],p=Y.call(t,"type")?t.type:t,f=Y.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!Tt.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[Q.expando]?t:new Q.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Q.makeArray(n,[t]),h=Q.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!Q.isWindow(i)){for(l=h.delegateType||p,Tt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||Z)&&d.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||p,c=(vt.get(s,"events")||{})[t.type]&&vt.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&Q.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Q.acceptData(i)||u&&Q.isFunction(i[p])&&!Q.isWindow(i)&&(a=i[u],a&&(i[u]=null),Q.event.triggered=p,i[p](),Q.event.triggered=void 0,a&&(i[u]=a)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,i,r,o,s=[],a=U.call(arguments),l=(vt.get(this,"events")||{})[e.type]||[],u=Q.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=Q.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;a>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Q(r,this).index(l)>=0:Q.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=$t.test(r)?this.mouseHooks:Et.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new Q.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,t):Q.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),this[Q.expando]=!0,void 0):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!Q.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=vt.access(i,t);r||i.addEventListener(e,n,!0),vt.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=vt.access(i,t)-1;r?vt.access(i,t,r):(i.removeEventListener(e,n,!0),vt.remove(i,t))}}}),Q.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(o=i,i=function(e){return Q().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Q(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ft=/<([\w:]+)/,Mt=/<|&#?\w+;/,Rt=/<(?:script|style|link)/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^$|\/(?:java|ecma)script/i,Ot=/^true\/(.*)/,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td,Q.extend({clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(s=v(a),o=v(e),i=0,r=o.length;r>i;i++)y(o[i],s[i]);if(t)if(n)for(o=o||v(e),s=s||v(a),i=0,r=o.length;r>i;i++)m(o[i],s[i]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!l&&v(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,u,c=t.createDocumentFragment(),h=[],d=0,p=e.length;p>d;d++)if(r=e[d],r||0===r)if("object"===Q.type(r))Q.merge(h,r.nodeType?[r]:r);else if(Mt.test(r)){for(o=o||c.appendChild(t.createElement("div")),s=(Ft.exec(r)||["",""])[1].toLowerCase(),a=Bt[s]||Bt._default,o.innerHTML=a[1]+r.replace(Dt,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;Q.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(r));for(c.textContent="",d=0;r=h[d++];)if((!i||-1===Q.inArray(r,i))&&(l=Q.contains(r.ownerDocument,r),o=v(c.appendChild(r),"script"),l&&g(o),n))for(u=0;r=o[u++];)Pt.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,o=Q.event.special,s=0;void 0!==(n=e[s]);s++){if(Q.acceptData(n)&&(r=n[vt.expando],r&&(t=vt.cache[r]))){if(t.events)for(i in t.events)o[i]?Q.event.remove(n,i):Q.removeEvent(n,i,t.handle);vt.cache[r]&&delete vt.cache[r]}delete yt.cache[n[yt.expando]]}}}),Q.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Q.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Rt.test(e)&&!Bt[(Ft.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Dt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,i,r,o,s,a,l=0,u=this.length,c=this,h=u-1,d=e[0],g=Q.isFunction(d);if(g||u>1&&"string"==typeof d&&!X.checkClone&&Lt.test(d))return this.each(function(n){var i=c.eq(n);g&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(u&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Q.map(v(n,"script"),p),o=r.length;u>l;l++)s=n,l!==h&&(s=Q.clone(s,!0,!0),o&&Q.merge(r,v(s,"script"))),t.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,Q.map(r,f),l=0;o>l;l++)s=r[l],Pt.test(s.type||"")&&!vt.access(s,"globalEval")&&Q.contains(a,s)&&(s.src?Q._evalUrl&&Q._evalUrl(s.src):Q.globalEval(s.textContent.replace(It,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,i=[],r=Q(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Q(r[s])[t](n),W.apply(i,n.get());return this.pushStack(i)}});var Nt,Gt={},Ht=/^margin/,Vt=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),Ut=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var n,i,r=Z.documentElement,o=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Q.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(Z.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(o),s.removeChild(n),t}}))}(),Q.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var zt=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+Ct+")(.*)$","i"),jt=new RegExp("^([+-])=("+Ct+")","i"),qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=C(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=Q.camelCase(t),l=e.style;return t=Q.cssProps[a]||(Q.cssProps[a]=A(l,a)),s=Q.cssHooks[t]||Q.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=jt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Q.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[a]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,s,a=Q.camelCase(t);return t=Q.cssProps[a]||(Q.cssProps[a]=A(e.style,a)),s=Q.cssHooks[t]||Q.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=C(e,t,i)),"normal"===r&&t in Kt&&(r=Kt[t]),""===n||n?(o=parseFloat(r),n===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,i){return n?zt.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,qt,function(){return E(e,t,i)}):E(e,t,i):void 0},set:function(e,n,i){var r=i&&Ut(e);return S(e,n,i?_(e,t,i,"border-box"===Q.css(e,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=x(X.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},C,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+xt[i]+t]=o[i]||o[i-2]||o[0];return r}},Ht.test(e)||(Q.cssHooks[e+t].set=S)}),Q.fn.extend({css:function(e,t){return mt(this,function(e,t,n){var i,r,o={},s=0;if(Q.isArray(t)){for(i=Ut(e),r=t.length;r>s;s++)o[t[s]]=Q.css(e,t[s],!1,i);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){At(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=T,T.prototype={constructor:T,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=T.propHooks[this.prop];return e&&e.get?e.get(this):T.propHooks._default.get(this)},run:function(e){var t,n=T.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=T.prototype.init,Q.fx.step={};var Xt,Zt,Jt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[M],nn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Qt.exec(t),o=r&&r[3]||(Q.cssNumber[e]?"":"px"),s=(Q.cssNumber[e]||"px"!==o&&+i)&&Qt.exec(Q.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,Q.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};Q.Animation=Q.extend(L,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Q.speed=function(e,t,n){var i=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)
},i},Q.fn.extend({fadeTo:function(e,t,n,i){return this.filter(At).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Q.isEmptyObject(e),o=Q.speed(t,n,i),s=function(){var t=L(this,Q.extend({},e),o);(r||vt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=Q.timers,s=vt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&en.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=Q.timers,s=i?i.length:0;for(n.finish=!0,Q.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(D(t,!0),e,i,r)}}),Q.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Xt=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Xt=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Zt||(Zt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Zt),Zt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var rn,on,sn=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return mt(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===_t?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),i=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?on:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Q.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):(Q.removeAttr(e,t),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(pt);if(o&&1===e.nodeType)for(;n=o[r++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=sn[t]||Q.find.attr;sn[t]=function(e,t,i){var r,o;return i||(o=sn[t],sn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,sn[t]=o),r}});var an=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return mt(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,r=Q.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||an.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var ln=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,i,r,o,s,a="string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=Q.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?Q.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Q.isFunction(e)?this.each(function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=Q(this),o=e.match(pt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===_t||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ln," ").indexOf(t)>=0)return!0;return!1}});var un=/\r/g;Q.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=Q.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Q(this).val()):e,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(un,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=Q.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=Q.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},X.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=Q.now(),hn=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var dn=/#.*$/,pn=/([?&])_=[^&]*/,fn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bn={},wn={},Cn="*/".concat("*"),xn=e.location.href,An=yn.exec(xn.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xn,type:"GET",isLocal:gn.test(An[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,Q.ajaxSettings),t):I(Q.ajaxSettings,e)},ajaxPrefilter:P(bn),ajaxTransport:P(wn),ajax:function(e,t){function n(e,t,n,s){var l,c,v,y,w,x=t;2!==b&&(b=2,a&&clearTimeout(a),i=void 0,o=s||"",C.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=B(h,C,n)),y=N(h,y,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(Q.lastModified[r]=w),w=C.getResponseHeader("etag"),w&&(Q.etag[r]=w)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=y.state,c=y.data,v=y.error,l=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),C.status=e,C.statusText=(t||x)+"",l?f.resolveWith(d,[c,x,C]):f.rejectWith(d,[C,x,v]),C.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?c:v]),g.fireWith(d,[C,x]),u&&(p.trigger("ajaxComplete",[C,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,u,c,h=Q.ajaxSetup({},t),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Q(d):Q.event,f=Q.Deferred(),g=Q.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=fn.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(f.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||xn)+"").replace(dn,"").replace(vn,An[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(l=yn.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===An[1]&&l[2]===An[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(An[3]||("http:"===An[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),O(bn,h,t,C),2===b)return C;u=Q.event&&h.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!mn.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(hn.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=pn.test(r)?r.replace(pn,"$1_="+cn++):r+(hn.test(r)?"&":"?")+"_="+cn++)),h.ifModified&&(Q.lastModified[r]&&C.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&C.setRequestHeader("If-None-Match",Q.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Cn+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)C.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(d,C,h)===!1||2===b))return C.abort();w="abort";for(c in{success:1,error:1,complete:1})C[c](h[c]);if(i=O(wn,h,t,C)){C.readyState=1,u&&p.trigger("ajaxSend",[C,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){C.abort("timeout")},h.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return C},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,i,r){return Q.isFunction(n)&&(r=r||i,i=n,n=void 0),Q.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Sn=/%20/g,_n=/\[\]$/,En=/\r?\n/g,$n=/^(?:submit|button|image|reset|file)$/i,Tn=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,i=[],r=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){r(this.name,this.value)});else for(n in e)G(n,e[n],t,r);return i.join("&").replace(Sn,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Tn.test(this.nodeName)&&!$n.test(e)&&(this.checked||!St.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(En,"\r\n")}}):{name:t.name,value:n.replace(En,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var kn=0,Dn={},Fn={0:200,1223:204},Mn=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Dn)Dn[e]()}),X.cors=!!Mn&&"withCredentials"in Mn,X.ajax=Mn=!!Mn,Q.ajaxTransport(function(e){var t;return X.cors||Mn&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),s=++kn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Dn[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Fn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Dn[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rn=[],Ln=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||Q.expando+"_"+cn++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=t.jsonp!==!1&&(Ln.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ln.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ln,"$1"+r):t.jsonp!==!1&&(t.url+=(hn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||Q.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Rn.push(r)),s&&Q.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var i=st.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Q.buildFragment([e],t,r),r&&r.length&&Q(r).remove(),Q.merge([],i.childNodes))};var Pn=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Pn)return Pn.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=Q.trim(e.slice(a)),e=e.slice(0,a)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&Q.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?Q("<div>").append(Q.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var On=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u,c=Q.css(e,"position"),h=Q(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):h.css(d)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,Q.contains(t,i)?(typeof i.getBoundingClientRect!==_t&&(r=i.getBoundingClientRect()),n=H(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(i=e.offset()),i.top+=Q.css(e[0],"borderTopWidth",!0),i.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Q.css(n,"marginTop",!0),left:t.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||On;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||On})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Q.fn[t]=function(r){return mt(this,function(t,r,o){var s=H(t);return void 0===o?s?s[n]:t[r]:(s?s.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[r]=o,void 0)},t,r,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=x(X.pixelPosition,function(e,n){return n?(n=C(e,t),Vt.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Q.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return mt(this,function(t,n,i){var r;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Q.css(t,n,s):Q.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var In=e.jQuery,Bn=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Bn),t&&e.jQuery===Q&&(e.jQuery=In),Q},typeof t===_t&&(e.jQuery=e.$=Q),Q}),function(e){"use strict";function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o:e.eventie=o}(window),function(e){"use strict";function t(e){if(e){if("string"==typeof i[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,r=0,o=n.length;o>r;r++)if(t=n[r]+e,"string"==typeof i[t])return t}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e,t,n){"use strict";function i(e,t){return t=t||Error,function(){var n,i,r=arguments[0],o="["+(e?e+":":"")+r+"] ",s=arguments[1],a=arguments;for(n=o+s.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<a.length?dt(a[t+2]):e}),n=n+"\nhttp://errors.angularjs.org/1.3.16/"+(e?e+"/":"")+r,i=2;i<arguments.length;i++)n=n+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(dt(arguments[i]));return new t(n)}}function r(e){if(null==e||_(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===br&&t?!0:w(e)||dr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var i,s;if(e)if(A(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(dr(e)||r(e)){var a="object"!=typeof e;for(i=0,s=e.length;s>i;i++)(a||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);return e}function s(e){return Object.keys(e).sort()}function a(e,t,n){for(var i=s(e),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function l(e){return function(t,n){e(n,t)}}function u(){return++cr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function h(e){for(var t=e.$$hashKey,n=1,i=arguments.length;i>n;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),s=0,a=o.length;a>s;s++){var l=o[s];e[l]=r[l]}}return c(e,t),e}function d(e){return parseInt(e,10)}function p(e,t){return h(Object.create(e),t)}function f(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function w(e){return"string"==typeof e}function C(e){return"number"==typeof e}function x(e){return"[object Date]"===ar.call(e)}function A(e){return"function"==typeof e}function S(e){return"[object RegExp]"===ar.call(e)}function _(e){return e&&e.window===e}function E(e){return e&&e.$evalAsync&&e.$watch}function $(e){return"[object File]"===ar.call(e)}function T(e){return"[object FormData]"===ar.call(e)}function k(e){return"[object Blob]"===ar.call(e)}function D(e){return"boolean"==typeof e}function F(e){return e&&A(e.then)}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function L(e){return Yi(e.nodeName||e[0]&&e[0].nodeName)}function P(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function O(e,t,n,i){if(_(e)||E(e))throw lr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw lr("cpi","Can't copy! Source and destination are identical.");if(n=n||[],i=i||[],b(e)){var r=n.indexOf(e);if(-1!==r)return i[r];n.push(e),i.push(t)}var s;if(dr(e)){t.length=0;for(var a=0;a<e.length;a++)s=O(e[a],null,n,i),b(e[a])&&(n.push(e[a]),i.push(s)),t.push(s)}else{var l=t.$$hashKey;dr(t)?t.length=0:o(t,function(e,n){delete t[n]});for(var u in e)e.hasOwnProperty(u)&&(s=O(e[u],null,n,i),b(e[u])&&(n.push(e[u]),i.push(s)),t[u]=s);c(t,l)}}else if(t=e,e)if(dr(e))t=O(e,[],n,i);else if(x(e))t=new Date(e.getTime());else if(S(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(b(e)){var h=Object.create(Object.getPrototypeOf(e));t=O(e,h,n,i)}return t}function I(e,t){if(dr(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var r in e)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(t[r]=e[r])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r,o,s=typeof e,a=typeof t;if(s==a&&"object"==s){if(!dr(e)){if(x(e))return x(t)?B(e.getTime(),t.getTime()):!1;if(S(e))return S(t)?e.toString()==t.toString():!1;if(E(e)||E(t)||_(e)||_(t)||dr(t)||x(t)||S(t))return!1;o={};for(r in e)if("$"!==r.charAt(0)&&!A(e[r])){if(!B(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!A(t[r]))return!1;return!0}if(!dr(t))return!1;if((i=e.length)==t.length){for(r=0;i>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function N(e,t,n){return e.concat(rr.call(t,n))}function G(e,t){return rr.call(e,t||0)}function H(e,t){var n=arguments.length>2?G(arguments,2):[];return!A(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,N(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function V(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:_(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":E(i)&&(r="$SCOPE"),r}function U(e,t){return"undefined"==typeof e?n:(C(t)||(t=t?2:null),JSON.stringify(e,V,t))}function z(e){return w(e)?JSON.parse(e):e}function W(e){e=tr(e).clone();try{e.empty()}catch(t){}var n=tr("<div>").append(e).html();try{return e[0].nodeType===Cr?Yi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Yi(t)})}catch(t){return Yi(n)}}function j(e){try{return decodeURIComponent(e)}catch(t){}}function q(e){var t,n,i={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=j(t[0]),y(n))){var r=y(t[1])?j(t[1]):!0;Xi.call(i,n)?dr(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function K(e){var t=[];return o(e,function(e,n){dr(e)?o(e,function(e){t.push(X(n,!0)+(e===!0?"":"="+X(e,!0)))}):t.push(X(n,!0)+(e===!0?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function Y(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,i,r=mr.length;for(e=tr(e),i=0;r>i;++i)if(n=mr[i]+t,w(n=e.attr(n)))return n;return null}function J(e,t){var n,i,r={};o(mr,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),o(mr,function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(r.strictDi=null!==Z(n,"strict-di"),t(n,i?[i]:[],r))}function Q(n,i,r){b(r)||(r={});var s={strictDi:!1};r=h(s,r);var a=function(){if(n=tr(n),n.injector()){var e=n[0]===t?"document":W(n);throw lr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var o=zt(i,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!u.test(e.name)?a():(e.name=e.name.replace(u,""),ur.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),a()},A(ur.resumeDeferredBootstrap)&&ur.resumeDeferredBootstrap(),void 0)}function et(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function tt(e){var t=ur.element(e).injector();if(!t)throw lr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function nt(e,t){return t=t||"_",e.replace(vr,function(e,n){return(n?t:"")+e.toLowerCase()})}function it(){var t;yr||(nr=e.jQuery,nr&&nr.fn.on?(tr=nr,h(nr.fn,{scope:Nr.scope,isolateScope:Nr.isolateScope,controller:Nr.controller,injector:Nr.injector,inheritedData:Nr.inheritedData}),t=nr.cleanData,nr.cleanData=function(e){var n;if(hr)hr=!1;else for(var i,r=0;null!=(i=e[r]);r++)n=nr._data(i,"events"),n&&n.$destroy&&nr(i).triggerHandler("$destroy");t(e)}):tr=wt,ur.element=tr,yr=!0)}function rt(e,t,n){if(!e)throw lr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ot(e,t,n){return n&&dr(e)&&(e=e[e.length-1]),rt(A(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function st(e,t){if("hasOwnProperty"===e)throw lr("badname","hasOwnProperty is not a valid {0} name",t)}function at(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,s=r.length,a=0;s>a;a++)i=r[a],e&&(e=(o=e)[i]);return!n&&A(e)?H(o,e):e}function lt(e){var t=e[0],n=e[e.length-1],i=[t];do{if(t=t.nextSibling,!t)break;i.push(t)}while(t!==n);return tr(i)}function ut(){return Object.create(null)}function ct(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||i,t(o,"module",function(){var e={};return function(i,o,s){var a=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return a(i,"module"),o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i,r){return r||(r=t),function(){return r[i||"push"]([e,n,arguments]),u}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],r=[],a=[],l=e("$injector","invoke","push",r),u={_invokeQueue:t,_configBlocks:r,_runBlocks:a,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return a.push(e),this}};return s&&l(s),u})}})}function ht(e){var t=[];return JSON.stringify(e,function(e,n){if(n=V(e,n),b(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function dt(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?ht(e):e
}function pt(t){h(t,{bootstrap:Q,copy:O,extend:h,equals:B,element:tr,forEach:o,injector:zt,noop:f,bind:H,toJson:U,fromJson:z,identity:g,isUndefined:v,isDefined:y,isString:w,isFunction:A,isObject:b,isNumber:C,isElement:M,isArray:dr,version:_r,isDate:x,lowercase:Yi,uppercase:Zi,callbacks:{counter:0},getTestability:tt,$$minErr:i,$$csp:gr,reloadWithDebugInfo:et}),ir=ct(e);try{ir("ngLocale")}catch(n){ir("ngLocale",[]).provider("$locale",vn)}ir("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Yn}),e.provider("$compile",Zt).directive({a:Mo,input:Yo,textarea:Yo,form:Io,script:Bs,select:Hs,style:Us,option:Vs,ngBind:Jo,ngBindHtml:es,ngBindTemplate:Qo,ngClass:ns,ngClassEven:rs,ngClassOdd:is,ngCloak:os,ngController:ss,ngForm:Bo,ngHide:Ms,ngIf:us,ngInclude:cs,ngInit:ds,ngNonBindable:Es,ngPluralize:$s,ngRepeat:Ts,ngShow:Fs,ngStyle:Rs,ngSwitch:Ls,ngSwitchWhen:Ps,ngSwitchDefault:Os,ngOptions:Gs,ngTransclude:Is,ngModel:As,ngList:ps,ngChange:ts,pattern:Ws,ngPattern:Ws,required:zs,ngRequired:zs,minlength:qs,ngMinlength:qs,maxlength:js,ngMaxlength:js,ngValue:Zo,ngModelOptions:_s}).directive({ngInclude:hs}).directive(Ro).directive(as),e.provider({$anchorScroll:Wt,$animate:Yr,$browser:Kt,$cacheFactory:Yt,$controller:tn,$document:nn,$exceptionHandler:rn,$filter:ai,$interpolate:gn,$interval:mn,$http:hn,$httpBackend:pn,$location:Fn,$log:Mn,$parse:Un,$rootScope:Kn,$q:zn,$$q:Wn,$sce:Qn,$sceDelegate:Jn,$sniffer:ei,$templateCache:Xt,$templateRequest:ti,$$testability:ni,$timeout:ii,$window:si,$$rAF:qn,$$asyncCallback:jt,$$jqLite:Nt})}])}function ft(){return++$r}function gt(e){return e.replace(Dr,function(e,t,n,i){return i?n.toUpperCase():n}).replace(Fr,"Moz$1")}function mt(e){return!Pr.test(e)}function vt(e){var t=e.nodeType;return t===br||!t||t===Ar}function yt(e,t){var n,i,r,s,a=t.createDocumentFragment(),l=[];if(mt(e))l.push(t.createTextNode(e));else{for(n=n||a.appendChild(t.createElement("div")),i=(Or.exec(e)||["",""])[1].toLowerCase(),r=Br[i]||Br._default,n.innerHTML=r[1]+e.replace(Ir,"<$1></$2>")+r[2],s=r[0];s--;)n=n.lastChild;l=N(l,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",o(l,function(e){a.appendChild(e)}),a}function bt(e,n){n=n||t;var i;return(i=Lr.exec(e))?[n.createElement(i[1])]:(i=yt(e,n))?i.childNodes:[]}function wt(e){if(e instanceof wt)return e;var t;if(w(e)&&(e=pr(e),t=!0),!(this instanceof wt)){if(t&&"<"!=e.charAt(0))throw Rr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new wt(e)}t?Dt(this,bt(e)):Dt(this,e)}function Ct(e){return e.cloneNode(!0)}function xt(e,t){if(t||St(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)St(n[i])}function At(e,t,n,i){if(y(i))throw Rr("offargs","jqLite#off() does not support the `selector` argument");var r=_t(e),s=r&&r.events,a=r&&r.handle;if(a)if(t)o(t.split(" "),function(t){if(y(n)){var i=s[t];if(P(i||[],n),i&&i.length>0)return}kr(e,t,a),delete s[t]});else for(t in s)"$destroy"!==t&&kr(e,t,a),delete s[t]}function St(e,t){var i=e.ng339,r=i&&Er[i];if(r){if(t)return delete r.data[t],void 0;r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),At(e)),delete Er[i],e.ng339=n}}function _t(e,t){var i=e.ng339,r=i&&Er[i];return t&&!r&&(e.ng339=i=ft(),r=Er[i]={events:{},data:{},handle:n}),r}function Et(e,t,n){if(vt(e)){var i=y(n),r=!i&&t&&!b(t),o=!t,s=_t(e,!r),a=s&&s.data;if(i)a[t]=n;else{if(o)return a;if(r)return a&&a[t];h(a,t)}}}function $t(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Tt(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",pr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+pr(t)+" "," ")))})}function kt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=pr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",pr(n))}}function Dt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Ft(e,t){return Mt(e,"$"+(t||"ngController")+"Controller")}function Mt(e,t,i){e.nodeType==Ar&&(e=e.documentElement);for(var r=dr(t)?t:[t];e;){for(var o=0,s=r.length;s>o;o++)if((i=tr.data(e,r[o]))!==n)return i;e=e.parentNode||e.nodeType===Sr&&e.host}}function Rt(e){for(xt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Lt(e,t){t||xt(e);var n=e.parentNode;n&&n.removeChild(e)}function Pt(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):tr(n).on("load",t)}function Ot(e,t){var n=Gr[t.toLowerCase()];return n&&Hr[L(e)]&&n}function It(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Vr[t]}function Bt(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(r=I(r));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||r[a].call(e,n)}};return n.elem=e,n}function Nt(){this.$get=function(){return h(wt,{hasClass:function(e,t){return e.attr&&(e=e[0]),$t(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),kt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Tt(e,t)}})}}function Gt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||u)():i+":"+e}function Ht(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Vt(e){var t=e.toString().replace(jr,""),n=t.match(Ur);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ut(e,t,n){var i,r,s,a;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw w(n)&&n||(n=e.name||Vt(e)),qr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=e.toString().replace(jr,""),s=r.match(Ur),o(s[1].split(zr),function(e){e.replace(Wr,function(e,t,n){i.push(n)})})}e.$inject=i}}else dr(e)?(a=e.length-1,ot(e[a],"fn"),i=e.slice(0,a)):ot(e,"fn",!0);return i}function zt(e,t){function i(e){return function(t,n){return b(t)?(o(t,l(e)),void 0):e(t,n)}}function r(e,t){if(st(e,"service"),(A(t)||dr(t))&&(t=E.instantiate(t)),!t.$get)throw qr("pget","Provider '{0}' must define $get factory method.",e);return _[e+C]=t}function s(e,t){return function(){var n=T.invoke(t,this);if(v(n))throw qr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function a(e,t,n){return r(e,{$get:n!==!1?s(e,t):t})}function u(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return a(e,m(t),!1)}function h(e,t){st(e,"constant"),_[e]=t,$[e]=t}function d(e,t){var n=E.get(e+C),i=n.$get;n.$get=function(){var e=T.invoke(i,n);return T.invoke(t,null,{$delegate:e})}}function p(e){var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=E.get(i[0]);r[i[1]].apply(r,i[2])}}if(!S.get(e)){S.put(e,!0);try{w(e)?(t=ir(e),n=n.concat(p(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):A(e)?n.push(E.invoke(e)):dr(e)?n.push(E.invoke(e)):ot(e,"module")}catch(r){throw dr(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),qr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,r.stack||r.message||r)}}}),n}function g(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===y)throw qr("cdep","Circular dependency found: {0}",t+" <- "+x.join(" <- "));return e[t]}try{return x.unshift(t),e[t]=y,e[t]=n(t,i)}catch(r){throw e[t]===y&&delete e[t],r}finally{x.shift()}}function r(e,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,l,u=[],c=zt.$$annotate(e,t,o);for(a=0,s=c.length;s>a;a++){if(l=c[a],"string"!=typeof l)throw qr("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return dr(e)&&(e=e[s]),e.apply(n,u)}function o(e,t,n){var i=Object.create((dr(e)?e[e.length-1]:e).prototype||null),o=r(e,i,t,n);return b(o)||A(o)?o:i}return{invoke:r,instantiate:o,get:i,annotate:zt.$$annotate,has:function(t){return _.hasOwnProperty(t+C)||e.hasOwnProperty(t)}}}t=t===!0;var y={},C="Provider",x=[],S=new Ht([],!0),_={$provide:{provider:i(r),factory:i(a),service:i(u),value:i(c),constant:i(h),decorator:d}},E=_.$injector=g(_,function(e,t){throw ur.isString(t)&&x.push(t),qr("unpr","Unknown provider: {0}",x.join(" <- "))}),$={},T=$.$injector=g($,function(e,t){var i=E.get(e+C,t);return T.invoke(i.$get,i,n,e)});return o(p(e),function(e){T.invoke(e||f)}),T}function Wt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===L(e)?(t=e,!0):void 0}),t}function o(){var e=a.yOffset;if(A(e))e=e();else if(M(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function s(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function a(){var e,t=n.hash();t?(e=l.getElementById(t))?s(e):(e=r(l.getElementsByName(t)))?s(e):"top"===t&&s(null):s(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Pt(function(){i.$evalAsync(a)})}),a}]}function jt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function qt(e,t,i,r){function s(e){try{e.apply(null,G(arguments,1))}finally{if(S--,0===S)for(;_.length;)try{_.pop()()}catch(t){i.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t+1)}function l(e,t){!function n(){o($,function(e){e()}),E=t(n,e)}()}function u(){h(),d()}function c(){try{return b.state}catch(e){}}function h(){T=c(),T=v(T)?null:T,B(T,P)&&(T=P),P=T}function d(){(D!==g.url()||k!==T)&&(D=g.url(),k=T,o(R,function(e){e(g.url(),T)}))}function p(e){try{return decodeURIComponent(e)}catch(t){return e}}var g=this,m=t[0],y=e.location,b=e.history,C=e.setTimeout,x=e.clearTimeout,A={};g.isMock=!1;var S=0,_=[];g.$$completeOutstandingRequest=s,g.$$incOutstandingRequestCount=function(){S++},g.notifyWhenNoOutstandingRequests=function(e){o($,function(e){e()}),0===S?e():_.push(e)};var E,$=[];g.addPollFn=function(e){return v(E)&&l(100,C),$.push(e),e};var T,k,D=y.href,F=t.find("base"),M=null;h(),k=T,g.url=function(t,n,i){if(v(i)&&(i=null),y!==e.location&&(y=e.location),b!==e.history&&(b=e.history),t){var o=k===i;if(D===t&&(!r.history||o))return g;var s=D&&xn(D)===xn(t);return D=t,k=i,!r.history||s&&o?(s||(M=t),n?y.replace(t):s?y.hash=a(t):y.href=t):(b[n?"replaceState":"pushState"](i,"",t),h(),k=T),g}return M||y.href.replace(/%27/g,"'")},g.state=function(){return T};var R=[],L=!1,P=null;g.onUrlChange=function(t){return L||(r.history&&tr(e).on("popstate",u),tr(e).on("hashchange",u),L=!0),R.push(t),t},g.$$checkUrlChange=d,g.baseHref=function(){var e=F.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var O={},I="",N=g.baseHref();g.cookies=function(e,t){var r,o,s,a,l;if(!e){if(m.cookie!==I)for(I=m.cookie,o=I.split("; "),O={},a=0;a<o.length;a++)s=o[a],l=s.indexOf("="),l>0&&(e=p(s.substring(0,l)),O[e]===n&&(O[e]=p(s.substring(l+1))));return O}t===n?m.cookie=encodeURIComponent(e)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(t)&&(r=(m.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+N).length+1,r>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},g.defer=function(e,t){var n;return S++,n=C(function(){delete A[n],s(e)},t||0),A[n]=!0,n},g.defer.cancel=function(e){return A[e]?(delete A[e],x(e),s(f),!0):!1}}function Kt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new qt(e,i,t,n)}]}function Yt(){this.$get=function(){function e(e,n){function r(e){e!=d&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,d),d=e,d.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var s=0,a=h({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},d=null,p=null;return t[e]={put:function(e,t){if(u<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});r(n)}if(!v(t))return e in l||s++,l[e]=t,s>u&&this.remove(p.key),t},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t==d&&(d=t.p),t==p&&(p=t.n),o(t.n,t.p),delete c[e]}delete l[e],s--},removeAll:function(){l={},s=0,c={},d=p=null},destroy:function(){l=null,a=null,c=null,delete t[e]},info:function(){return h({},a,{size:s})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Xt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Zt(e,i){function r(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,r){var o=e.match(n);if(!o)throw Xr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e);i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}function s(e){var t=e.charAt(0);if(!t||t!==Yi(t))throw Xr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);return e}var a={},u="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,v=R("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/;this.directive=function _(t,n){return st(t,"directive"),w(t)?(s(t),rt(n,"directiveFactory"),a.hasOwnProperty(t)||(a[t]=[],e.factory(t+u,["$injector","$exceptionHandler",function(e,n){var i=[];return o(a[t],function(o,s){try{var a=e.invoke(o);A(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",b(a.scope)&&(a.$$isolateBindings=r(a.scope,a.name)),i.push(a)}catch(l){n(l)}}),i}])),a[t].push(n)):o(t,l(_)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(e){return y(e)?(S=e,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,r,s,l,m,y,_,$,T,k){function D(e,t){try{e.addClass(t)}catch(n){}}function F(e,t,n,i,r){e instanceof tr||(e=tr(e)),o(e,function(t,n){t.nodeType==Cr&&t.nodeValue.match(/\S+/)&&(e[n]=tr(t).wrap("<span></span>").parent()[0])});var s=R(e,t,e,n,i,r);F.$$addScopeClass(e);var a=null;return function(t,n,i){rt(t,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers,l=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=M(l));var u;if(u="html"!==a?tr(J(a,tr("<div>").append(e).html())):n?Nr.clone.call(e):e,o)for(var c in o)u.data("$"+c+"Controller",o[c].instance);return F.$$addScopeInfo(u,t),n&&n(u,t),s&&s(t,u,u,r),u}}function M(e){var t=e&&e[0];return t?"foreignobject"!==L(t)&&t.toString().match(/SVG/)?"svg":"html":"html"}function R(e,t,i,r,o,s){function a(e,i,r,o){var s,a,l,u,c,h,d,p,m;if(f){var v=i.length;for(m=new Array(v),c=0;c<g.length;c+=3)d=g[c],m[d]=i[d]}else m=i;for(c=0,h=g.length;h>c;)l=m[g[c++]],s=g[c++],a=g[c++],s?(s.scope?(u=e.$new(),F.$$addScopeInfo(tr(l),u)):u=e,p=s.transcludeOnThisElement?O(e,s.transclude,o,s.elementTranscludeOnThisElement):!s.templateOnThisElement&&o?o:!o&&t?O(e,t):null,s(a,u,l,r,p)):a&&a(e,l.childNodes,n,o)}for(var l,u,c,h,d,p,f,g=[],m=0;m<e.length;m++)l=new st,u=I(e[m],[],l,0===m?r:n,o),c=u.length?V(u,e[m],l,t,i,null,[],[],s):null,c&&c.scope&&F.$$addScopeClass(l.$$element),d=c&&c.terminal||!(h=e[m].childNodes)||!h.length?null:R(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(g.push(m,c,d),p=!0,f=f||c),s=null;return p?a:null}function O(e,t,n){var i=function(i,r,o,s,a){return i||(i=e.$new(!1,a),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})};return i}function I(e,t,n,i,r){var o,s,a=e.nodeType,l=n.$attr;switch(a){case br:z(t,Jt(L(e)),"E",i,r);for(var u,h,p,f,g,m,v=e.attributes,y=0,C=v&&v.length;C>y;y++){var x=!1,A=!1;u=v[y],h=u.name,g=pr(u.value),f=Jt(h),(m=ht.test(f))&&(h=h.replace(Zr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=f.replace(/(Start|End)$/,"");j(S)&&f===S+"Start"&&(x=h,A=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=Jt(h.toLowerCase()),l[p]=h,(m||!n.hasOwnProperty(p))&&(n[p]=g,Ot(e,p)&&(n[p]=!0)),et(e,t,g,p,m),z(t,p,"A",i,r,x,A)}if(s=e.className,b(s)&&(s=s.animVal),w(s)&&""!==s)for(;o=d.exec(s);)p=Jt(o[2]),z(t,p,"C",i,r)&&(n[p]=pr(o[3])),s=s.substr(o.index+o[0].length);break;case Cr:Z(t,e.nodeValue);break;case xr:try{o=c.exec(e.nodeValue),o&&(p=Jt(o[1]),z(t,p,"M",i,r)&&(n[p]=pr(o[2])))}catch(_){}}return t.sort(Y),t}function N(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Xr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==br&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return tr(i)}function H(e,t,n){return function(i,r,o,s,a){return r=N(r[0],t,n),e(i,r,o,s,a)}}function V(e,s,a,u,c,h,d,p,f){function g(e,t,n,i){e&&(n&&(e=H(e,n,i)),e.require=_.require,e.directiveName=$,(L===_||_.$$isolateScope)&&(e=it(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=H(t,n,i)),t.require=_.require,t.directiveName=$,(L===_||_.$$isolateScope)&&(t=it(t,{isolateScope:!0})),p.push(t))}function v(e,t,n,i){var r,s,a="data",l=!1,u=n;if(w(t)){if(s=t.match(C),t=t.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",u=n.parent()),"?"===s[2]&&(l=!0),r=null,i&&"data"===a&&(r=i[t])&&(r=r.instance),r=r||u[a]("$"+t+"Controller"),!r&&!l)throw Xr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r||null}return dr(t)&&(r=[],o(t,function(t){r.push(v(e,t,n,i))})),r}function y(e,t,r,u,c){function h(e,t,i){var r;return E(e)||(i=t,t=e,e=n),j&&(r=C),i||(i=j?A.parent():A),c(e,t,r,i,k)}var f,g,y,b,w,C,x,A,_;if(s===r?(_=a,A=a.$$element):(A=tr(r),_=new st(A,a)),L&&(w=t.$new(!0)),c&&(x=h,x.$$boundTransclude=c),R&&(S={},C={},o(R,function(e){var n,i={$scope:e===L||e.$$isolateScope?w:t,$element:A,$attrs:_,$transclude:x};b=e.controller,"@"==b&&(b=_[e.name]),n=m(b,i,!0,e.controllerAs),C[e.name]=n,j||A.data("$"+e.name+"Controller",n.instance),S[e.name]=n})),L){F.$$addScopeInfo(A,w,!0,!(P&&(P===L||P===L.$$originalDirective))),F.$$addScopeClass(A,!0);var $=S&&S[L.name],T=w;$&&$.identifier&&L.bindToController===!0&&(T=$.instance),o(w.$$isolateBindings=L.$$isolateBindings,function(e,n){var r,o,s,a,u=e.attrName,c=e.optional,h=e.mode;switch(h){case"@":_.$observe(u,function(e){T[n]=e}),_.$$observers[u].$$scope=t,_[u]&&(T[n]=i(_[u])(t));break;case"=":if(c&&!_[u])return;o=l(_[u]),a=o.literal?B:function(e,t){return e===t||e!==e&&t!==t},s=o.assign||function(){throw r=T[n]=o(t),Xr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",_[u],L.name)},r=T[n]=o(t);var d=function(e){return a(e,T[n])||(a(e,r)?s(t,e=T[n]):T[n]=e),r=e};d.$stateful=!0;var p;p=e.collection?t.$watchCollection(_[u],d):t.$watch(l(_[u],d),null,o.literal),w.$on("$destroy",p);break;case"&":o=l(_[u]),T[n]=function(e){return o(t,e)}}})}for(S&&(o(S,function(e){e()}),S=null),f=0,g=d.length;g>f;f++)y=d[f],ot(y,y.isolateScope?w:t,A,_,y.require&&v(y.directiveName,y.require,A,C),x);var k=t;for(L&&(L.template||null===L.templateUrl)&&(k=w),e&&e(k,r.childNodes,n,c),f=p.length-1;f>=0;f--)y=p[f],ot(y,y.isolateScope?w:t,A,_,y.require&&v(y.directiveName,y.require,A,C),x)}f=f||{};for(var x,S,_,$,T,k,D,M=-Number.MAX_VALUE,R=f.controllerDirectives,L=f.newIsolateScopeDirective,P=f.templateDirective,O=f.nonTlbTranscludeDirective,V=!1,z=!1,j=f.hasElementTranscludeDirective,Y=a.$$element=tr(s),Z=h,Q=u,et=0,nt=e.length;nt>et;et++){_=e[et];var rt=_.$$start,at=_.$$end;if(rt&&(Y=N(s,rt,at)),T=n,M>_.priority)break;if((D=_.scope)&&(_.templateUrl||(b(D)?(X("new/isolated scope",L||x,_,Y),L=_):X("new/isolated scope",L,_,Y)),x=x||_),$=_.name,!_.templateUrl&&_.controller&&(D=_.controller,R=R||{},X("'"+$+"' controller",R[$],_,Y),R[$]=_),(D=_.transclude)&&(V=!0,_.$$tlb||(X("transclusion",O,_,Y),O=_),"element"==D?(j=!0,M=_.priority,T=Y,Y=a.$$element=tr(t.createComment(" "+$+": "+a[$]+" ")),s=Y[0],tt(c,G(T),s),Q=F(T,u,M,Z&&Z.name,{nonTlbTranscludeDirective:O})):(T=tr(Ct(s)).contents(),Y.empty(),Q=F(T,u))),_.template)if(z=!0,X("template",P,_,Y),P=_,D=A(_.template)?_.template(Y,a):_.template,D=ct(D),_.replace){if(Z=_,T=mt(D)?[]:en(J(_.templateNamespace,pr(D))),s=T[0],1!=T.length||s.nodeType!==br)throw Xr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");tt(c,Y,s);var lt={$attr:{}},ut=I(s,[],lt),ht=e.splice(et+1,e.length-(et+1));L&&U(ut),e=e.concat(ut).concat(ht),q(a,lt),nt=e.length}else Y.html(D);if(_.templateUrl)z=!0,X("template",P,_,Y),P=_,_.replace&&(Z=_),y=K(e.splice(et,e.length-et),Y,a,c,V&&Q,d,p,{controllerDirectives:R,newIsolateScopeDirective:L,templateDirective:P,nonTlbTranscludeDirective:O}),nt=e.length;else if(_.compile)try{k=_.compile(Y,a,Q),A(k)?g(null,k,rt,at):k&&g(k.pre,k.post,rt,at)}catch(dt){r(dt,W(Y))}_.terminal&&(y.terminal=!0,M=Math.max(M,_.priority))}return y.scope=x&&x.scope===!0,y.transcludeOnThisElement=V,y.elementTranscludeOnThisElement=j,y.templateOnThisElement=z,y.transclude=Q,f.hasElementTranscludeDirective=j,y}function U(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function z(t,i,o,s,l,c,h){if(i===l)return null;var d=null;if(a.hasOwnProperty(i))for(var f,g=e.get(i+u),m=0,v=g.length;v>m;m++)try{f=g[m],(s===n||s>f.priority)&&-1!=f.restrict.indexOf(o)&&(c&&(f=p(f,{$$start:c,$$end:h})),t.push(f),d=f)}catch(y){r(y)}return d}function j(t){if(a.hasOwnProperty(t))for(var n,i=e.get(t+u),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function q(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(D(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function K(e,t,n,i,r,a,l,u){var c,h,d=[],f=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=A(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),s($.getTrustedResourceUrl(v)).then(function(s){var p,w,C,x;if(s=ct(s),g.replace){if(C=mt(s)?[]:en(J(y,pr(s))),p=C[0],1!=C.length||p.nodeType!==br)throw Xr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);w={$attr:{}},tt(i,t,p);var A=I(p,[],w);b(g.scope)&&U(A),e=A.concat(e),q(n,w)}else p=f,t.html(s);for(e.unshift(m),c=V(e,p,n,r,t,g,a,l,u),o(i,function(e,n){e==p&&(i[n]=t[0])}),h=R(t[0].childNodes,r);d.length;){var S=d.shift(),_=d.shift(),E=d.shift(),$=d.shift(),T=t[0];if(!S.$$destroyed){if(_!==f){var k=_.className;u.hasElementTranscludeDirective&&g.replace||(T=Ct(p)),tt(E,tr(_),T),D(tr(T),k)}x=c.transcludeOnThisElement?O(S,c.transclude,$):$,c(h,S,T,i,x)}}d=null}),function(e,t,n,i,r){var o=r;t.$$destroyed||(d?d.push(t,n,i,o):(c.transcludeOnThisElement&&(o=O(t,c.transclude,r)),c(h,t,n,i,o)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,i){if(t)throw Xr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,W(i))}function Z(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=!!t.length;return i&&F.$$addBindingClass(t),function(e,t){var r=t.parent();i||F.$$addBindingClass(r),F.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function J(e,n){switch(e=Yi(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return $.HTML;var n=L(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?$.RESOURCE_URL:void 0}function et(e,t,n,r,o){var s=Q(e,r);o=v[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===L(e))throw Xr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",W(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers={});if(x.test(r))throw Xr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[r];c!==n&&(a=c&&i(c,!0,s,o),n=c),a&&(l[r]=a(e),(u[r]||(u[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(a,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function tt(e,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==s){e[r++]=i;for(var u=r,c=u+a-1,h=e.length;h>u;u++,c++)h>c?e[u]=e[c]:delete e[u];e.length-=a-1,e.context===s&&(e.context=i);break}l&&l.replaceChild(i,s);var d=t.createDocumentFragment();d.appendChild(s),tr(i).data(tr(s).data()),nr?(hr=!0,nr.cleanData([s])):delete tr.cache[s[tr.expando]];for(var p=1,f=n.length;f>p;p++){var g=n[p];tr(g).remove(),d.appendChild(g),delete n[p]}n[0]=i,n.length=1}function it(e,t){return h(function(){return e.apply(null,arguments)},e,t)}function ot(e,t,n,i,o,s){try{e(t,n,i,o,s)}catch(a){r(a,W(n))}}var st=function(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e};st.prototype={$normalize:Jt,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Qt(e,t);n&&n.length&&T.addClass(this.$$element,n);var i=Qt(t,e);i&&i.length&&T.removeClass(this.$$element,i)},$set:function(e,t,i,s){var a,l=this.$$element[0],u=Ot(l,e),c=It(l,e),h=e;if(u?(this.$$element.prop(e,t),s=u):c&&(this[c]=t,h=c),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e],s||(this.$attr[e]=s=nt(e,"-"))),a=L(this.$$element),"a"===a&&"href"===e||"img"===a&&"src"===e)this[e]=t=k(t,"src"===e);else if("img"===a&&"srcset"===e){for(var d="",p=pr(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(p)?f:/(,)/,m=p.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var b=2*y;d+=k(pr(m[b]),!0),d+=" "+pr(m[b+1])}var w=pr(m[2*y]).split(/\s/);d+=k(pr(w[0]),!0),2===w.length&&(d+=" "+pr(w[1])),this[e]=t=d}i!==!1&&(null===t||t===n?this.$$element.removeAttr(s):this.$$element.attr(s,t));var C=this.$$observers;C&&o(C[h],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ut()),r=i[e]||(i[e]=[]);return r.push(t),y.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){P(r,t)}}};var at=i.startSymbol(),lt=i.endSymbol(),ct="{{"==at||"}}"==lt?g:function(e){return e.replace(/\{\{/g,at).replace(/}}/g,lt)},ht=/^ngAttr[A-Z]/;return F.$$addBindingInfo=S?function(e,t){var n=e.data("$binding")||[];dr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,F.$$addBindingClass=S?function(e){D(e,"ng-binding")}:f,F.$$addScopeInfo=S?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:f,F.$$addScopeClass=S?function(e,t){D(e,t?"ng-isolate-scope":"ng-scope")}:f,F}]}function Jt(e){return gt(e.replace(Zr,""))}function Qt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue e;n+=(n.length>0?" ":"")+s}return n}function en(e){e=tr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===xr&&or.call(e,t,1)}return e}function tn(){var e={},t=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){st(t,"controller"),b(t)?h(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,s){function a(e,t,n,r){if(!e||!b(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,l,u,c){var d,p,f,g;if(u=u===!0,c&&w(c)&&(g=c),w(i)){if(p=i.match(r),!p)throw Jr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);f=p[1],g=g||p[3],i=e.hasOwnProperty(f)?e[f]:at(l.$scope,f,!0)||(t?at(s,f,!0):n),ot(i,f,!0)}if(u){var m=(dr(i)?i[i.length-1]:i).prototype;return d=Object.create(m||null),g&&a(l,g,d,f||i.name),h(function(){return o.invoke(i,d,l,f),d},{instance:d,identifier:g})}return d=o.instantiate(i,l,f),g&&a(l,g,d,f||i.name),d}}]}function nn(){this.$get=["$window",function(e){return tr(e.document)}]}function rn(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function on(e,t){if(w(e)){var n=e.replace(io,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(Qr)||sn(n))&&(e=z(n))}}return e}function sn(e){var t=e.match(to);return t&&no[t[0]].test(e)}function an(e){var t,n,i,r=ut();return e?(o(e.split("\n"),function(e){i=e.indexOf(":"),t=Yi(pr(e.substr(0,i))),n=pr(e.substr(i+1)),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}function ln(e){var t=b(e)?e:n;return function(n){if(t||(t=an(e)),n){var i=t[Yi(n)];return void 0===i&&(i=null),i}return t}}function un(e,t,n,i){return A(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function cn(e){return e>=200&&300>e}function hn(){var e=this.defaults={transformResponse:[on],transformRequest:[function(e){return!b(e)||$(e)||k(e)||T(e)?e:U(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:I(eo),put:I(eo),patch:I(eo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,c,d,p){function f(t){function r(e){var t=h({},e);return t.data=e.data?un(e.data,e.headers,e.status,l.transformResponse):e.data,cn(e.status)?t:d.reject(t)}function s(e){var t,n={};return o(e,function(e,i){A(e)?(t=e(),null!=t&&(n[i]=t)):n[i]=e}),n}function a(t){var n,i,r,o=e.headers,a=h({},t.headers);o=h({},o.common,o[Yi(t.method)]);e:for(n in o){i=Yi(n);for(r in a)if(Yi(r)===i)continue e;a[n]=o[n]}return s(a)}if(!ur.isObject(t))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var l=h({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);l.headers=a(t),l.method=Zi(l.method);var u=function(t){var i=t.headers,s=un(t.data,ln(i),n,t.transformRequest);return v(s)&&o(i,function(e,t){"content-type"===Yi(t)&&delete i[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),C(t,s).then(r,r)},c=[u,n],p=d.when(l);for(o(E,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var f=c.shift(),g=c.shift();p=p.then(f,g)}return p.success=function(e){return ot(e,"fn"),p.then(function(t){e(t.data,t.status,t.headers,l)}),p},p.error=function(e){return ot(e,"fn"),p.then(null,function(t){e(t.data,t.status,t.headers,l)}),p},p}function g(){o(arguments,function(e){f[e]=function(t,n){return f(h(n||{},{method:e,url:t}))
}})}function m(){o(arguments,function(e){f[e]=function(t,n,i){return f(h(i||{},{method:e,url:t,data:n}))}})}function C(i,r){function o(e,n,i,r){function o(){a(n,e,i,r)}p&&(cn(e)?p.put(x,[e,n,an(i),r]):p.remove(x)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function a(e,t,n,r){t=Math.max(t,0),(cn(t)?m.resolve:m.reject)({data:e,status:t,headers:ln(n),config:i,statusText:r})}function u(e){a(e.data,e.status,I(e.headers()),e.statusText)}function h(){var e=f.pendingRequests.indexOf(i);-1!==e&&f.pendingRequests.splice(e,1)}var p,g,m=d.defer(),w=m.promise,C=i.headers,x=S(i.url,i.params);if(f.pendingRequests.push(i),w.then(h,h),!i.cache&&!e.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(p=b(i.cache)?i.cache:b(e.cache)?e.cache:_),p&&(g=p.get(x),y(g)?F(g)?g.then(u,u):dr(g)?a(g[1],g[0],I(g[2]),g[3]):a(g,200,{},"OK"):p.put(x,w)),v(g)){var A=oi(i.url)?l.cookies()[i.xsrfCookieName||e.xsrfCookieName]:n;A&&(C[i.xsrfHeaderName||e.xsrfHeaderName]=A),s(i.method,x,r,o,C,i.timeout,i.withCredentials,i.responseType)}return w}function S(e,t){if(!t)return e;var n=[];return a(t,function(e,t){null===e||v(e)||(dr(e)||(e=[e]),o(e,function(e){b(e)&&(e=x(e)?e.toISOString():U(e)),n.push(X(t)+"="+X(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var _=u("$http"),E=[];return o(r,function(e){E.unshift(w(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=e,f}]}function dn(){return new e.XMLHttpRequest}function pn(){this.$get=["$browser","$window","$document",function(e,t,n){return fn(e,dn,e.defer,t.angular.callbacks,n[0])}]}function fn(e,t,i,r,s){function a(e,t,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){kr(i,"load",o),kr(i,"error",o),s.body.removeChild(i),i=null;var a=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},Tr(i,"load",o),Tr(i,"error",o),s.body.appendChild(i),o}return function(s,l,u,c,h,d,p,g){function m(){w&&w(),C&&C.abort()}function v(t,r,o,s,a){S!==n&&i.cancel(S),w=C=null,t(r,o,s,a),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Yi(s)){var b="_"+(r.counter++).toString(36);r[b]=function(e){r[b].data=e,r[b].called=!0};var w=a(l.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(c,e,r[b].data,"",t),r[b]=f})}else{var C=t();C.open(s,l,!0),o(h,function(e,t){y(e)&&C.setRequestHeader(t,e)}),C.onload=function(){var e=C.statusText||"",t="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=t?200:"file"==ri(l).protocol?404:0),v(c,n,t,C.getAllResponseHeaders(),e)};var x=function(){v(c,-1,null,null,"")};if(C.onerror=x,C.onabort=x,p&&(C.withCredentials=!0),g)try{C.responseType=g}catch(A){if("json"!==g)throw A}C.send(u||null)}if(d>0)var S=i(m,d);else F(d)&&d.then(m)}}function gn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function s(o,s,d,p){function f(n){return n.replace(u,e).replace(c,t)}function g(e){try{return e=k(e),p&&!y(e)?e:D(e)}catch(t){var n=ro("interr","Can't interpolate: {0}\n{1}",o,t.toString());i(n)}}p=!!p;for(var m,b,w,C=0,x=[],S=[],_=o.length,E=[],$=[];_>C;){if(-1==(m=o.indexOf(e,C))||-1==(b=o.indexOf(t,m+a))){C!==_&&E.push(f(o.substring(C)));break}C!==m&&E.push(f(o.substring(C,m))),w=o.substring(m+a,b),x.push(w),S.push(n(w,g)),C=b+l,$.push(E.length),E.push("")}if(d&&E.length>1)throw ro("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!s||x.length){var T=function(e){for(var t=0,n=x.length;n>t;t++){if(p&&v(e[t]))return;E[$[t]]=e[t]}return E.join("")},k=function(e){return d?r.getTrusted(d,e):r.valueOf(e)},D=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=U(e)}return e};return h(function(e){var t=0,n=x.length,r=new Array(n);try{for(;n>t;t++)r[t]=S[t](e);return T(r)}catch(s){var a=ro("interr","Can't interpolate: {0}\n{1}",o,s.toString());i(a)}},{exp:o,expressions:x,$$watchDelegate:function(e,t,n){var i;return e.$watchGroup(S,function(n,r){var o=T(n);A(t)&&t.call(this,o,n!==r?i:o,e),i=o},n)}})}}var a=e.length,l=t.length,u=new RegExp(e.replace(/./g,o),"g"),c=new RegExp(t.replace(/./g,o),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function mn(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function r(r,s,a,l){var u=t.setInterval,c=t.clearInterval,h=0,d=y(l)&&!l,p=(d?i:n).defer(),f=p.promise;return a=y(a)?a:0,f.then(null,null,r),f.$$intervalId=u(function(){p.notify(h++),a>0&&h>=a&&(p.resolve(h),c(f.$$intervalId),delete o[f.$$intervalId]),d||e.$apply()},s),o[f.$$intervalId]=p,f}var o={};return r.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},r}]}function vn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function yn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function bn(e,t){var n=ri(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||so[n.protocol]||null}function wn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=ri(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=q(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Cn(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function xn(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function An(e){return e.replace(/(#.+)|#$/,"$1")}function Sn(e){return e.substr(0,xn(e).lastIndexOf("/")+1)}function _n(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function En(e,t){this.$$html5=!0,t=t||"";var i=Sn(e);bn(e,this),this.$$parse=function(e){var t=Cn(i,e);if(!w(t))throw ao("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,i);wn(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=K(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=yn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a,l;return(s=Cn(e,r))!==n?(a=s,l=(s=Cn(t,s))!==n?i+(Cn("/",s)||s):e+a):(s=Cn(i,r))!==n?l=i+s:i==r+"/"&&(l=i),l&&this.$$parse(l),!!l}}function $n(e,t){var n=Sn(e);bn(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,s=Cn(e,i)||Cn(n,i);"#"===s.charAt(0)?(o=Cn(t,s),v(o)&&(o=s)):o=this.$$html5?s:"",wn(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=K(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t){return xn(e)==xn(t)?(this.$$parse(t),!0):!1}}function Tn(e,t){this.$$html5=!0,$n.apply(this,arguments);var n=Sn(e);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return e==xn(i)?o=i:(s=Cn(n,i))?o=e+t+s:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=K(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+t+this.$$url}}function kn(e){return function(){return this[e]}}function Dn(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Fn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):b(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(e,t,n){var r=u.url(),o=u.$$state;try{i.url(e,t,n),u.$$state=i.state()}catch(s){throw u.url(r),u.$$state=o,s}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,h,d=i.baseHref(),p=i.url();if(t.enabled){if(!d&&t.requireBase)throw ao("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=_n(p)+(d||"/"),c=r.history?En:Tn}else h=xn(p),c=$n;u=new c(h,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=i.state();var f=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=tr(e.target);"a"!==L(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=ri(a.animVal).href),f.test(a)||!a||r.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(a,l)&&(e.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),An(u.absUrl())!=An(p)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(e,t){n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;u.$$parse(e),u.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,u.absUrl()===e&&(i?(u.$$parse(r),u.$$state=o,a(r,!1,o)):(g=!1,l(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=An(i.url()),t=An(u.absUrl()),o=i.state(),s=u.$$replace,c=e!==t||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(i?(u.$$parse(e),u.$$state=o):(c&&a(t,s,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Mn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||f,s=!1;try{s=!!r.apply}catch(a){}return s?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Rn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw uo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Ln(e,t){if(e){if(e.constructor===e)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw uo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw uo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw uo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Pn(e,t){if(e){if(e.constructor===e)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===co||e===ho||e===po)throw uo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function On(e){return e.constant}function In(e,t,n,i,r){Ln(e,r),Ln(t,r);for(var o,s=n.split("."),a=0;s.length>1;a++){o=Rn(s.shift(),r);var l=0===a&&t&&t[o]||e[o];l||(l={},e[o]=l),e=Ln(l,r)}return o=Rn(s.shift(),r),Ln(e[o],r),e[o]=i,i}function Bn(e){return"constructor"==e}function Nn(e,t,i,r,o,s,a){Rn(e,s),Rn(t,s),Rn(i,s),Rn(r,s),Rn(o,s);var l=function(e){return Ln(e,s)},u=a||Bn(e)?l:g,c=a||Bn(t)?l:g,h=a||Bn(i)?l:g,d=a||Bn(r)?l:g,p=a||Bn(o)?l:g;return function(s,a){var l=a&&a.hasOwnProperty(e)?a:s;return null==l?l:(l=u(l[e]),t?null==l?n:(l=c(l[t]),i?null==l?n:(l=h(l[i]),r?null==l?n:(l=d(l[r]),o?null==l?n:l=p(l[o]):l):l):l):l)}}function Gn(e,t){return function(n,i){return e(n,i,Ln,t)}}function Hn(e,t,i){var r=t.expensiveChecks,s=r?wo:bo,a=s[e];if(a)return a;var l=e.split("."),u=l.length;if(t.csp)a=6>u?Nn(l[0],l[1],l[2],l[3],l[4],i,r):function(e,t){var o,s=0;do o=Nn(l[s++],l[s++],l[s++],l[s++],l[s++],i,r)(e,t),t=n,e=o;while(u>s);return o};else{var c="";r&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var h=r;o(l,function(e,t){Rn(e,i);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(r||Bn(e))&&(n="eso("+n+", fe)",h=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var d=new Function("s","l","eso","fe",c);d.toString=m(c),h&&(d=Gn(d,i)),a=d}return a.sharedGetter=!0,a.assign=function(t,n,i){return In(t,i,e,n,e)},s[e]=a,a}function Vn(e){return A(e.valueOf)?e.valueOf():Co.call(e)}function Un(){var e=ut(),t=ut();this.$get=["$filter","$sniffer",function(n,i){function r(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function s(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];r.constant||(r.inputs?s(r.inputs,t):-1===t.indexOf(r)&&t.push(r))}return t}function a(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Vn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,n,i){var r,o=i.$$inputs||(i.$$inputs=s(i.inputs,[]));if(1===o.length){var l=a;return o=o[0],e.$watch(function(e){var t=o(e);return a(t,l)||(r=i(e),l=t&&Vn(t)),r},t,n)}for(var u=[],c=0,h=o.length;h>c;c++)u[c]=a;return e.$watch(function(e){for(var t=!1,n=0,s=o.length;s>n;n++){var l=o[n](e);(t||(t=!a(l,u[n])))&&(u[n]=l&&Vn(l))}return t&&(r=i(e)),r},t,n)}function u(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,A(t)&&t.apply(this,arguments),y(e)&&i.$$postDigest(function(){y(o)&&r()})},n)}function c(e,t,n,i){function r(e){var t=!0;return o(e,function(e){y(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return i(e)},function(e,n,i){a=e,A(t)&&t.call(this,e,n,i),r(e)&&i.$$postDigest(function(){r(a)&&s()})},n)}function h(e,t,n,i){var r;return r=e.$watch(function(e){return i(e)},function(){A(t)&&t.apply(this,arguments),r()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,i=n!==c&&n!==u,r=i?function(n,i){var r=e(n,i);return t(r,n,i)}:function(n,i){var r=e(n,i),o=t(r,n,i);return y(r)?o:r};return e.$$watchDelegate&&e.$$watchDelegate!==l?r.$$watchDelegate=e.$$watchDelegate:t.$stateful||(r.$$watchDelegate=l,r.inputs=[e]),r}var p={csp:i.csp,expensiveChecks:!1},g={csp:i.csp,expensiveChecks:!0};return function(i,o,s){var a,m,v;switch(typeof i){case"string":v=i=i.trim();var y=s?t:e;if(a=y[v],!a){":"===i.charAt(0)&&":"===i.charAt(1)&&(m=!0,i=i.substring(2));var b=s?g:p,w=new vo(b),C=new yo(w,n,b);a=C.parse(i),a.constant?a.$$watchDelegate=h:m?(a=r(a),a.$$watchDelegate=a.literal?c:u):a.inputs&&(a.$$watchDelegate=l),y[v]=a}return d(a,o);case"function":return d(i,o);default:return d(f,o)}}}]}function zn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return jn(function(t){e.$evalAsync(t)},t)}]}function Wn(){this.$get=["$browser","$exceptionHandler",function(e,t){return jn(function(t){e.defer(t)},t)}]}function jn(e,t){function r(e,t,n){function i(t){return function(n){r||(r=!0,t.call(e,n))}}var r=!1;return[i(t),i(n)]}function s(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function l(e){var i,r,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var s=0,a=o.length;a>s;++s){r=o[s][0],i=o[s][e.status];try{A(i)?r.resolve(i(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(l){r.reject(l),t(l)}}}function u(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function c(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function h(e){var t=new c,n=0,i=dr(e)?[]:{};return o(e,function(e,r){n++,v(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var d=i("$q",TypeError),p=function(){return new c};s.prototype={then:function(e,t,n){var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&u(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(b(e)||A(e))&&(n=e&&e.then),A(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){i[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e(function(){for(var e,r,o=0,s=i.length;s>o;o++){r=i[o][0],e=i[o][3];try{r.notify(A(e)?e(n):n)}catch(a){t(a)}}})}};var f=function(e){var t=new c;return t.reject(e),t.promise},g=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var i=null;try{A(n)&&(i=n())}catch(r){return g(r,!1)}return F(i)?i.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},v=function(e,t,n,i){var r=new c;return r.resolve(e),r.promise.then(t,n,i)},y=function w(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}if(!A(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof w))return new w(e);var i=new c;return e(t,n),i.promise};return y.defer=p,y.reject=f,y.when=v,y.all=h,y}function qn(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<c.length;e++){var t=c[e];t&&(c[e]=null,t())}u=c.length=0}function i(e){var t=c.length;return u++,c.push(e),0===t&&(l=a(n)),function(){t>=0&&(c[t]=null,t=null,0===--u&&l&&(l(),l=null,c.length=0))}}var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,s=!!r,a=s?function(e){var t=r(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};i.supported=s;var l,u=0,c=[];return i}]}function Kn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=u(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),s=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,l,c,h){function d(e){e.currentScope.$$destroyed=!0}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function g(e){if(S.$$phase)throw n("inprog","{0} already in progress",S.$$phase);S.$$phase=e}function m(){S.$$phase=null}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function C(){for(;$.length;)try{$.shift()()}catch(e){l(e)}a=null}function x(){null===a&&(a=h.defer(function(){S.$apply(C)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",d),i},$watch:function(e,t,n){var i=c(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i);var r=this,o=r.$$watchers,a={fn:t,last:w,get:i,exp:e,eq:!!n};return s=null,A(t)||(a.fn=f),o||(o=r.$$watchers=[]),o.unshift(a),function(){P(o,a),s=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(r,r,a)):t(r,i,a)}var i=new Array(e.length),r=new Array(e.length),s=[],a=this,l=!1,u=!0;if(!e.length){var c=!0;return a.$evalAsync(function(){c&&t(r,r,a)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=a.$watch(e,function(e,o){r[t]=e,i[t]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,i,a,l;if(!v(o)){if(b(o))if(r(o)){s!==p&&(s=p,m=s.length=0,h++),t=o.length,m!==t&&(h++,s.length=m=t);for(var u=0;t>u;u++)l=s[u],a=o[u],i=l!==l&&a!==a,i||l===a||(h++,s[u]=a)}else{s!==f&&(s=f={},m=0,h++),t=0;for(n in o)o.hasOwnProperty(n)&&(t++,a=o[n],l=s[n],n in s?(i=l!==l&&a!==a,i||l===a||(h++,s[n]=a)):(m++,s[n]=a,h++));if(m>t){h++;for(n in s)o.hasOwnProperty(n)||(m--,delete s[n])}}else s!==o&&(s=o,h++);return h}}function i(){if(g?(g=!1,t(o,o,l)):t(o,a,l),u)if(b(o))if(r(o)){a=new Array(o.length);for(var e=0;e<o.length;e++)a[e]=o[e]}else{a={};for(var n in o)Xi.call(o,n)&&(a[n]=o[n])}else a=o}n.$stateful=!0;var o,s,a,l=this,u=t.length>1,h=0,d=c(e,n),p=[],f={},g=!0,m=0;return this.$watch(d,i)},$digest:function(){var e,i,r,o,u,c,d,p,f,v,y=t,b=this,x=[];g("$digest"),h.$$checkUrlChange(),this===S&&null!==a&&(h.defer.cancel(a),C()),s=null;do{for(c=!1,p=b;_.length;){try{v=_.shift(),v.scope.$eval(v.expression,v.locals)}catch($){l($)}s=null}e:do{if(o=p.$$watchers)for(u=o.length;u--;)try{if(e=o[u])if((i=e.get(p))===(r=e.last)||(e.eq?B(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(e===s){c=!1;break e}}else c=!0,s=e,e.last=e.eq?O(i,null):i,e.fn(i,r===w?i:r,p),5>y&&(f=4-y,x[f]||(x[f]=[]),x[f].push({msg:A(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:r}))}catch($){l($)}if(!(d=p.$$childHead||p!==b&&p.$$nextSibling))for(;p!==b&&!(d=p.$$nextSibling);)p=p.$parent}while(p=d);if((c||_.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(c||_.length);for(m();E.length;)try{E.shift()()}catch($){l($)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==S){for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){S.$$phase||_.length||h.defer(function(){_.length&&S.$digest()}),_.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){E.push(e)},$apply:function(e){try{return g("$apply"),this.$eval(e)}catch(t){l(t)}finally{m();try{S.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&$.push(t),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,y(r,1,e))}},$emit:function(e){var t,n,i,r=[],o=this,s=!1,a={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1},u=N([a],arguments,1);do{for(t=o.$$listeners[e]||r,a.currentScope=o,n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){l(c)}else t.splice(n,1),n--,i--;if(s)return a.currentScope=null,a;o=o.$parent}while(o);return a.currentScope=null,a},$broadcast:function(e){var t=this,n=t,i=t,r={name:e,targetScope:t,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return r;for(var o,s,a,u=N([r],arguments,1);n=i;){for(r.currentScope=n,o=n.$$listeners[e]||[],s=0,a=o.length;a>s;s++)if(o[s])try{o[s].apply(null,u)}catch(c){l(c)}else o.splice(s,1),s--,a--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var S=new p,_=S.$$asyncQueue=[],E=S.$$postDigestQueue=[],$=S.$$applyAsyncQueue=[];return S}]}function Yn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=ri(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Xn(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw xo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=fr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw xo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Zn(e){var t=[];return y(e)&&o(e,function(e){t.push(Xn(e))}),t}function Jn(){this.SCE_CONTEXTS=Ao;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Zn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Zn(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?oi(t):!!e.exec(t.href)}function o(n){var i,o,s=ri(n.toString()),a=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],s)){a=!0;break}if(a)for(i=0,o=t.length;o>i;i++)if(r(t[i],s)){a=!1;break}return a}function s(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var i=d.hasOwnProperty(e)?d[e]:null;if(!i)throw xo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw xo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function l(e){return e instanceof h?e.$$unwrapTrustedValue():e}function u(e,t){if(null===t||t===n||""===t)return t;var i=d.hasOwnProperty(e)?d[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===Ao.RESOURCE_URL){if(o(t))return t;throw xo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ao.HTML)return c(t);throw xo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw xo("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(c=i.get("$sanitize"));var h=s(),d={};return d[Ao.HTML]=s(h),d[Ao.CSS]=s(h),d[Ao.URL]=s(h),d[Ao.JS]=s(h),d[Ao.RESOURCE_URL]=s(d[Ao.URL]),{trustAs:a,getTrusted:u,valueOf:l}}]}function Qn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>er)throw xo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=I(Ao);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=g),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(Ao,function(e,t){var n=Yi(t);i[gt("parse_as_"+n)]=function(t){return r(e,t)},i[gt("get_trusted_"+n)]=function(t){return s(e,t)},i[gt("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function ei(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=d((/android (\d+)/.exec(Yi((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=a.body&&a.body.style,c=!1,h=!1;if(u){for(var p in u)if(i=l.exec(p)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!o||c&&h||(c=w(a.body.style.webkitTransition),h=w(a.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||s),hasEvent:function(e){if("input"===e&&11>=er)return!1;if(v(r[e])){var t=a.createElement("div");r[e]="on"+e in t}return r[e]},csp:gr(),vendorPrefix:n,transitions:c,animations:h,android:o}}]}function ti(){this.$get=["$templateCache","$http","$q",function(e,t,n){function i(r,o){function s(e){if(!o)throw Xr("tpload","Failed to load template: {0}",r);return n.reject(e)}i.totalPendingRequests++;var a=t.defaults&&t.defaults.transformResponse;dr(a)?a=a.filter(function(e){return e!==on}):a===on&&(a=null);var l={cache:e,transformResponse:a};return t.get(r,l)["finally"](function(){i.totalPendingRequests--}).then(function(e){return e.data},s)}return i.totalPendingRequests=0,i}]}function ni(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return o(i,function(e){var i=ur.element(e).data("$binding");i&&o(i,function(i){if(n){var o=new RegExp("(^|\\s)"+fr(t)+"(\\s|\\||$)");o.test(i)&&r.push(e)}else-1!=i.indexOf(t)&&r.push(e)})}),r},i.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",s="["+i[r]+"model"+o+'"'+t+'"]',a=e.querySelectorAll(s);if(a.length)return a}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function ii(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,a,l){var u,c=y(l)&&!l,h=(c?i:n).defer(),d=h.promise;return u=t.defer(function(){try{h.resolve(o())}catch(t){h.reject(t),r(t)}finally{delete s[d.$$timeoutId]}c||e.$apply()},a),d.$$timeoutId=u,s[u]=h,d}var s={};return o.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function ri(e){var t=e;return er&&(So.setAttribute("href",t),t=So.href),So.setAttribute("href",t),{href:So.href,protocol:So.protocol?So.protocol.replace(/:$/,""):"",host:So.host,search:So.search?So.search.replace(/^\?/,""):"",hash:So.hash?So.hash.replace(/^#/,""):"",hostname:So.hostname,port:So.port,pathname:"/"===So.pathname.charAt(0)?So.pathname:"/"+So.pathname}
}function oi(e){var t=w(e)?ri(e):e;return t.protocol===_o.protocol&&t.host===_o.host}function si(){this.$get=m(e)}function ai(e){function t(i,r){if(b(i)){var s={};return o(i,function(e,n){s[n]=t(n,e)}),s}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",hi),t("date",Si),t("filter",li),t("json",_i),t("limitTo",Ei),t("lowercase",Do),t("number",di),t("orderBy",$i),t("uppercase",Fo)}function li(){return function(e,t,n){if(!dr(e))return e;var i,r,o=null!==t?typeof t:"null";switch(o){case"function":i=t;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":i=ui(t,n,r);break;default:return e}return e.filter(i)}}function ui(e,t,n){var i,r=b(e)&&"$"in e;return t===!0?t=B:A(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:b(e)||b(t)?!1:(e=Yi(""+e),t=Yi(""+t),-1!==e.indexOf(t))}),i=function(i){return r&&!b(i)?ci(i,e.$,t,!1):ci(i,e,t,n)}}function ci(e,t,n,i,r){var o=null!==e?typeof e:"null",s=null!==t?typeof t:"null";if("string"===s&&"!"===t.charAt(0))return!ci(e,t.substring(1),n,i);if(dr(e))return e.some(function(e){return ci(e,t,n,i)});switch(o){case"object":var a;if(i){for(a in e)if("$"!==a.charAt(0)&&ci(e[a],t,n,!0))return!0;return r?!1:ci(e,t,n,!1)}if("object"===s){for(a in t){var l=t[a];if(!A(l)&&!v(l)){var u="$"===a,c=u?e:e[a];if(!ci(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function hi(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return v(n)&&(n=t.CURRENCY_SYM),v(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:pi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function di(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:pi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function pi(e,t,n,i,r){if(!isFinite(e)||b(e))return"";var o=0>e;e=Math.abs(e);var s=e+"",a="",l=[],u=!1;if(-1!==s.indexOf("e")){var c=s.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>r+1?e=0:(a=s,u=!0)}if(u)r>0&&1>e&&(a=e.toFixed(r),e=parseFloat(a));else{var h=(s.split(Eo)[1]||"").length;v(r)&&(r=Math.min(Math.max(t.minFrac,h),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r);var d=(""+e).split(Eo),p=d[0];d=d[1]||"";var f,g=0,m=t.lgSize,y=t.gSize;if(p.length>=m+y)for(g=p.length-m,f=0;g>f;f++)0===(g-f)%y&&0!==f&&(a+=n),a+=p.charAt(f);for(f=g;f<p.length;f++)0===(p.length-f)%m&&0!==f&&(a+=n),a+=p.charAt(f);for(;d.length<r;)d+="0";r&&"0"!==r&&(a+=i+d.substr(0,r))}return 0===e&&(o=!1),l.push(o?t.negPre:t.posPre,a,o?t.negSuf:t.posSuf),l.join("")}function fi(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function gi(e,t,n,i){return n=n||0,function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),fi(o,t,i)}}function mi(e,t){return function(n,i){var r=n["get"+e](),o=Zi(t?"SHORT"+e:e);return i[o][r]}}function vi(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=fi(Math[t>0?"floor":"ceil"](t/60),2)+fi(Math.abs(t%60),2)}function yi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function wi(e){return function(t){var n=yi(t.getFullYear()),i=bi(t),r=+i-+n,o=1+Math.round(r/6048e5);return fi(o,e)}}function Ci(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function xi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Ai(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Si(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,s=t[8]?i.setUTCFullYear:i.setFullYear,a=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=d(t[9]+t[10]),o=d(t[9]+t[11])),s.call(i,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-r,u=d(t[5]||0)-o,c=d(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(i,l,u,c,h),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,w(n)&&(n=ko.test(n)?d(n):t(n)),C(n)&&(n=new Date(n)),!x(n))return n;for(;i;)a=To.exec(i),a?(u=N(u,a,1),i=u.pop()):(u.push(i),i=null);return r&&"UTC"===r&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(u,function(t){s=$o[t],l+=s?s(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function _i(){return function(e,t){return v(t)&&(t=2),U(e,t)}}function Ei(){return function(e,t){return C(e)&&(e=e.toString()),dr(e)||w(e)?(t=1/0===Math.abs(Number(t))?Number(t):d(t),t?t>0?e.slice(0,t):e.slice(t):w(e)?"":[]):e}}function $i(e){return function(t,n,i){function o(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0}function s(e,t){return t?function(t,n){return e(n,t)}:e}function a(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function l(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),a(e))?e:"function"==typeof e.toString&&(e=e.toString(),a(e))?e:""}function u(e,t){var n=typeof e,i=typeof t;return n===i&&"object"===n&&(e=l(e),t=l(t)),n===i?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}return r(t)?(n=dr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,i=t||g;if(w(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return s(u,n);if(i=e(t),i.constant){var r=i();return s(function(e,t){return u(e[r],t[r])},n)}}return s(function(e,t){return u(i(e),i(t))},n)}),rr.call(t).sort(s(o,i))):t}}function Ti(e){return A(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function ki(e,t){e.$name=t}function Di(e,t,i,r,s){var a=this,l=[],u=a.$$parentForm=e.parent().controller("form")||Lo;a.$error={},a.$$success={},a.$pending=n,a.$name=s(t.name||t.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,u.$addControl(a),a.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},a.$addControl=function(e){st(e.$name,"input"),l.push(e),e.$name&&(a[e.$name]=e)},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(a.$pending,function(t,n){a.$setValidity(n,null,e)}),o(a.$error,function(t,n){a.$setValidity(n,null,e)}),o(a.$$success,function(t,n){a.$setValidity(n,null,e)}),P(l,e)},Wi({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(P(i,n),0===i.length&&delete e[t])},parentForm:u,$animate:r}),a.$setDirty=function(){r.removeClass(e,ms),r.addClass(e,vs),a.$dirty=!0,a.$pristine=!1,u.$setDirty()},a.$setPristine=function(){r.setClass(e,ms,vs+" "+Po),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(l,function(e){e.$setPristine()})},a.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,Po),a.$submitted=!0,u.$setSubmitted()}}function Fi(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Mi(e,t,n,i,r,o){Ri(e,t,n,i,r,o),Fi(i)}function Ri(e,t,n,i,r,o){var s=Yi(t[0].type);if(!r.android){var a=!1;t.on("compositionstart",function(){a=!0}),t.on("compositionend",function(){a=!1,l()})}var l=function(e){if(u&&(o.defer.cancel(u),u=null),!a){var r=t.val(),l=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=pr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))t.on("input",l);else{var u,c=function(e,t,n){u||(u=o.defer(function(){u=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",l),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function Li(e,t){if(x(e))return e;if(w(e)){Wo.lastIndex=0;var n=Wo.exec(e);if(n){var i=+n[1],r=+n[2],o=0,s=0,a=0,l=0,u=yi(i),c=7*(r-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,u.getDate()+c,o,s,a,l)}}return 0/0}function Pi(e,t){return function(n,i){var r,s;if(x(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),No.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return 0/0}}function Oi(e,t,i,r){return function(o,s,a,l,u,c,h){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return y(e)?x(e)?e:i(e):n}Ii(o,s,a,l),Ri(o,s,a,l,u,c);var f,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var r=i(e,f);return"UTC"===g&&r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r}return n}),l.$formatters.push(function(e){if(e&&!x(e))throw Cs("datefmt","Expected `{0}` to be a date",e);if(d(e)){if(f=e,f&&"UTC"===g){var t=6e4*f.getTimezoneOffset();f=new Date(f.getTime()+t)}return h("date")(e,r,g)}return f=null,""}),y(a.min)||a.ngMin){var m;l.$validators.min=function(e){return!d(e)||v(m)||i(e)>=m},a.$observe("min",function(e){m=p(e),l.$validate()})}if(y(a.max)||a.ngMax){var b;l.$validators.max=function(e){return!d(e)||v(b)||i(e)<=b},a.$observe("max",function(e){b=p(e),l.$validate()})}}}function Ii(e,t,i,r){var o=t[0],s=r.$$hasNativeValidators=b(o.validity);s&&r.$parsers.push(function(e){var i=t.prop(Ki)||{};return i.badInput&&!i.typeMismatch?n:e})}function Bi(e,t,i,r,o,s){if(Ii(e,t,i,r),Ri(e,t,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Vo.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!C(e))throw Cs("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(i.min)||i.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||v(a)||e>=a},i.$observe("min",function(e){y(e)&&!C(e)&&(e=parseFloat(e,10)),a=C(e)&&!isNaN(e)?e:n,r.$validate()})}if(y(i.max)||i.ngMax){var l;r.$validators.max=function(e){return r.$isEmpty(e)||v(l)||l>=e},i.$observe("max",function(e){y(e)&&!C(e)&&(e=parseFloat(e,10)),l=C(e)&&!isNaN(e)?e:n,r.$validate()})}}function Ni(e,t,n,i,r,o){Ri(e,t,n,i,r,o),Fi(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Go.test(n)}}function Gi(e,t,n,i,r,o){Ri(e,t,n,i,r,o),Fi(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Ho.test(n)}}function Hi(e,t,n,i){v(n.name)&&t.attr("name",u());var r=function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)};t.on("click",r),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function Vi(e,t,n,r,o){var s;if(y(r)){if(s=e(r),!s.constant)throw i("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return s(t)}return o}function Ui(e,t,n,i,r,o,s,a){var l=Vi(a,e,"ngTrueValue",n.ngTrueValue,!0),u=Vi(a,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return B(e,l)}),i.$parsers.push(function(e){return e?l:u})}function zi(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){if(dr(e))return e;if(w(e))return e.split(" ");if(b(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(s,a,l){function u(e){var t=h(e,1);l.$addClass(t)}function c(e){var t=h(e,-1);l.$removeClass(t)}function h(e,t){var n=a.data("$classCounts")||{},i=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),a.data("$classCounts",n),i.join(" ")}function d(e,t){var r=i(t,e),o=i(e,t);r=h(r,1),o=h(o,-1),r&&r.length&&n.addClass(a,r),o&&o.length&&n.removeClass(a,o)}function p(e){if(t===!0||s.$index%2===t){var n=r(e||[]);if(f){if(!B(e,f)){var i=r(f);d(i,n)}}else u(n)}f=I(e)}var f;s.$watch(l[e],p,!0),l.$observe("class",function(){p(s.$eval(l[e]))}),"ngClass"!==e&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(l[e]));o===t?u(a):c(a)}})}}}]}function Wi(e){function t(e,t,l){t===n?i("$pending",e,l):r("$pending",e,l),D(t)?t?(h(a.$error,e,l),c(a.$$success,e,l)):(c(a.$error,e,l),h(a.$$success,e,l)):(h(a.$error,e,l),h(a.$$success,e,l)),a.$pending?(o(ws,!0),a.$valid=a.$invalid=n,s("",null)):(o(ws,!1),a.$valid=ji(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var u;u=a.$pending&&a.$pending[e]?n:a.$error[e]?!1:a.$$success[e]?!0:null,s(e,u),d.$setValidity(e,u,a)}function i(e,t,n){a[e]||(a[e]={}),c(a[e],t,n)}function r(e,t,i){a[e]&&h(a[e],t,i),ji(a[e])&&(a[e]=n)}function o(e,t){t&&!u[e]?(p.addClass(l,e),u[e]=!0):!t&&u[e]&&(p.removeClass(l,e),u[e]=!1)}function s(e,t){e=e?"-"+nt(e,"-"):"",o(fs+e,t===!0),o(gs+e,t===!1)}var a=e.ctrl,l=e.$element,u={},c=e.set,h=e.unset,d=e.parentForm,p=e.$animate;u[gs]=!(u[fs]=l.hasClass(fs)),a.$setValidity=t}function ji(e){if(e)for(var t in e)return!1;return!0}var qi=/^\/(.+)\/([a-z]*)$/,Ki="validity",Yi=function(e){return w(e)?e.toLowerCase():e},Xi=Object.prototype.hasOwnProperty,Zi=function(e){return w(e)?e.toUpperCase():e},Ji=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Qi=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Yi=Ji,Zi=Qi);var er,tr,nr,ir,rr=[].slice,or=[].splice,sr=[].push,ar=Object.prototype.toString,lr=i("ng"),ur=e.angular||(e.angular={}),cr=0;er=t.documentMode,f.$inject=[],g.$inject=[];var hr,dr=Array.isArray,pr=function(e){return w(e)?e.trim():e},fr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gr=function(){if(y(gr.isActive_))return gr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return gr.isActive_=e},mr=["ng-","data-ng-","ng:","x-ng-"],vr=/[A-Z]/g,yr=!1,br=1,wr=2,Cr=3,xr=8,Ar=9,Sr=11,_r={full:"1.3.16",major:1,minor:3,dot:16,codeName:"cookie-oatmealification"};wt.expando="ng339";var Er=wt.cache={},$r=1,Tr=function(e,t,n){e.addEventListener(t,n,!1)},kr=function(e,t,n){e.removeEventListener(t,n,!1)};wt._data=function(e){return this.cache[e[this.expando]]||{}};var Dr=/([\:\-\_]+(.))/g,Fr=/^moz([A-Z])/,Mr={mouseleave:"mouseout",mouseenter:"mouseover"},Rr=i("jqLite"),Lr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Pr=/<|&#?\w+;/,Or=/<([\w:]+)/,Ir=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Br={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Br.optgroup=Br.option,Br.tbody=Br.tfoot=Br.colgroup=Br.caption=Br.thead,Br.th=Br.td;var Nr=wt.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),wt(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?tr(this[e]):tr(this[this.length+e])},length:0,push:sr,sort:[].sort,splice:[].splice},Gr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Gr[Yi(e)]=e});var Hr={};o("input,select,option,textarea,button,form,details".split(","),function(e){Hr[e]=!0});var Vr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Et,removeData:St},function(e,t){wt[t]=e}),o({data:Et,inheritedData:Mt,scope:function(e){return tr.data(e,"$scope")||Mt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return tr.data(e,"$isolateScope")||tr.data(e,"$isolateScopeNoTemplate")},controller:Ft,injector:function(e){return Mt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$t,css:function(e,t,n){return t=gt(t),y(n)?(e.style[t]=n,void 0):e.style[t]},attr:function(e,t,i){var r=e.nodeType;if(r!==Cr&&r!==wr&&r!==xr){var o=Yi(t);if(Gr[o]){if(!y(i))return e[t]||(e.attributes.getNamedItem(t)||f).specified?o:n;i?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(y(i))e.setAttribute(t,i);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?n:s}}},prop:function(e,t,n){return y(n)?(e[t]=n,void 0):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===br||n===Cr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===L(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(xt(e,!0),e.innerHTML=t,void 0)},empty:Rt},function(e,t){wt.prototype[t]=function(t,i){var r,o,s=this.length;if(e!==Rt&&(2==e.length&&e!==$t&&e!==Ft?t:i)===n){if(b(t)){for(r=0;s>r;r++)if(e===Et)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(var a=e.$dv,l=a===n?Math.min(s,1):s,u=0;l>u;u++){var c=e(this[u],t,i);a=a?a+c:c}return a}for(r=0;s>r;r++)e(this[r],t,i);return this}}),o({removeData:St,on:function Ks(e,t,n,i){if(y(i))throw Rr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(vt(e)){var r=_t(e,!0),o=r.events,s=r.handle;s||(s=r.handle=Bt(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],l=a.length;l--;){t=a[l];var u=o[t];u||(o[t]=[],"mouseenter"===t||"mouseleave"===t?Ks(e,Mr[t],function(e){var n=this,i=e.relatedTarget;(!i||i!==n&&!n.contains(i))&&s(e,t)}):"$destroy"!==t&&Tr(e,t,s),u=o[t]),u.push(n)}}},off:At,one:function(e,t,n){e=tr(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;xt(e),o(new wt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===br&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===br||n===Sr){t=new wt(t);for(var i=0,r=t.length;r>i;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===br){var n=e.firstChild;o(new wt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=tr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Lt,detach:function(e){Lt(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new wt(t);for(var r=0,o=t.length;o>r;r++){var s=t[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:kt,removeClass:Tt,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;v(i)&&(i=!$t(e,t)),(i?kt:Tt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Sr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ct,triggerHandler:function(e,t,n){var i,r,s,a=t.type||t,l=_t(e),u=l&&l.events,c=u&&u[a];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:a,target:e},t.type&&(i=h(i,t)),r=I(c),s=n?[i].concat(n):[i],o(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,s)}))}},function(e,t){wt.prototype[t]=function(t,n,i){for(var r,o=0,s=this.length;s>o;o++)v(r)?(r=e(this[o],t,n,i),y(r)&&(r=tr(r))):Dt(r,e(this[o],t,n,i));return y(r)?r:this},wt.prototype.bind=wt.prototype.on,wt.prototype.unbind=wt.prototype.off}),Ht.prototype={put:function(e,t){this[Gt(e,this.nextUid)]=t},get:function(e){return this[Gt(e,this.nextUid)]},remove:function(e){var t=this[e=Gt(e,this.nextUid)];return delete this[e],t}};var Ur=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,zr=/,/,Wr=/^\s*(_?)(\S+?)\1\s*$/,jr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,qr=i("$injector");zt.$$annotate=Ut;var Kr=i("$animate"),Yr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw Kr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function i(t){var i,r=e.defer();return r.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=t(function(){r.resolve()})}),r.promise}function r(e,t){var n=[],i=[],r=ut();return o((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0}),o(t,function(e,t){var o=r[t];e===!1&&o?i.push(t):e!==!0||o||n.push(t)}),n.length+i.length>0&&[n.length?n:null,i.length?i:null]}function s(e,t,n){for(var i=0,r=t.length;r>i;++i){var o=t[i];e[o]=n}}function a(){return u||(u=e.defer(),t(function(){u.resolve(),u=null})),u.promise}function l(e,t){if(ur.isObject(t)){var n=h(t.from||{},t.to||{});e.css(n)}}var u;return{animate:function(e,t,n){return l(e,{from:t,to:n}),a()},enter:function(e,t,n,i){return l(e,i),n?n.after(e):t.prepend(e),a()},leave:function(e,t){return l(e,t),e.remove(),a()},move:function(e,t,n,i){return this.enter(e,t,n,i)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=tr(e),t=w(t)?t:dr(t)?t.join(" "):"",o(e,function(e){kt(e,t)}),l(e,n),a()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=tr(e),t=w(t)?t:dr(t)?t.join(" "):"",o(e,function(e){Tt(e,t)}),l(e,n),a()},setClass:function(e,t,n,o){var a=this,l="$$animateClasses",u=!1;e=tr(e);var c=e.data(l);c?o&&c.options&&(c.options=ur.extend(c.options||{},o)):(c={classes:{},options:o},u=!0);var h=c.classes;return t=dr(t)?t:t.split(" "),n=dr(n)?n:n.split(" "),s(h,t,!0),s(h,n,!1),u&&(c.promise=i(function(t){var n=e.data(l);if(e.removeData(l),n){var i=r(e,n.classes);i&&a.$$setClassImmediately(e,i[0],i[1],n.options)}t()}),e.data(l,c)),c.promise},$$setClassImmediately:function(e,t,n,i){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),l(e,i),a()},enabled:f,cancel:f}}]}],Xr=i("$compile");Zt.$inject=["$provide","$$sanitizeUriProvider"];var Zr=/^((?:x|data)[\:\-_])/i,Jr=i("$controller"),Qr="application/json",eo={"Content-Type":Qr+";charset=utf-8"},to=/^\[|^\{(?!\{)/,no={"[":/]$/,"{":/}$/},io=/^\)\]\}',?\n/,ro=i("$interpolate"),oo=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,so={http:80,https:443,ftp:21},ao=i("$location"),lo={$$html5:!1,$$replace:!1,absUrl:kn("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=oo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:kn("$$protocol"),host:kn("$$host"),port:kn("$$port"),path:Dn("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||C(e))e=e.toString(),this.$$search=q(e);else{if(!b(e))throw ao("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=O(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Dn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Tn,$n,En],function(e){e.prototype=Object.create(lo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==En||!this.$$html5)throw ao("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var uo=i("$parse"),co=Function.prototype.call,ho=Function.prototype.apply,po=Function.prototype.bind,fo=ut();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,fo[t]=e}),fo["this"]=function(e){return e},fo["this"].sharedGetter=!0;var go=h(ut(),{"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),y(i)?y(r)?i+r:i:y(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(y(n)?n:0)-(y(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),mo={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},vo=function(e){this.options=e};vo.prototype={constructor:vo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=go[t],o=go[n],s=go[i];if(r||o||s){var a=s?i:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw uo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Yi(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=mo[o];n+=a||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,this.tokens.push({index:t,text:i,constant:!0,value:n}),void 0;n+=o}this.index++}this.throwError("Unterminated quote",t)}};var yo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};yo.ZERO=h(function(){return 0},{sharedGetter:!0,constant:!0}),yo.prototype={constructor:yo,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in fo?e=fo[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw uo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===i||s===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return r?(this.tokens.shift(),r):!1},consume:function(e){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=go[e];return h(function(e,i){return n(e,i,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,i){var r=go[t];return h(function(t,i){return r(t,i,e,n)},{constant:e.constant&&n.constant,inputs:!i&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Hn(e,this.options,this.text)},constant:function(){var e=this.consume().value;return h(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,r=0,o=e.length;o>r;r++)i=e[r](t,n);return i}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,i,r=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],i=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return h(function(o,s){var a=e(o,s);if(i){i[0]=a;for(var l=t.length;l--;)i[l+1]=t[l](o,s);return r.apply(n,i)}return r(a)},{constant:!r.$stateful&&o.every(On),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),h(function(t,i){return n.assign(t,e(t,i),i)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var i=this.assignment();return h(function(t,r){return n(t,r)?e(t,r):i(t,r)},{constant:n.constant&&e.constant&&i.constant})}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());
return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(yo.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return h(function(i,r,o){var s=o||e(i,r);return null==s?n:t(s)},{assign:function(n,i,r){var o=e(n,r);return o||e.assign(n,o={},r),t.assign(o,i)}})},objectIndex:function(e){var t=this.text,i=this.expression();return this.consume("]"),h(function(r,o){var s,a=e(r,o),l=i(r,o);return Rn(l,t),a?s=Ln(a[l],t):n},{assign:function(n,r,o){var s=Rn(i(n,o),t),a=Ln(e(n,o),t);return a||e.assign(n,a={},o),a[s]=r}})},functionCall:function(e,t){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=i.length?[]:null;return function(s,a){var l=t?t(s,a):y(t)?n:s,u=e(s,a,l)||f;if(o)for(var c=i.length;c--;)o[c]=Ln(i[c](s,a),r);Ln(l,r),Pn(u,r);var h=u.apply?u.apply(l,o):u(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),Ln(h,r)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),h(function(t,n){for(var i=[],r=0,o=e.length;o>r;r++)i.push(e[r](t,n));return i},{literal:!0,constant:e.every(On),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),h(function(n,i){for(var r={},o=0,s=t.length;s>o;o++)r[e[o]]=t[o](n,i);return r},{literal:!0,constant:t.every(On),inputs:t})}};var bo=ut(),wo=ut(),Co=Object.prototype.valueOf,xo=i("$sce"),Ao={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Xr=i("$compile"),So=t.createElement("a"),_o=ri(e.location.href);ai.$inject=["$provide"],hi.$inject=["$locale"],di.$inject=["$locale"];var Eo=".",$o={yyyy:gi("FullYear",4),yy:gi("FullYear",2,0,!0),y:gi("FullYear",1),MMMM:mi("Month"),MMM:mi("Month",!0),MM:gi("Month",2,1),M:gi("Month",1,1),dd:gi("Date",2),d:gi("Date",1),HH:gi("Hours",2),H:gi("Hours",1),hh:gi("Hours",2,-12),h:gi("Hours",1,-12),mm:gi("Minutes",2),m:gi("Minutes",1),ss:gi("Seconds",2),s:gi("Seconds",1),sss:gi("Milliseconds",3),EEEE:mi("Day"),EEE:mi("Day",!0),a:Ci,Z:vi,ww:wi(2),w:wi(1),G:xi,GG:xi,GGG:xi,GGGG:Ai},To=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ko=/^\-?\d+$/;Si.$inject=["$locale"];var Do=m(Yi),Fo=m(Zi);$i.$inject=["$parse"];var Mo=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ar.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ro={};o(Gr,function(e,t){if("multiple"!=e){var n=Jt("ng-"+t);Ro[n]=function(){return{restrict:"A",priority:100,link:function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),o(Vr,function(e,t){Ro[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(qi);if(r)return i.$set("ngPattern",new RegExp(r[1],r[2])),void 0}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Jt("ng-"+e);Ro[t]=function(){return{priority:99,link:function(n,i,r){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===ar.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(s,t),er&&o&&i.prop(o,r[s]),void 0):("href"===e&&r.$set(s,null),void 0)})}}}});var Lo={$addControl:f,$$renameControl:ki,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Po="ng-submitted";Di.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Oo=function(e){return["$timeout",function(t){var i={name:"form",restrict:e?"EAC":"E",controller:Di,compile:function(i,r){i.addClass(ms).addClass(fs);var o=r.name?"name":e&&r.ngForm?"ngForm":!1;return{pre:function(e,i,r,s){if(!("action"in r)){var a=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};Tr(i[0],"submit",a),i.on("$destroy",function(){t(function(){kr(i[0],"submit",a)},0,!1)})}var l=s.$$parentForm;o&&(In(e,null,s.$name,s,s.$name),r.$observe(o,function(t){s.$name!==t&&(In(e,null,s.$name,n,s.$name),l.$$renameControl(s,t),In(e,null,s.$name,s,s.$name))})),i.on("$destroy",function(){l.$removeControl(s),o&&In(e,null,r[o],n,s.$name),h(s,Lo)})}}}};return i}]},Io=Oo(),Bo=Oo(!0),No=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Go=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ho=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Vo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Uo=/^(\d{4})-(\d{2})-(\d{2})$/,zo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wo=/^(\d{4})-W(\d\d)$/,jo=/^(\d{4})-(\d\d)$/,qo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ko={text:Mi,date:Oi("date",Uo,Pi(Uo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Oi("datetimelocal",zo,Pi(zo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Oi("time",qo,Pi(qo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Oi("week",Wo,Li,"yyyy-Www"),month:Oi("month",jo,Pi(jo,["yyyy","MM"]),"yyyy-MM"),number:Bi,url:Ni,email:Gi,radio:Hi,checkbox:Ui,hidden:f,button:f,submit:f,reset:f,file:f},Yo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Ko[Yi(s.type)]||Ko.text)(r,o,s,a[0],t,e,n,i)}}}}],Xo=/^(true|false|\d+)$/,Zo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Xo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Jo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,r){e.$$addBindingInfo(i,r.ngBind),i=i[0],t.$watch(r.ngBind,function(e){i.textContent=e===n?"":e})}}}}],Qo=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,o){var s=e(r.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(r,s.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=e===n?"":e})}}}}],es=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),s=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(s,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],ts=m({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ns=zi("",!0),is=zi("Odd",0),rs=zi("Even",1),os=Ti({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ss=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],as={},ls={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Jt("ng-"+e);as[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){s(t,{$event:n})};ls[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var us=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,u;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=lt(a.clone),e.leave(u).then(function(){u=null}),a=null))})}}}],cs=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ur.noop,compile:function(r,o){var s=o.ngInclude||o.src,a=o.onload||"",l=o.autoscroll;return function(r,o,u,c,h){var d,p,f,g=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!y(l)||l&&!r.$eval(l)||t()},u=++g;i?(e(i,!0).then(function(e){if(u===g){var t=r.$new();c.template=e;var l=h(t,function(e){m(),n.enter(e,null,o).then(s)});d=t,f=l,d.$emit("$includeContentLoaded",i),r.$eval(a)}},function(){u===g&&(m(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(m(),c.template=null)})}}}}],hs=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return/SVG/.test(i[0].toString())?(i.empty(),e(yt(o.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i}),void 0):(i.html(o.template),e(i.contents())(n),void 0)}}}],ds=Ti({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ps=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var s=t.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?pr(s):s,u=function(e){if(!v(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(a?pr(e):e)}),t}};r.$parsers.push(u),r.$formatters.push(function(e){return dr(e)?e.join(s):n}),r.$isEmpty=function(e){return!e||!e.length}}}},fs="ng-valid",gs="ng-invalid",ms="ng-pristine",vs="ng-dirty",ys="ng-untouched",bs="ng-touched",ws="ng-pending",Cs=new i("ngModel"),xs=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,s,a,l,u,c,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(e);var d,p=s(i.ngModel),g=p.assign,m=p,b=g,w=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");m=function(e){var n=p(e);return A(n)&&(n=t(e)),n},b=function(e){A(p(e))?n(e,{$$$p:x.$modelValue}):g(e,x.$modelValue)}}else if(!p.assign)throw Cs("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,W(r))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var S=r.inheritedData("$formController")||Lo,_=0;Wi({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:S,$animate:a}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,a.removeClass(r,vs),a.addClass(r,ms)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,a.removeClass(r,ms),a.addClass(r,vs),S.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,a.setClass(r,ys,bs)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,a.setClass(r,bs,ys)},this.$rollbackViewValue=function(){l.cancel(w),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!C(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,i=x.$valid,r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){o||i===e||(x.$modelValue=e?t:n,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i){function r(){var e=x.$$parserName||"parse";return d!==n?(d||(o(x.$validators,function(e,t){l(t,null)}),o(x.$asyncValidators,function(e,t){l(t,null)})),l(e,d),d):(l(e,null),!0)}function s(){var n=!0;return o(x.$validators,function(i,r){var o=i(e,t);n=n&&o,l(r,o)}),n?!0:(o(x.$asyncValidators,function(e,t){l(t,null)}),!1)}function a(){var i=[],r=!0;o(x.$asyncValidators,function(o,s){var a=o(e,t);if(!F(a))throw Cs("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",a);l(s,n),i.push(a.then(function(){l(s,!0)},function(){r=!1,l(s,!1)}))}),i.length?c.all(i).then(function(){u(r)},f):u(!0)}function l(e,t){h===_&&x.$setValidity(e,t)}function u(e){h===_&&i(e)}_++;var h=_;return r()?s()?(a(),void 0):(u(!1),void 0):(u(!1),void 0)},this.$commitViewValue=function(){var e=x.$viewValue;l.cancel(w),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==s&&x.$$writeModelToScope()}var i=x.$$lastCommittedViewValue,r=i;if(d=v(r)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(r=x.$parsers[o](r),v(r)){d=!1;break}C(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(e));var s=x.$modelValue,a=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=r,a&&(x.$modelValue=r,t()),x.$$runValidators(r,x.$$lastCommittedViewValue,function(e){a||(x.$modelValue=e?r:n,t())})},this.$$writeModelToScope=function(){b(e,x.$modelValue),o(x.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){x.$viewValue=e,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,r=x.$options;r&&y(r.debounce)&&(n=r.debounce,C(n)?i=n:C(n[t])?i=n[t]:C(n["default"])&&(i=n["default"])),l.cancel(w),i?w=l(function(){x.$commitViewValue()},i):u.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==x.$modelValue&&(x.$modelValue===x.$modelValue||t===t)){x.$modelValue=x.$$rawModelValue=t,d=n;for(var i=x.$formatters,r=i.length,o=t;r--;)o=i[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(t,o,f))}return t})}],As=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:xs,priority:1,compile:function(t){return t.addClass(ms).addClass(ys).addClass(fs),{pre:function(e,t,n,i){var r=i[0],o=i[1]||Lo;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&o.$$renameControl(r,e)}),e.$on("$destroy",function(){o.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Ss=/(\s+|^)default(\s+|$)/,_s=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=pr(this.$options.updateOn.replace(Ss,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Es=Ti({terminal:!0,priority:1e3}),$s=["$locale","$interpolate",function(e,t){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,s,a){function l(e){s.text(e||"")}var u,c=a.count,h=a.$attr.when&&s.attr(a.$attr.when),d=a.offset||0,p=r.$eval(h)||{},f={},g=t.startSymbol(),m=t.endSymbol(),v=g+c+"-"+d+m,y=ur.noop;o(a,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Yi(n[2]);p[r]=s.attr(a.$attr[t])}}),o(p,function(e,i){f[i]=t(e.replace(n,v))}),r.$watch(c,function(t){var n=parseFloat(t),i=isNaN(n);i||n in p||(n=e.pluralCat(n-d)),n===u||i&&isNaN(u)||(y(),y=r.$watch(f[n],l),u=n)})}}}],Ts=["$parse","$animate",function(e,s){var a="$$NG_REMOVED",l=i("ngRepeat"),u=function(e,t,n,i,r,o,s){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},h=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var p=d.ngRepeat,f=t.createComment(" end ngRepeat: "+p+" "),g=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var w=g[3]||g[1],C=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var x,A,S,_,E={$id:Gt};return b?x=e(b):(S=function(e,t){return Gt(t)},_=function(e){return e}),function(e,t,i,d,g){x&&(A=function(t,n,i){return C&&(E[C]=t),E[w]=n,E.$index=i,x(e,E)});var m=ut();e.$watchCollection(v,function(i){var d,v,b,x,E,$,T,k,D,F,M,R,L=t[0],P=ut();if(y&&(e[y]=i),r(i))D=i,k=A||S;else{k=A||_,D=[];for(var O in i)i.hasOwnProperty(O)&&"$"!=O.charAt(0)&&D.push(O);D.sort()}for(x=D.length,M=new Array(x),d=0;x>d;d++)if(E=i===D?d:D[d],$=i[E],T=k(E,$,d),m[T])F=m[T],delete m[T],P[T]=F,M[d]=F;else{if(P[T])throw o(M,function(e){e&&e.scope&&(m[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,T,$);M[d]={id:T,scope:n,clone:n},P[T]=!0}for(var I in m){if(F=m[I],R=lt(F.clone),s.leave(R),R[0].parentNode)for(d=0,v=R.length;v>d;d++)R[d][a]=!0;F.scope.$destroy()}for(d=0;x>d;d++)if(E=i===D?d:D[d],$=i[E],F=M[d],F.scope){b=L;do b=b.nextSibling;while(b&&b[a]);c(F)!=b&&s.move(lt(F.clone),null,tr(L)),L=h(F),u(F.scope,d,w,$,C,E,x)}else g(function(e,t){F.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,s.enter(e,null,tr(L)),L=n,F.clone=e,P[F.id]=F,u(F.scope,d,w,$,C,E,x)});m=P})}}}}],ks="ng-hide",Ds="ng-hide-animate",Fs=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,ks,{tempClasses:Ds})})}}}],Ms=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,ks,{tempClasses:Ds})})}}}],Rs=Ti(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ls=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=r.ngSwitch||r.on,l=[],u=[],c=[],h=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(a,function(n){var i,r;for(i=0,r=c.length;r>i;++i)e.cancel(c[i]);for(c.length=0,i=0,r=h.length;r>i;++i){var a=lt(u[i].clone);h[i].$destroy();var p=c[i]=e.leave(a);p.then(d(c,i))}u.length=0,h.length=0,(l=s.cases["!"+n]||s.cases["?"])&&o(l,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: ");var s={clone:i};u.push(s),e.enter(i,o.parent(),o)})})})}}}],Ps=Ti({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Os=Ti({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Is=Ti({restrict:"EAC",link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",W(t));o(function(e){t.empty(),t.append(e)})}}),Bs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Ns=i("ngOptions"),Gs=m({restrict:"A",terminal:!0}),Hs=["$compile","$parse",function(e,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r,o=this,s={},l=a;o.databound=n.ngModel,o.init=function(e,t,n){l=e,i=t,r=n},o.addOption=function(t,n){st(t,'"option value"'),s[t]=!0,l.$viewValue==t&&(e.val(t),r.parent()&&r.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(e){this.hasOption(e)&&(delete s[e],l.$viewValue===e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Gt(t)+" ?";r.val(n),e.prepend(r),e.val(n),r.prop("selected",!0)},o.hasOption=function(e){return s.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=f})}],link:function(a,l,u,c){function h(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(S.parent()&&S.remove(),t.val(e),""===e&&f.prop("selected",!0)):null==e&&f?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){S.parent()&&S.remove(),n.$setViewValue(t.val())})})}function d(e,t,n){var i;n.$render=function(){var e=new Ht(n.$viewValue);o(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){B(i,n.$viewValue)||(i=I(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,a,l){function u(e,n,i){return B[$]=i,D&&(B[D]=n),e(t,B)}function c(){t.$apply(function(){var e,n=R(t)||[];if(v)e=[],o(a.val(),function(t){t=P?O[t]:t,e.push(h(t,n[t]))});else{var i=P?O[a.val()]:a.val();e=h(i,n[i])}l.$setViewValue(e),S()})}function h(e,t){if("?"===e)return n;if(""===e)return null;var i=k?k:M;return u(i,e,t)}function d(){var e,n=R(t);if(n&&dr(n)){e=new Array(n.length);for(var i=0,r=n.length;r>i;i++)e[i]=u(E,i,n[i]);return e}if(n){e={};for(var o in n)n.hasOwnProperty(o)&&(e[o]=u(E,o,n[o]))}return e}function p(e){var t;if(v)if(P&&dr(e)){t=new Ht([]);for(var n=0;n<e.length;n++)t.put(u(P,null,e[n]),!0)}else t=new Ht(e);else P&&(e=u(P,null,e));return function(n,i){var r;return r=P?P:k?k:M,v?y(t.remove(u(r,n,i))):e===u(r,n,i)}}function f(){C||(t.$$postDigest(S),C=!0)}function m(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function S(){C=!1;var e,n,i,r,c,h,d,f,b,S,_,$,T,k,M,L,N,G={"":[]},H=[""],V=l.$viewValue,U=R(t)||[],z=D?s(U):U,W={},j=p(V),q=!1;for(O={},$=0;S=z.length,S>$;$++)d=$,D&&(d=z[$],"$"===d.charAt(0))||(f=U[d],e=u(F,d,f)||"",(n=G[e])||(n=G[e]=[],H.push(e)),T=j(d,f),q=q||T,L=u(E,d,f),L=y(L)?L:"",N=P?P(t,B):D?z[$]:$,P&&(O[N]=d),n.push({id:N,label:L,selected:T}));for(v||(w||null===V?G[""].unshift({id:"",label:"",selected:!q}):q||G[""].unshift({id:"?",label:"",selected:!0})),_=0,b=H.length;b>_;_++){for(e=H[_],n=G[e],I.length<=_?(r={element:A.clone().attr("label",e),label:n.label},c=[r],I.push(c),a.append(r.element)):(c=I[_],r=c[0],r.label!=e&&r.element.attr("label",r.label=e)),k=null,$=0,S=n.length;S>$;$++)i=n[$],(h=c[$+1])?(k=h.element,h.label!==i.label&&(m(W,h.label,!1),m(W,i.label,!0),k.text(h.label=i.label),k.prop("label",h.label)),h.id!==i.id&&k.val(h.id=i.id),k[0].selected!==i.selected&&(k.prop("selected",h.selected=i.selected),er&&k.prop("selected",h.selected))):(""===i.id&&w?M=w:(M=x.clone()).val(i.id).prop("selected",i.selected).attr("selected",i.selected).prop("label",i.label).text(i.label),c.push(h={element:M,label:i.label,id:i.id,selected:i.selected}),m(W,i.label,!0),k?k.after(M):r.element.append(M),k=M);for($++;c.length>$;)i=c.pop(),m(W,i.label,!1),i.element.remove()}for(;I.length>_;){for(n=I.pop(),$=1;$<n.length;++$)m(W,n[$].label,!1);n[0].element.remove()}o(W,function(e,t){e>0?g.addOption(t):0>e&&g.removeOption(t)})}var _;if(!(_=b.match(r)))throw Ns("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,W(a));var E=i(_[2]||_[1]),$=_[4]||_[6],T=/ as /.test(_[0])&&_[1],k=T?i(T):null,D=_[5],F=i(_[3]||""),M=i(_[2]?_[1]:$),R=i(_[7]),L=_[8],P=L?i(_[8]):null,O={},I=[[{element:a,label:""}]],B={};w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),a.empty(),a.on("change",c),l.$render=S,t.$watchCollection(R,f),t.$watchCollection(d,f),v&&t.$watchCollection(function(){return l.$modelValue},f)}if(c[1]){for(var f,g=c[0],m=c[1],v=u.multiple,b=u.ngOptions,w=!1,C=!1,x=tr(t.createElement("option")),A=tr(t.createElement("optgroup")),S=x.clone(),_=0,E=l.children(),$=E.length;$>_;_++)if(""===E[_].value){f=w=E.eq(_);break}g.init(m,w,S),v&&(m.$isEmpty=function(e){return!e||0===e.length}),b?p(a,l,m):v?d(a,l,m):h(a,l,m,g)}}}}],Vs=["$interpolate",function(e){var t={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o="$selectController",s=n.parent(),a=s.data(o)||s.parent().data(o);a&&a.databound||(a=t),r?e.$watch(r,function(e,t){i.$set("value",e),t!==e&&a.removeOption(t),a.addOption(e,n)}):a.addOption(i.value,n),n.on("$destroy",function(){a.removeOption(i.value)})}}}}],Us=m({restrict:"E",terminal:!1}),zs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Ws=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,W(t));s=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||v(s)||s.test(e)}}}}},js=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=d(e);r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},qs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?(console.log("WARNING: Tried to load angular more than once."),void 0):(it(),pt(ur),tr(t).ready(function(){J(t,Q)}),void 0)}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e){"use strict";function t(e){"function"==typeof e&&(t.isReady?e():s.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==o.readyState;t.isReady||n||i()}function i(){t.isReady=!0;for(var e=0,n=s.length;n>e;e++){var i=s[e];i()}}function r(r){return"complete"===o.readyState?i():(r.bind(o,"DOMContentLoaded",n),r.bind(o,"readystatechange",n),r.bind(e,"load",n)),t}var o=e.document,s=[];t.isReady=!1,"function"==typeof define&&define.amd?define(["eventie/eventie"],r):"object"==typeof exports?module.exports=r(require("eventie")):e.docReady=r(e.eventie)}(window),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:r.EventEmitter=e}.call(this),function(e){"use strict";function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){}function i(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=s.length;n>t;t++){var i=s[t];e[i]=0}return e}function r(n){function r(){if(!d){d=!0;var i=e.getComputedStyle;if(u=function(){var e=i?function(e){return i(e,null)}:function(e){return e.currentStyle};return function(t){var n=e(t);return n||o("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1"),n}}(),c=n("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[c]="border-box";var s=document.body||document.documentElement;s.appendChild(r);var a=u(r);h=200===t(a.width),s.removeChild(r)}}}function a(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=u(e);if("none"===n.display)return i();var o={};o.width=e.offsetWidth,o.height=e.offsetHeight;for(var a=o.isBorderBox=!(!c||!n[c]||"border-box"!==n[c]),d=0,p=s.length;p>d;d++){var f=s[d],g=n[f];g=l(e,g);var m=parseFloat(g);o[f]=isNaN(m)?0:m}var v=o.paddingLeft+o.paddingRight,y=o.paddingTop+o.paddingBottom,b=o.marginLeft+o.marginRight,w=o.marginTop+o.marginBottom,C=o.borderLeftWidth+o.borderRightWidth,x=o.borderTopWidth+o.borderBottomWidth,A=a&&h,S=t(n.width);
S!==!1&&(o.width=S+(A?0:v+C));var _=t(n.height);return _!==!1&&(o.height=_+(A?0:y+x)),o.innerWidth=o.width-(v+C),o.innerHeight=o.height-(y+x),o.outerWidth=o.width+b,o.outerHeight=o.height+w,o}}function l(t,n){if(e.getComputedStyle||-1===n.indexOf("%"))return n;var i=t.style,r=i.left,o=t.runtimeStyle,s=o&&o.left;return s&&(o.left=t.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=r,s&&(o.left=s),n}var u,c,h,d=!1;return a}var o="undefined"==typeof console?n:function(e){console.error(e)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):e.getSize=r(e.getStyleProperty)}(window),function(e){"use strict";function t(e,t){return e[s](t)}function n(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function i(e,t){n(e);for(var i=e.parentNode.querySelectorAll(t),r=0,o=i.length;o>r;r++)if(i[r]===e)return!0;return!1}function r(e,i){return n(e),t(e,i)}var o,s=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,i=t.length;i>n;n++){var r=t[n],o=r+"MatchesSelector";if(e[o])return o}}();if(s){var a=document.createElement("div"),l=t(a,"div");o=l?t:r}else o=i;"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var r=function(i,o,s){s=s||{};var a=e.defer(),l=r[s.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(l,u),a.resolve(i)})};return l&&i.bind(l,u),t(function(){angular.isString(o)?i.addClass(o):angular.isFunction(o)?o(i):angular.isObject(o)&&i.css(o),l||a.resolve(i)}),a.promise.cancel=function(){l&&i.unbind(l,u),a.reject("Transition cancelled")},a.promise},o=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},a={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=i(s),r.animationEndEventName=i(a),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,i){function r(t){function i(){u===r&&(u=void 0)}var r=e(n,t);return u&&u.cancel(),u=r,r.then(i,i),r}function o(){c?(c=!1,s()):(n.removeClass("collapse").addClass("collapsing"),r({height:n[0].scrollHeight+"px"}).then(s))}function s(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function a(){c?(c=!1,l(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),r({height:0}).then(l))}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var u,c=!0;t.$watch(i.collapse,function(e){e?a():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,i,r){e(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){var r=i[0],o=i[1];o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(i?null:e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){function r(){return s(n.btnCheckboxTrue,!0)}function o(){return s(n.btnCheckboxFalse,!1)}function s(t,n){var i=e.$eval(t);return angular.isDefined(i)?i:n}var a=i[0],l=i[1];l.$render=function(){t.toggleClass(a.activeClass,angular.equals(l.$modelValue,r()))},t.bind(a.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(a.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,i){function r(){o();var t=+e.interval;!isNaN(t)&&t>0&&(a=n(s,t))}function o(){a&&(n.cancel(a),a=null)}function s(){var t=+e.interval;l&&!isNaN(t)&&t>0?e.next():e.pause()}var a,l,u=this,c=u.slides=e.slides=[],h=-1;u.currentSlide=null;var d=!1;u.select=e.select=function(n,o){function s(){d||(u.currentSlide&&angular.isString(o)&&!e.noTransition&&n.$element?(n.$element.addClass(o),n.$element[0].offsetWidth,angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:o,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=i(n.$element,{}),function(t,n){e.$currentTransition.then(function(){a(t,n)},function(){a(t,n)})}(n,u.currentSlide)):a(n,u.currentSlide),u.currentSlide=n,h=l,r())}function a(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var l=c.indexOf(n);void 0===o&&(o=l>h?"next":"prev"),n&&n!==u.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(s)):s())},e.$on("$destroy",function(){d=!0}),u.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(h+1)%c.length;return e.$currentTransition?void 0:u.select(c[t],"next")},e.prev=function(){var t=0>h-1?c.length-1:h-1;return e.$currentTransition?void 0:u.select(c[t],"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",o),e.play=function(){l||(l=!0,r())},e.pause=function(){e.noPause||(l=!1,o())},u.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(u.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},u.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?t>=c.length?u.select(c[t-1]):u.select(c[t]):h>t&&h--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(r,function(t,r){var o=e.indexOf(r);if(o>-1){e=e.split(""),i[o]="("+t.regex+")",e[o]="$";for(var s=o+1,a=o+r.length;a>s;s++)i[s]="",e[s]="$";e=e.join(""),n.push({index:o,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return 1===t&&n>28?29===n&&(0===e%4&&0!==e%100||0===e%400):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,r){if(!angular.isString(t)||!r)return t;r=e.DATETIME_FORMATS[r]||r,this.parsers[r]||(this.parsers[r]=n(r));var o=this.parsers[r],s=o.regex,a=o.map,l=t.match(s);if(l&&l.length){for(var u,c={year:1900,month:0,date:1,hours:0},h=1,d=l.length;d>h;h++){var p=a[h-1];p.apply&&p.apply.call(c,l[h])}return i(c.year,c.month,c.date)&&(u=new Date(c.year,c.month,c.date,c.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,s,a,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),s=t.prop("offsetHeight");var h={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},d={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":a={top:d[c](),left:h[u]()};break;case"left":a={top:d[c](),left:r.left-o};break;case"bottom":a={top:d[u](),left:h[c]()};break;default:a={top:r.top-s,left:h[c]()}}return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,r,o,s,a){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,r){l[n]=angular.isDefined(t[n])?8>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=a[i]?new Date(a[i]):null}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){u=e,u.$render=function(){l.render()}},this.render=function(){if(u.$modelValue){var e=new Date(u.$modelValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:e,label:s(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){r(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,r){function o(e,t){return 1!==t||0!==e%4||0===e%100&&0!==e%400?l[t]:29}function s(e,t){var n=new Array(t),i=new Date(e),r=0;for(i.setHours(12);t>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function a(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),l=r.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var h=s(c,42),d=0;42>d;d++)h[d]=angular.extend(r.createDateObject(h[d],r.formatDay),{secondary:h[d].getMonth()!==i,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var p=0;7>p;p++)t.labels[p]={abbr:e(h[p].date,r.formatDayHeader),full:e(h[p].date,"EEEE")};if(t.title=e(r.activeDate,r.formatDayTitle),t.rows=r.split(h,7),t.showWeeks){t.weekNumbers=[];for(var f=a(t.rows[0][0].date),g=t.rows.length;t.weekNumbers.push(f++)<g;);}},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.handleKeyDown=function(e){var t=r.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getMonth()+("pageup"===e?-1:1);r.activeDate.setMonth(n,1),t=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(t)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(r.createDateObject(new Date(i,o,1),r.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(r.activeDate,r.formatMonthTitle),t.rows=r.split(n,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e){var t=r.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getFullYear()+("pageup"===e?-1:1);r.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);r.activeDate.setMonth(t)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function r(e){return parseInt((e-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=t,i._refreshView=function(){for(var t=new Array(o),n=0,s=r(i.activeDate.getFullYear());o>n;n++)t[n]=angular.extend(i.createDateObject(new Date(s+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[o-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=r(i.activeDate.getFullYear()):"end"===e&&(t=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,r,o,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(a,l,u,c){function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(e){if(e){if(angular.isDate(e)&&!isNaN(e))return c.$setValidity("date",!0),e;if(angular.isString(e)){var t=o.parse(e,p)||new Date(e);return isNaN(t)?(c.$setValidity("date",!1),void 0):(c.$setValidity("date",!0),t)}return c.$setValidity("date",!1),void 0}return c.$setValidity("date",!0),null}var p,f=angular.isDefined(u.closeOnDateSelection)?a.$parent.$eval(u.closeOnDateSelection):s.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?a.$parent.$eval(u.datepickerAppendToBody):s.appendToBody;a.showButtonBar=angular.isDefined(u.showButtonBar)?a.$parent.$eval(u.showButtonBar):s.showButtonBar,a.getText=function(e){return a[e+"Text"]||s[e+"Text"]},u.$observe("datepickerPopup",function(e){p=e||s.datepickerPopup,c.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);u.datepickerOptions&&angular.forEach(a.$parent.$eval(u.datepickerOptions),function(e,t){v.attr(h(t),e)}),a.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(u[e]){var n=t(u[e]);if(a.$parent.$watch(n,function(t){a.watchData[e]=t}),v.attr(h(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;a.$watch("watchData."+e,function(e,t){e!==t&&i(a.$parent,e)})}}}),u.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(d),a.dateSelection=function(e){angular.isDefined(e)&&(a.date=e),c.$setViewValue(a.date),c.$render(),f&&(a.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){a.$apply(function(){a.date=c.$modelValue})}),c.$render=function(){var e=c.$viewValue?r(c.$viewValue,p):"";l.val(e),a.date=d(c.$modelValue)};var y=function(e){a.isOpen&&e.target!==l[0]&&a.$apply(function(){a.isOpen=!1})},b=function(e){a.keydown(e)};l.bind("keydown",b),a.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),a.close()):40!==e.which||a.isOpen||(a.isOpen=!0)},a.$watch("isOpen",function(e){e?(a.$broadcast("datepicker.focus"),a.position=g?i.offset(l):i.position(l),a.position.top=a.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),a.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.$modelValue)?(e=new Date(c.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}a.dateSelection(e)},a.close=function(){a.isOpen=!1,l[0].focus()};var w=e(m)(a);m.remove(),g?n.find("body").append(w):l.after(w),a.$on("$destroy",function(){w.remove(),l.unbind("keydown",b),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(r){t||(e.bind("click",n),e.bind("keydown",i)),t&&t!==r&&(t.isOpen=!1),t=r},this.close=function(r){t===r&&(t=null,e.unbind("click",n),e.unbind("keydown",i))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},i=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,i,r,o){var s,a=this,l=e.$new(),u=i.openClass,c=angular.noop,h=t.onToggle?n(t.onToggle):angular.noop;this.init=function(i){a.$element=i,t.isOpen&&(s=n(t.isOpen),c=s.assign,e.$watch(s,function(e){l.isOpen=!!e}))},this.toggle=function(e){return l.isOpen=arguments.length?!!e:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return a.toggleElement},l.focusToggleElement=function(){a.toggleElement&&a.toggleElement[0].focus()},l.$watch("isOpen",function(t,n){o[t?"addClass":"removeClass"](a.$element,u),t?(l.focusToggleElement(),r.open(l)):r.close(l),c(e,t),angular.isDefined(t)&&t!==n&&h(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){l.isOpen=!1}),e.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,i){if(i){i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,i){t.backdropClass=i.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,t(function(){n.animate=!0,i[0].querySelectorAll("[autofocus]").length||i[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i,r,o){function s(){for(var e=-1,t=p.keys(),n=0;n<t.length;n++)p.get(t[n]).value.backdrop&&(e=n);return e}function a(e){var t=n.find("body").eq(0),i=p.get(e).value;p.remove(e),u(i.modalDomEl,i.modalScope,300,function(){i.modalScope.$destroy(),t.toggleClass(d,p.length()>0),l()})}function l(){if(c&&-1==s()){var e=h;u(c,h,150,function(){e.$destroy(),e=null}),c=void 0,h=void 0}}function u(n,i,r,o){function s(){s.done||(s.done=!0,n.remove(),o&&o())}i.animate=!1;var a=e.transitionEndEventName;if(a){var l=t(s,r);n.bind(a,function(){t.cancel(l),s(),i.$apply()})}else t(s)}var c,h,d="modal-open",p=o.createNew(),f={};return r.$watch(s,function(e){h&&(h.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=p.top(),t&&t.value.keyboard&&(e.preventDefault(),r.$apply(function(){f.dismiss(t.key,"escape key press")})))}),f.open=function(e,t){p.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var o=n.find("body").eq(0),a=s();if(a>=0&&!c){h=r.$new(!0),h.index=a;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",t.backdropClass),c=i(l)(h),o.append(c)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:p.length()-1,animate:"animate"}).html(t.content);var f=i(u)(t.scope);p.top().value.modalDomEl=f,o.append(f),o.addClass(d)},f.close=function(e,t){var n=p.get(e);n&&(n.value.deferred.resolve(t),a(e))},f.dismiss=function(e,t){var n=p.get(e);n&&(n.value.deferred.reject(t),a(e))},f.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},f.getTop=function(){return p.top()},f}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,i,r,o,s,a){function l(e){return e.template?i.when(e.template):r.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:o}).then(function(e){return e.data})}function u(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var r=i.defer(),o=i.defer(),c={result:r.promise,opened:o.promise,close:function(e){a.close(c,e)},dismiss:function(e){a.dismiss(c,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=i.all([l(t)].concat(u(t.resolve)));return h.then(function(e){var i=(t.scope||n).$new();i.$close=c.close,i.$dismiss=c.dismiss;var o,l={},u=1;t.controller&&(l.$scope=i,l.$modalInstance=c,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),o=s(t.controller,l),t.controllerAs&&(i[t.controllerAs]=o)),a.open(c,{scope:i,deferred:r,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){r.reject(e)}),h.then(function(){o.resolve(!0)},function(){o.reject(!1)}),c},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){r=o,this.config=s,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);
return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function s(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],i=1,r=t,o=angular.isDefined(c)&&t>c;o&&(h?(i=Math.max(e-Math.floor(c/2),1),r=i+c-1,r>t&&(r=t,i=r-c+1)):(i=(Math.ceil(e/c)-1)*c+1,r=Math.min(i+c-1,t)));for(var a=i;r>=a;a++){var l=s(a,a,a===e);n.push(l)}if(o&&!h){if(i>1){var u=s(i-1,"...",!1);n.unshift(u)}if(t>r){var d=s(r+1,"...",!1);n.push(d)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,h=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,l.init(u,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){c=parseInt(e,10),l.render()});var d=l.render;l.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=a(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,r){var o=r[0],s=r[1];s&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,o.init(s,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,s,a,l,u){return function(r,c,h){function d(e){var t=e||p.trigger||h,i=n[t]||t;return{show:t,hide:i}}var p=angular.extend({},t,i),f=e(r),g=u.startSymbol(),m=u.endSymbol(),v="<div "+f+"-popup "+'title="'+g+"title"+m+'" '+'content="'+g+"content"+m+'" '+'placement="'+g+"placement"+m+'" '+'animation="animation" '+'is-open="isOpen"'+">"+"</div>";return{restrict:"EA",compile:function(){var e=o(v);return function(t,n,i){function o(){k.isOpen?h():u()}function u(){(!T||t.$eval(i[c+"Enable"]))&&(y(),k.popupDelay?_||(_=s(f,k.popupDelay,!1),_.then(function(e){e()})):f()())}function h(){t.$apply(function(){g()})}function f(){return _=null,S&&(s.cancel(S),S=null),k.content?(m(),x.css({top:0,left:0,display:"block"}),k.$digest(),D(),k.isOpen=!0,k.$digest(),D):angular.noop}function g(){k.isOpen=!1,s.cancel(_),_=null,k.animation?S||(S=s(v,500)):v()}function m(){x&&v(),A=k.$new(),x=e(A,function(e){E?a.find("body").append(e):n.after(e)})}function v(){S=null,x&&(x.remove(),x=null),A&&(A.$destroy(),A=null)}function y(){b(),w()}function b(){var e=i[c+"Placement"];k.placement=angular.isDefined(e)?e:p.placement}function w(){var e=i[c+"PopupDelay"],t=parseInt(e,10);k.popupDelay=isNaN(t)?p.popupDelay:t}function C(){var e=i[c+"Trigger"];F(),$=d(e),$.show===$.hide?n.bind($.show,o):(n.bind($.show,u),n.bind($.hide,h))}var x,A,S,_,E=angular.isDefined(p.appendToBody)?p.appendToBody:!1,$=d(void 0),T=angular.isDefined(i[c+"Enable"]),k=t.$new(!0),D=function(){var e=l.positionElements(n,x,k.placement,E);e.top+="px",e.left+="px",x.css(e)};k.isOpen=!1,i.$observe(r,function(e){k.content=e,!e&&k.isOpen&&g()}),i.$observe(c+"Title",function(e){k.title=e});var F=function(){n.unbind($.show,u),n.unbind($.hide,h)};C();var M=t.$eval(i[c+"Animation"]);k.animation=angular.isDefined(M)?!!M:p.animation;var R=t.$eval(i[c+"AppendToBody"]);E=angular.isDefined(R)?R:E,E&&t.$on("$locationChangeSuccess",function(){k.isOpen&&g()}),t.$on("$destroy",function(){s.cancel(S),s.cancel(_),F(),v(),k=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;t.select(n[o])}n.splice(r,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,i){return function(t,n,r,o){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,r.disabled&&t.$parent.$watch(e(r.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,r,o){function s(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t):void 0}function a(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function u(e){c(),f.$setViewValue(new Date(p)),h(e)}function c(){f.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function h(t){var n=p.getHours(),i=p.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),e.minutes="m"===t?i:l(i),e.meridian=p.getHours()<12?g[0]:g[1]}function d(e){var t=new Date(p.getTime()+6e4*e);p.setHours(t.getHours(),t.getMinutes()),u()}var p=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render;var r=i.eq(0),s=i.eq(1),a=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;a&&this.setupMousewheelEvents(r,s),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(r,s)};var m=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,f.$error.time){var n=s(),i=a();angular.isDefined(n)&&angular.isDefined(i)&&(p.setHours(n),u())}else h()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void 0;var i=function(t,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=s();angular.isDefined(e)?(p.setHours(e),u("h")):i(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=a();angular.isDefined(e)?(p.setMinutes(e),u("m")):i(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=f.$modelValue?new Date(f.$modelValue):null;isNaN(e)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(p=e),c(),h())},e.incrementHours=function(){d(60*m)},e.decrementHours=function(){d(60*-m)},e.incrementMinutes=function(){d(v)},e.decrementMinutes=function(){d(-v)},e.toggleMeridian=function(){d(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,r,o,s){var a=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,h){var d,p=l.$eval(c.typeaheadMinLength)||1,f=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=t(c.typeaheadLoading).assign||angular.noop,v=t(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):void 0,b=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,w=l.$eval(c.typeaheadFocusFirst)!==!1,C=t(c.ngModel).assign,x=s.parse(c.typeahead),A=l.$new();l.$on("$destroy",function(){A.$destroy()});var S="typeahead-"+A.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var _=angular.element("<div typeahead-popup></div>");_.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&_.attr("template-url",c.typeaheadTemplateUrl);var E=function(){A.matches=[],A.activeIdx=-1,u.attr("aria-expanded",!1)},$=function(e){return S+"-option-"+e};A.$watch("activeIdx",function(e){0>e?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",$(e))});var T=function(e){var t={$viewValue:e};m(l,!0),n.when(x.source(l,t)).then(function(n){var i=e===h.$viewValue;if(i&&d)if(n.length>0){A.activeIdx=w?0:-1,A.matches.length=0;for(var r=0;r<n.length;r++)t[x.itemName]=n[r],A.matches.push({id:$(r),label:x.viewMapper(A,t),model:n[r]});A.query=e,A.position=b?o.offset(u):o.position(u),A.position.top=A.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else E();i&&m(l,!1)},function(){E(),m(l,!1)})};E(),A.query=void 0;var k,D=function(e){k=i(function(){T(e)},f)},F=function(){k&&i.cancel(k)};h.$parsers.unshift(function(e){return d=!0,e&&e.length>=p?f>0?(F(),D(e)):T(e):(m(l,!1),F(),E()),g?e:e?(h.$setValidity("editable",!1),void 0):(h.$setValidity("editable",!0),e)}),h.$formatters.push(function(e){var t,n,i={};return y?(i.$model=e,y(l,i)):(i[x.itemName]=e,t=x.viewMapper(l,i),i[x.itemName]=void 0,n=x.viewMapper(l,i),t!==n?t:e)}),A.select=function(e){var t,n,r={};r[x.itemName]=n=A.matches[e].model,t=x.modelMapper(l,r),C(l,t),h.$setValidity("editable",!0),v(l,{$item:n,$model:t,$label:x.viewMapper(l,r)}),E(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){0!==A.matches.length&&-1!==a.indexOf(e.which)&&(-1!=A.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(A.activeIdx=(A.activeIdx+1)%A.matches.length,A.$digest()):38===e.which?(A.activeIdx=(A.activeIdx>0?A.activeIdx:A.matches.length)-1,A.$digest()):13===e.which||9===e.which?A.$apply(function(){A.select(A.activeIdx)}):27===e.which&&(e.stopPropagation(),E(),A.$digest()))}),u.bind("blur",function(){d=!1});var M=function(e){u[0]!==e.target&&(E(),A.$digest())};r.bind("click",M),l.$on("$destroy",function(){r.unbind("click",M),b&&R.remove()});var R=e(_)(A);b?r.find("body").append(R):u.after(R)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,o,s){var a=i(s.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e.get(a,{cache:t}).success(function(e){o.replaceWith(n(e.trim())(r))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')
}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],i=l(n,t.noop);return i.chars(e),n.join("")}function r(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function o(e,n){function i(e,i,o,a){if(i=t.lowercase(i),S[i])for(;b.last()&&_[b.last()];)r("",b.last());A[i]&&b.last()==i&&r("",i),a=w[i]||!!a,a||b.push(i);var l={};o.replace(d,function(e,t,n,i,r){var o=n||i||r||"";l[t]=s(o)}),n.start&&n.start(i,l,a)}function r(e,i){var r,o=0;if(i=t.lowercase(i))for(o=b.length-1;o>=0&&b[o]!=i;o--);if(o>=0){for(r=b.length-1;r>=o;r--)n.end&&n.end(b[r]);b.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,a,l,y,b=[],C=e;for(b.last=function(){return b[b.length-1]};e;){if(y="",a=!0,b.last()&&$[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(s(t)),""}),r("",b.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):m.test(e)?(l=e.match(m),l&&(e=e.replace(l[0],""),a=!1)):f.test(e)?(l=e.match(h),l&&(e=e.substring(l[0].length),l[0].replace(h,r),a=!1)):p.test(e)&&(l=e.match(c),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(c,i)),a=!1):(y+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),y+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(s(y)))),e==C)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);C=e}r()}function s(e){return e?(R.innerHTML=e.replace(/</g,"&lt;"),R.textContent):""}function a(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o,s){e=t.lowercase(e),!i&&$[e]&&(i=e),i||T[e]!==!0||(r("<"),r(e),t.forEach(o,function(i,o){var s=t.lowercase(o),l="img"===e&&"src"===s||"background"===s;M[s]!==!0||k[s]===!0&&!n(i,l)||(r(" "),r(o),r('="'),r(a(i)),r('"'))}),r(s?"/>":">"))},end:function(e){e=t.lowercase(e),i||T[e]!==!0||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(a(e))}}}var u=t.$$minErr("$sanitize"),c=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,f=/^<\//,g=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=r("area,br,col,hr,img,wbr"),C=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=r("rp,rt"),A=t.extend({},x,C),S=t.extend({},C,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),_=t.extend({},x,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),$=r("script,style"),T=t.extend({},w,S,_,A,E),k=r("background,cite,href,longdesc,src,usemap,xlink:href"),D=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),F=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),M=t.extend({},k,F,D),R=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,r=/^mailto:/;return function(o,s){function a(e){e&&p.push(i(e))}function l(e,n){p.push("<a "),t.isDefined(s)&&p.push('target="',s,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),a(n),p.push("</a>")}if(!o)return o;for(var u,c,h,d=o,p=[];u=d.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),h=u.index,a(d.substr(0,h)),l(c,u[0].replace(r,"")),d=d.substring(h+u[0].length);return a(d),e(p.join(""))}}])}(window,window.angular),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),i=function(){var i=e.preferredLanguage();angular.isString(i)?e.use(i):n.put(t,e.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](i):i():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,i=!1,r=!1;t={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=o(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=a(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=a(e,o)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return i=!0,n=e,this},this.$get=["$injector","$log",function(o,s){var a=function(e,n,i){return angular.forEach(i,function(i){if(angular.isFunction(i))e=i(e,n);else{if(!angular.isFunction(t[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");e=t[i](e,n)}}),e},l=function(){i||r||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),r=!0)};return o.has("$sanitize")&&(e=o.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,i){if(n||l(),arguments.length<3&&(i=n),!i)return e;var r=angular.isArray(i)?i:[i];return a(e,t,r)}}}];var o=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},a=function(e,t){if(angular.isObject(e)){var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,i){n[i]=a(e,t)}),n}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,i){"use strict";var r,o,s,a,l,u,c,h,d,p,f,g,m,v,y,b={},w=[],C=e,x=[],A="translate-cloak",S=!1,_=!1,E=".",$=0,T=!0,k="default",D={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},F="2.7.2",M=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var e,n,r=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(e=0;e<r.languages.length;e++)if(n=r.languages[e],n&&n.length)return n;for(e=0;e<o.length;e++)if(n=r[o[e]],n&&n.length)return n;return null};M.displayName="angular-translate/service: getFirstBrowserLanguage";var R=function(){var e=M()||"";return D[k]&&(e=D[k](e)),e};R.displayName="angular-translate/service: getLocale";var L=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},P=function(){return this.toString().replace(/^\s+|\s+$/g,"")},O=function(e){for(var t=[],n=angular.lowercase(e),i=0,r=w.length;r>i;i++)t.push(angular.lowercase(w[i]));if(L(t,n)>-1)return e;if(o){var s;for(var a in o){var l=!1,u=Object.prototype.hasOwnProperty.call(o,a)&&angular.lowercase(a)===angular.lowercase(e);if("*"===a.slice(-1)&&(l=a.slice(0,-1)===e.slice(0,a.length-1)),(u||l)&&(s=o[a],L(t,angular.lowercase(s))>-1))return s}}if(e){var c=e.split("_");if(c.length>1&&L(t,angular.lowercase(c[0]))>-1)return c[0]}return e},I=function(e,t){if(!e&&!t)return b;if(e&&!t){if(angular.isString(e))return b[e]}else angular.isObject(b[e])||(b[e]={}),angular.extend(b[e],B(t));return this};this.translations=I,this.cloakClassName=function(e){return e?(A=e,this):A};var B=function(e,t,n,i){var r,o,s,a;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(a=e[r],angular.isObject(a)?B(a,t.concat(r),n,r):(o=t.length?""+t.join(E)+E+r:r,t.length&&r===i&&(s=""+t.join(E),n[s]="@:"+o),n[o]=a));return n};B.displayName="flatObject",this.addInterpolation=function(e){return x.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return N(e),this};var N=function(e){return e&&(r=e),r};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return G(e),this};var G=function(e){return e?(angular.isString(e)?(a=!0,s=[e]):angular.isArray(e)&&(a=!1,s=e),angular.isString(r)&&L(s,r)<0&&s.push(r),this):a?s[0]:s};this.use=function(e){if(e){if(!b[e]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l};var H=function(e){return e?(C=e,this):h?h+C:C};this.storageKey=H,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return f=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(h=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return d=e,this},this.usePostCompiling=function(e){return S=!!e,this},this.forceAsyncReload=function(e){return _=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},k=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():R();return r=w.length?O(t):t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(w=e,t&&(o=t),this):w},this.useLoaderCache=function(e){return e===!1?y=void 0:e===!0?y=!0:"undefined"==typeof e?y="$translationCache":e&&(y=e),this},this.directivePriority=function(e){return void 0===e?$:($=e,this)},this.statefulFilter=function(e){return void 0===e?T:(T=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,i){var o,h,w,E=t.get(p||"$translateDefaultInterpolation"),k=!1,D={},M={},R=function(e,t,n,a){if(angular.isArray(e)){var u=function(e){for(var r={},o=[],s=function(e){var o=i.defer(),s=function(t){r[e]=t,o.resolve([e,t])};return R(e,t,n,a).then(s,s),o.promise},l=0,u=e.length;u>l;l++)o.push(s(e[l]));return i.all(o).then(function(){return r})};return u(e)}var d=i.defer();e&&(e=P.apply(e));var p=function(){var e=r?M[r]:M[l];if(h=0,c&&!e){var t=o.get(C);if(e=M[t],s&&s.length){var n=L(s,t);h=0===n?1:0,L(s,r)<0&&s.push(r)}}return e}();if(p){var f=function(){et(e,t,n,a).then(d.resolve,d.reject)};f.displayName="promiseResolved",p["finally"](f,d.reject)}else et(e,t,n,a).then(d.resolve,d.reject);return d.promise},V=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},U=function(e){l=e,n.$emit("$translateChangeSuccess",{language:e}),c&&o.put(R.storageKey(),l),E.setLocale(l);var t=function(e,t){D[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(D,t),n.$emit("$translateChangeEnd",{language:e})},z=function(e){if(!e)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:e}),k=!0;var o=y;"string"==typeof o&&(o=t.get(o));var s=angular.extend({},g,{key:e,$http:angular.extend({},{cache:o},g.$http)}),a=function(t){var i={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(i,B(e))}):angular.extend(i,B(t)),k=!1,r.resolve({key:e,table:i}),n.$emit("$translateLoadingEnd",{language:e})};a.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),r.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(f)(s).then(a,l),r.promise};if(c&&(o=t.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(x.length){var W=function(e){var n=t.get(e);n.setLocale(r||l),D[n.getInterpolationIdentifier()]=n};W.displayName="interpolationFactoryAdder",angular.forEach(x,W)}var j=function(e){var t=i.defer();if(Object.prototype.hasOwnProperty.call(b,e))t.resolve(b[e]);else if(M[e]){var n=function(e){I(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",M[e].then(n,t.reject)}else t.reject();return t.promise},q=function(e,t,n,r){var o=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,t)){r.setLocale(e);var s=i[t];"@:"===s.substr(0,2)?q(e,s.substr(2),n,r).then(o.resolve,o.reject):o.resolve(r.interpolate(i[t],n)),r.setLocale(l)}else o.reject()};return s.displayName="fallbackTranslationResolver",j(e).then(s,o.reject),o.promise},K=function(e,t,n,i){var r,o=b[e];if(o&&Object.prototype.hasOwnProperty.call(o,t)){if(i.setLocale(e),r=i.interpolate(o[t],n),"@:"===r.substr(0,2))return K(e,r.substr(2),n,i);i.setLocale(l)}return r},Y=function(e,n){if(d){var i=t.get(d)(e,l,n);return void 0!==i?i:e}return e},X=function(e,t,n,r,o){var a=i.defer();if(e<s.length){var l=s[e];q(l,t,n,r).then(a.resolve,function(){X(e+1,t,n,r,o).then(a.resolve)})}else o?a.resolve(o):a.resolve(Y(t,n));return a.promise},Z=function(e,t,n,i){var r;if(e<s.length){var o=s[e];r=K(o,t,n,i),r||(r=Z(e+1,t,n,i))}return r},J=function(e,t,n,i){return X(w>0?w:h,e,t,n,i)},Q=function(e,t,n){return Z(w>0?w:h,e,t,n)},et=function(e,t,n,r){var o=i.defer(),a=l?b[l]:b,u=n?D[n]:E;if(a&&Object.prototype.hasOwnProperty.call(a,e)){var c=a[e];"@:"===c.substr(0,2)?R(c.substr(2),t,n,r).then(o.resolve,o.reject):o.resolve(u.interpolate(c,t))}else{var h;d&&!k&&(h=Y(e,t)),l&&s&&s.length?J(e,t,u,r).then(function(e){o.resolve(e)},function(e){o.reject(V(e))}):d&&!k&&h?r?o.resolve(r):o.resolve(h):r?o.resolve(r):o.reject(V(e))}return o.promise},tt=function(e,t,n){var i,r=l?b[l]:b,o=E;if(D&&Object.prototype.hasOwnProperty.call(D,n)&&(o=D[n]),r&&Object.prototype.hasOwnProperty.call(r,e)){var a=r[e];i="@:"===a.substr(0,2)?tt(a.substr(2),t,n):o.interpolate(a,t)}else{var u;d&&!k&&(u=Y(e,t)),l&&s&&s.length?(h=0,i=Q(e,t,o)):i=d&&!k&&u?u:V(e)}return i},nt=function(e){u===e&&(u=void 0),M[e]=void 0};if(R.preferredLanguage=function(e){return e&&N(e),r},R.cloakClassName=function(){return A},R.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(G(e),f&&s&&s.length)for(var t=0,n=s.length;n>t;t++)M[s[t]]||(M[s[t]]=z(s[t]));R.use(R.use())}return a?s[0]:s},R.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=L(s,e);t>-1&&(w=t)}else w=0},R.proposedLanguage=function(){return u},R.storage=function(){return o},R.use=function(e){if(!e)return l;var t=i.defer();n.$emit("$translateChangeStart",{language:e});var r=O(e);return r&&(e=r),!_&&b[e]||!f||M[e]?u===e&&M[e]?M[e].then(function(e){return t.resolve(e.key),e},function(e){return t.reject(e),i.reject(e)}):(t.resolve(e),U(e)):(u=e,M[e]=z(e).then(function(e){return I(e.key,e.table),t.resolve(e.key),U(e.key),e},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),i.reject(e)}),M[e]["finally"](function(){nt(e)})),t.promise},R.storageKey=function(){return H()},R.isPostCompilingEnabled=function(){return S},R.isForceAsyncReloadEnabled=function(){return _},R.refresh=function(e){function t(){o.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function r(){o.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");var o=i.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(b[e]){var a=function(n){I(n.key,n.table),e===l&&U(l),t()};a.displayName="refreshPostProcessor",z(e).then(a,r)}else r();else{var u=[],c={};if(s&&s.length)for(var h=0,d=s.length;d>h;h++)u.push(z(s[h])),c[s[h]]=!0;l&&!c[l]&&u.push(z(l));var p=function(e){b={},angular.forEach(e,function(e){I(e.key,e.table)}),l&&U(l),t()};p.displayName="refreshPostProcessor",i.all(u).then(p,r)}return o.promise},R.instant=function(e,t,n){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var i={},o=0,a=e.length;a>o;o++)i[e[o]]=R.instant(e[o],t,n);return i}if(angular.isString(e)&&e.length<1)return e;e&&(e=P.apply(e));var u,c=[];r&&c.push(r),l&&c.push(l),s&&s.length&&(c=c.concat(s));for(var h=0,p=c.length;p>h;h++){var f=c[h];if(b[f]&&("undefined"!=typeof b[f][e]?u=tt(e,t,n):(m||v)&&(u=V(e))),"undefined"!=typeof u)break}return u||""===u||(u=E.interpolate(e,t),d&&!k&&(u=Y(e,t))),u},R.versionInfo=function(){return F},R.loaderCache=function(){return y},R.directivePriority=function(){return $},R.statefulFilter=function(){return T},f&&(angular.equals(b,{})&&R.use(R.use()),s&&s.length))for(var it=function(e){return I(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},rt=0,ot=s.length;ot>rt;rt++){var st=s[rt];(_||!b[st])&&(M[st]=z(st).then(it))}return R}]}function i(e,t){"use strict";var n,i={},r="default";return i.setLocale=function(e){n=e},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},i.interpolate=function(n,i){i=i||{},i=t.sanitize(i,"params");var r=e(n)(i);return r=t.sanitize(r,"text")},i}function r(e,t,n,i,r,o){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,a){var l=a.translateValues?a.translateValues:void 0,u=a.translateInterpolation?a.translateInterpolation:void 0,c=t[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,p,f){t.interpolateParams={},t.preText="",t.postText="";var g={},m=function(e,n,i){if(n.translateValues&&angular.extend(e,r(n.translateValues)(t.$parent)),c)for(var o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var s=angular.lowercase(o.substr(14,1))+o.substr(15);e[s]=i[o]}},v=function(e){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var i=s.apply(p.text()).match(h);if(angular.isArray(i)){t.preText=i[1],t.postText=i[3],g.translate=n(i[2])(t.$parent);var r=p.text().match(d);angular.isArray(r)&&r[2]&&r[2].length&&(v._unwatchOld=t.$watch(r[2],function(e){g.translate=e,A()}))}else g.translate=p.text().replace(/^\s+|\s+$/g,"")}else g.translate=e;A()},y=function(e){f.$observe(e,function(t){g[e]=t,A()})};m(t.interpolateParams,f,a);var b=!0;f.$observe("translate",function(e){"undefined"==typeof e?v(""):""===e&&b||(g.translate=e,A()),b=!1});for(var w in f)f.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&y(w);if(f.$observe("translateDefault",function(e){t.defaultText=e}),l&&f.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,r(e)(t.$parent))})}),c){var C=function(e){f.$observe(e,function(n){var i=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[i]=n})};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&C(x)}var A=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&S(e,g[e],t,t.interpolateParams,t.defaultText)},S=function(t,n,i,r,o){n?e(n,r,u,o).then(function(e){_(e,i,!0,t)},function(e){_(e,i,!1,t)}):_(n,i,!1,t)},_=function(t,n,r,o){if("translate"===o){r||"undefined"==typeof n.defaultText||(t=n.defaultText),p.html(n.preText+t+n.postText);var s=e.isPostCompilingEnabled(),l="undefined"!=typeof a.translateCompile,u=l&&"false"!==a.translateCompile;(s&&!l||u)&&i(p.contents())(n)}else{r||"undefined"==typeof n.defaultText||(t=n.defaultText);var c=f.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),p.attr(c,t)}};(l||c||f.translateDefault)&&t.$watch("interpolateParams",A,!0);var E=o.$on("$translateChangeSuccess",A);p.text().length?f.translate?v(f.translate):v(""):f.translate&&v(f.translate),A(),t.$on("$destroy",E)}}}}function o(e,t){"use strict";return{compile:function(n){var i=function(){n.addClass(t.cloakClassName())},r=function(){n.removeClass(t.cloakClassName())},o=e.$on("$translateChangeEnd",function(){r(),o(),o=null});return i(),function(e,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(e){t(e).then(r,i)})}}}}function s(e,t){"use strict";var n=function(n,i,r){return angular.isObject(i)||(i=e(i)(this)),t.instant(n,i,r)};return t.statefulFilter()&&(n.$stateful=!0),n}function a(e){"use strict";return e("translations")}return angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.$inject=["$interpolate","$translateSanitization"],i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$rootScope","$translate"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",s),s.$inject=["$parse","$translate"],s.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",a),a.$inject=["$cacheFactory"],a.displayName="$translationCache","pascalprecht.translate"}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=e(o);t&&t.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),s="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()
}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var r="prev"==e?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,r),s=this.interval,a="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=e.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),t.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],'+'[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?(this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION),void 0):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var o=t(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(r).remove(),e(o).each(function(){var i=e(this),r=t(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.5",s.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=t(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=t(i),s=r.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof t?o[t](i):s.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?(this.ignoreBackdropClick=!1,void 0):(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()),void 0)},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?(n.hoverState="in",void 0):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+d>f.bottom?"top":"top"==a&&c.top-d<f.top?"bottom":"right"==a&&c.right+h>f.width?"left":"left"==a&&c.left-h<f.left?"right":a,o.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,c,h,d);this.applyPlacement(g,a);var m=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top+=s,t.left+=a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(n),d=h?2*c.left-r+l:2*c.top-o+u,p=h?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll,l=t.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=t.left-o,c=t.left+o+n;u<s.left?r.left=s.left-u:c>s.right&&(r.left=s.left+s.width-c)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return s!=(e=o[o.length-1])&&this.activate(e);if(s&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)s!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=e(i);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&e.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":e-i>=r+s?!1:"bottom";var a=null==this.affixed,l=a?r:o.top,u=a?s:t;return null!=n&&n>=r?"top":null!=i&&l+u>=e-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,t,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){for(var t in e)return!1;return t=null,!0}function i(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()
})}function r(e,r,o){function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=o("transition"),u=o("transform"),c=l&&u,h=!!o("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var e={},t=0,n=p.length;n>t;t++){var i=p[t],r=o(i);r&&r!==i&&(e[i]=r)}return e}();t(a.prototype,e.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getSize=function(){this.size=r(this.element)},a.prototype.css=function(e){var t=this.element.style;for(var n in e){var i=f[n]||n;t[i]=e[n]}},a.prototype.getPosition=function(){var e=s(this.element),t=this.layout.options,n=t.isOriginLeft,i=t.isOriginTop,r=parseInt(e[n?"left":"right"],10),o=parseInt(e[i?"top":"bottom"],10);r=isNaN(r)?0:r,o=isNaN(o)?0:o;var a=this.layout.size;r-=n?a.paddingLeft:a.paddingRight,o-=i?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=o},a.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var g=h?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};a.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(e,10),o=parseInt(t,10),s=r===this.position.x&&o===this.position.y;if(this.setPosition(e,t),s&&!this.isTransitioning)return this.layoutPosition(),void 0;var a=e-n,l=t-i,u={},c=this.layout.options;a=c.isOriginLeft?a:-a,l=c.isOriginTop?l:-l,u.transform=g(a,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},a.prototype.moveTo=c?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},a.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},a.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(e),void 0;var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var i=this.element.offsetHeight;i=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var m=u&&i(u)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},a.prototype.onotransitionend=function(e){this.ontransitionend(e)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=v[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],n(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd){var r=t.onEnd[i];r.call(this),delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var o=e.getComputedStyle,s=o?function(e){return o(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(e.Outlayer={},e.Outlayer.Item=r(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===h.call(e)}function i(e){var t=[];if(n(e))t=e;else if(e&&"number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,t){var n=p(t,e);-1!==n&&t.splice(n,1)}function o(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function s(n,s,h,p,f,g){function m(e,n){if("string"==typeof e&&(e=a.querySelector(e)),!e||!d(e))return l&&l.error("Bad "+this.constructor.namespace+" element: "+e),void 0;this.element=e,this.options=t({},this.constructor.defaults),this.option(n);var i=++v;this.element.outlayerGUID=i,y[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return m.namespace="outlayer",m.Item=g,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(m.prototype,h.prototype),m.prototype.option=function(e){t(this.options,e)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],r=0,o=t.length;o>r;r++){var s=t[r],a=new n(s,this);i.push(a)}return i},m.prototype._filterFindItemElements=function(e){e=i(e);for(var t=this.options.itemSelector,n=[],r=0,o=e.length;o>r;r++){var s=e[r];if(d(s))if(t){f(s,t)&&n.push(s);for(var a=s.querySelectorAll(t),l=0,u=a.length;u>l;l++)n.push(a[l])}else n.push(s)}return n},m.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=p(this.element)},m.prototype._getMeasurement=function(e,t){var n,i=this.options[e];i?("string"==typeof i?n=this.element.querySelector(i):d(i)&&(n=i),this[e]=n?p(n)[t]:i):this[e]=0},m.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},m.prototype._getItemsForLayout=function(e){for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n];r.isIgnored||t.push(r)}return t},m.prototype._layoutItems=function(e,t){function n(){i.emitEvent("layoutComplete",[i,e])}var i=this;if(!e||!e.length)return n(),void 0;this._itemsOn(e,"layout",n);for(var r=[],o=0,s=e.length;s>o;o++){var a=e[o],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=t||a.isLayoutInstant,r.push(l)}this._processLayoutQueue(r)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var i=e[t];this._positionItem(i.item,i.x,i.y,i.isInstant)}},m.prototype._positionItem=function(e,t,n,i){i?e.goTo(t,n):e.moveTo(t,n)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},m.prototype._getContainerSize=c,m.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},m.prototype._itemsOn=function(e,t,n){function i(){return r++,r===o&&n.call(s),!0}for(var r=0,o=e.length,s=this,a=0,l=e.length;l>a;a++){var u=e[a];u.on(t,i)}},m.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},m.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},m.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var i=e[t];this.ignore(i)}}},m.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var i=e[t];r(i,this.stamps),this.unignore(i)}},m.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i(e)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},m.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},m.prototype._manageStamp=c,m.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,i=p(e),r={left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom};return r},m.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},m.prototype.bindResize=function(){this.isResizeBound||(n.bind(e,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(e,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var e=p(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},m.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},m.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},m.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var i=e[n];i.reveal()}},m.prototype.hide=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var i=e[n];i.hide()}},m.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var i=this.items[t];if(i.element===e)return i}},m.prototype.getItems=function(e){if(e&&e.length){for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n],o=this.getItem(r);o&&t.push(o)}return t}},m.prototype.remove=function(e){e=i(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,o=t.length;o>n;n++){var s=t[n];s.remove(),r(s,this.items)}}},m.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var i=this.items[t];i.destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete y[r],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},m.data=function(e){var t=e&&e.outlayerGUID;return t&&y[t]},m.create=function(e,n){function i(){m.apply(this,arguments)}return Object.create?i.prototype=Object.create(m.prototype):t(i.prototype,m.prototype),i.prototype.constructor=i,i.defaults=t({},m.defaults),t(i.defaults,n),i.prototype.settings={},i.namespace=e,i.data=m.data,i.Item=function(){g.apply(this,arguments)},i.Item.prototype=new g,s(function(){for(var t=o(e),n=a.querySelectorAll(".js-"+t),r="data-"+t+"-options",s=0,c=n.length;c>s;s++){var h,d=n[s],p=d.getAttribute(r);try{h=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+r+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+f);continue}var g=new i(d,h);u&&u.data(d,e,g)}}),u&&u.bridget&&u.bridget(e,i),i},m.Item=g,m}var a=e.document,l=e.console,u=e.jQuery,c=function(){},h=Object.prototype.toString,d="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},p=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1};"function"==typeof define&&define.amd?define(["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):"object"==typeof exports?module.exports=s(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):e.Outlayer=s(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(i.original=t.define,t.define=i,t.define.packaged=!0),t.require&&t.require.packaged||(o.original=t.require,t.require=o,t.require.packaged=!0)}var t="ace",n=function(){return this}();if(!n&&"undefined"!=typeof window&&(n=window),t||"undefined"==typeof requirejs){var i=function(e,t,n){return"string"!=typeof e?(i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()),void 0):(2==arguments.length&&(n=t),i.modules[e]||(i.payloads[e]=n,i.modules[e]=null),void 0)};i.modules={},i.payloads={};var r=function(e,t,n){if("string"==typeof t){var i=a(e,t);if(void 0!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var r=[],s=0,l=t.length;l>s;++s){var u=a(e,t[s]);if(void 0==u&&o.original)return;r.push(u)}return n&&n.apply(null,r)||!0}},o=function(e,t){var n=r("",e,t);return void 0==n&&o.original?o.original.apply(this,arguments):n},s=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return s(e,n[0])+"!"+s(e,n[1])}if("."==t.charAt(0)){var i=e.split("/").slice(0,-1).join("/");for(t=i+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=s(e,t);var n=i.modules[t];if(!n){if(n=i.payloads[t],"function"==typeof n){var o={},a={id:t,uri:"",exports:o,packaged:!0},l=function(e,n){return r(t,e,n)},u=n(l,o,a);o=u||a.exports,i.modules[t]=o,delete i.payloads[t]}n=i.modules[t]=o||n}return n};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function e(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function t(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===n.exec.call(/()??/,"")[1],r=function(){var e=/^/g;return n.test.call(e,""),!e.lastIndex}();r&&i||(RegExp.prototype.exec=function(o){var s,a,l=n.exec.apply(this,arguments);if("string"==typeof o&&l){if(!i&&l.length>1&&t(l,"")>-1&&(a=RegExp(this.source,n.replace.call(e(this),"g","")),n.replace.call(o.slice(l.index),a,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var u=1;u<l.length;u++)s=this._xregexp.captureNames[u-1],s&&(l[s]=l[u]);!r&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},r||(RegExp.prototype.test=function(e){var t=n.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function e(){}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function n(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=h.call(arguments,1),r=function(){if(this instanceof r){var e=n.apply(this,i.concat(h.call(arguments)));return Object(e)===e?e:this}return n.apply(t,i.concat(h.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,r.prototype=new e,e.prototype=null),r});var i,r,o,s,a,l=Function.prototype.call,u=Array.prototype,c=Object.prototype,h=u.slice,d=l.bind(c.toString),p=l.bind(c.hasOwnProperty);if((a=p(c,"__defineGetter__"))&&(i=l.bind(c.__defineGetter__),r=l.bind(c.__defineSetter__),o=l.bind(c.__lookupGetter__),s=l.bind(c.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];return n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()){var f=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?f.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(h.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:0>e&&(e=Math.max(n+e,0)),n>e+t||(t=n-e);var i=this.slice(e,e+t),r=h.call(arguments,2),o=r.length;if(e===n)o&&this.push.apply(this,r);else{var s=Math.min(t,n-e),a=e+s,l=a+o-s,u=n-a,c=n-s;if(a>l)for(var d=0;u>d;++d)this[l+d]=this[a+d];else if(l>a)for(d=u;d--;)this[l+d]=this[a+d];if(o&&e===c)this.length=c,this.push.apply(this,r);else for(this.length=c+o,d=0;o>d;++d)this[e+d]=r[d]}return i};Array.isArray||(Array.isArray=function(e){return"[object Array]"==d(e)});var g=Object("a"),m="a"!=g[0]||!(0 in g);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=R(this),n=m&&"[object String]"==d(this)?this.split(""):t,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=d(e))throw new TypeError;for(;++r<o;)r in n&&e.call(i,n[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=R(this),n=m&&"[object String]"==d(this)?this.split(""):t,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=d(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)s in n&&(r[s]=e.call(o,n[s],s,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=R(this),i=m&&"[object String]"==d(this)?this.split(""):n,r=i.length>>>0,o=[],s=arguments[1];if("[object Function]"!=d(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)a in i&&(t=i[a],e.call(s,t,a,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=R(this),n=m&&"[object String]"==d(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(e))throw new TypeError(e+" is not a function");for(var o=0;i>o;o++)if(o in n&&!e.call(r,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=R(this),n=m&&"[object String]"==d(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(e))throw new TypeError(e+" is not a function");for(var o=0;i>o;o++)if(o in n&&e.call(r,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=R(this),n=m&&"[object String]"==d(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=d(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>o;o++)o in n&&(r=e.call(void 0,r,n[o],o,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=R(this),n=m&&"[object String]"==d(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=d(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(r=e.call(void 0,r,n[o],o,t));while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=m&&"[object String]"==d(this)?this.split(""):R(this),i=t.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=n(arguments[1])),r=r>=0?r:Math.max(0,i+r);i>r;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=m&&"[object String]"==d(this)?this.split(""):R(this),i=t.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,n(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:c)}),!Object.getOwnPropertyDescriptor){var v="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(v+e);if(p(e,t)){var n,i,r;if(n={enumerable:!0,configurable:!0},a){var l=e.__proto__;e.__proto__=c;var i=o(e,t),r=s(e,t);if(e.__proto__=l,i||r)return i&&(n.get=i),r&&(n.set=r),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var y;y=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=y();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,n=new i,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var b=t({}),w="undefined"==typeof document||t(document.createElement("div"));if(!b||!w)var C=Object.defineProperty}if(!Object.defineProperty||C){var x="Property description must be an object: ",A="Object.defineProperty called on non-object: ",S="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(A+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(x+n);if(C)try{return C.call(Object,e,t,n)}catch(l){}if(p(n,"value"))if(a&&(o(e,t)||s(e,t))){var u=e.__proto__;e.__proto__=c,delete e[t],e[t]=n.value,e.__proto__=u}else e[t]=n.value;else{if(!a)throw new TypeError(S);p(n,"get")&&i(e,t,n.get),p(n,"set")&&r(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)p(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(_){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";p(e,t);)t+="?";e[t]=!0;var n=p(e,t);return delete e[t],n}),!Object.keys){var E=!0,$=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],T=$.length;for(var k in{toString:null})E=!1;Object.keys=function L(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var L=[];for(var t in e)p(e,t)&&L.push(t);if(E)for(var n=0,i=T;i>n;n++){var r=$[n];p(e,r)&&L.push(r)}return L}}Date.now||(Date.now=function(){return(new Date).getTime()});var D="	\n\f\r \u2028\u2029";if(!String.prototype.trim||D.trim()){D="["+D+"]";var F=new RegExp("^"+D+D+"*"),M=new RegExp(D+D+"*$");String.prototype.trim=function(){return String(this).replace(F,"").replace(M,"")}}var R=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t){"use strict";var n="http://www.w3.org/1999/xhtml";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className||"").split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,i,r){if(r=r||document,i&&t.hasCssString(i,r))return null;var o;r.createStyleSheet?(o=r.createStyleSheet(),o.cssText=e,i&&(o.owningElement.id=i)):(o=r.createElementNS?r.createElementNS(n,"style"):r.createElement("style"),o.appendChild(r.createTextNode(e)),i&&(o.id=i),t.getDocumentHead(r).appendChild(o))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e,t.getDocumentHead(n).appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},"undefined"!=typeof document&&(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),t.computedStyle=window.getComputedStyle?function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow})}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t){"use strict";e("./fixoldbrowsers");var n=e("./oop"),i=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i["return"],i.escape=i.esc,i.del=i["delete"],i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS
},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((i.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t,n){var l=o(t);if(!r.isMac&&s){if((s[91]||s[92])&&(l|=8),s.altGr){if(3==(3&l))return;s.altGr=0}if(18===n||17===n){var u="location"in t?t.location:t.keyLocation;if(17===n&&1===u)1==s[n]&&(a=t.timeStamp);else if(18===n&&3===l&&2===u){var c=t.timestamp-a;50>c&&(s.altGr=!0)}}}if(n in i.MODIFIER_KEYS&&(n=-1),8&l&&(91===n||93===n)&&(n=-1),!l&&13===n){var u="location"in t?t.location:t.keyLocation;if(3===u&&(e(t,l,-n),t.defaultPrevented))return}if(r.isChromeOS&&8&l){if(e(t,l,n),t.defaultPrevented)return;l&=-9}return l||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?e(t,l,n):!1}var i=e("./keys"),r=e("./useragent");t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n.call(e,window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n),void 0)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||r.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,i){function r(e){n&&n(e),i&&i(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",r,!0),t.removeListener(document,"dragstart",r,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",r,!0),t.addListener(document,"dragstart",r,!0),r},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,i,o){var s,a,l,u=0,c={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){if(0!==t.getButton(e)?u=0:e.detail>1?(u++,u>4&&(u=1)):u=1,r.isIE){var h=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-a)>5;(!l||h)&&(u=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},n[u-1]||600),1==u&&(s=e.clientX,a=e.clientY)}if(e._clicks=u,i[o]("mousedown",e),u>4)u=0;else if(u>1)return i[o](c[u],e)}),r.isOldIE&&t.addListener(e,"dblclick",function(e){u=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[u-1]||600),i[o]("mousedown",e),i[o](c[u],e)})};var o=!r.isMac||!r.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};t.getModifierString=function(e){return i.KEY_MODS[o(e)]};var s=null,a=0;if(t.addCommandKeyListener=function(e,i){var o=t.addListener;if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var a=null;o(e,"keydown",function(e){a=e.keyCode}),o(e,"keypress",function(e){return n(i,e,a)})}else{var l=null;o(e,"keydown",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=n(i,e,e.keyCode);return l=e.defaultPrevented,t}),o(e,"keypress",function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),o(e,"keyup",function(e){s[e.keyCode]=null}),s||(s=Object.create(null),o(window,"focus",function(){s=Object.create(null)}))}},window.postMessage&&!r.isOldIE){var l=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+l;t.addListener(n,"message",function r(o){o.data==i&&(t.stopPropagation(o),t.removeListener(n,"message",r),e())}),n.postMessage(i,"*")}}t.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var n=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=function(e){if("object"!=typeof e||!e)return e;var n=e.constructor;if(n===RegExp)return e;var i=n();for(var r in e)i[r]="object"==typeof e[r]?t.deepCopy(e[r]):e[r];return i},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=e("../lib/dom"),o=e("../lib/lang"),s=i.isChrome<18,a=i.isIE,l=function(e,t){function l(e){if(!g){if(g=!0,T)t=0,n=e?0:h.value.length-1;else var t=e?2:1,n=2;try{h.setSelectionRange(t,n)}catch(i){}g=!1}}function u(){g||(h.value=d,i.isWebKit&&C.schedule())}function c(){clearTimeout(H),H=setTimeout(function(){m&&(h.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},i.isOldIE?200:0)}var h=r.createElement("textarea");h.className="ace_text-input",i.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",i.isOldIE&&(h.style.top="-1000px"),e.insertBefore(h,e.firstChild);var d="",p=!1,f=!1,g=!1,m="",v=!0;try{var y=document.activeElement===h}catch(b){}n.addListener(h,"blur",function(e){t.onBlur(e),y=!1}),n.addListener(h,"focus",function(e){y=!0,t.onFocus(e),l()}),this.focus=function(){return m?h.focus():(h.style.position="fixed",h.style.top="-1000px",h.focus(),setTimeout(function(){h.style.position=""},0),void 0)},this.blur=function(){h.blur()},this.isFocused=function(){return y};var w=o.delayedCall(function(){y&&l(v)}),C=o.delayedCall(function(){g||(h.value=d,y&&l())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,w.schedule())}),u(),y&&t.onFocus();var x=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},x=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?t.text==e.value:!1}),i.isOldIE){var A=!1,S=function(e){if(!A){var t=h.value;if(!g&&t&&t!=d)return e&&t==d[0]?_.schedule():(D(t),A=!0,u(),A=!1,void 0)}},_=o.delayedCall(S);n.addListener(h,"propertychange",S);var E={13:1,27:1};n.addListener(h,"keyup",function(e){return g&&(!h.value||E[e.keyCode])&&setTimeout(N,0),(h.value.charCodeAt(0)||0)<129?_.call():(g?B():I(),void 0)}),n.addListener(h,"keydown",function(){_.schedule(50)})}var $=function(){p?p=!1:x(h)?(t.selectAll(),l()):T&&l(t.selection.isEmpty())},T=null;this.setInputHandler=function(e){T=e},this.getInputHandler=function(){return T};var k=!1,D=function(e){T&&(e=T(e),T=null),f?(l(),e&&t.onPaste(e),f=!1):e==d.charAt(0)?k?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),k&&(k=!1)},F=function(){if(!g){var e=h.value;D(e),u()}},M=function(e,t){var n=e.clipboardData||window.clipboardData;if(n&&!s){var i=a?"Text":"text/plain";return t?n.setData(i,t)!==!1:n.getData(i)}},R=function(e,i){var r=t.getCopyText();return r?(M(e,r)?(i?t.onCut():t.onCopy(),n.preventDefault(e)):(p=!0,h.value=r,h.select(),setTimeout(function(){p=!1,u(),l(),i?t.onCut():t.onCopy()})),void 0):n.preventDefault(e)},L=function(e){R(e,!0)},P=function(e){R(e,!1)},O=function(e){var r=M(e);"string"==typeof r?(r&&t.onPaste(r),i.isIE&&setTimeout(l),n.preventDefault(e)):(h.value="",f=!0)};n.addCommandKeyListener(h,t.onCommandKey.bind(t)),n.addListener(h,"select",$),n.addListener(h,"input",F),n.addListener(h,"cut",L),n.addListener(h,"copy",P),n.addListener(h,"paste",O),!("oncut"in h&&"oncopy"in h&&"onpaste"in h||!n.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:P(e);break;case 86:O(e);break;case 88:L(e)}}));var I=function(){g||!t.onCompositionStart||t.$readOnly||(g={},t.onCompositionStart(),setTimeout(B,0),t.on("mousedown",N),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},B=function(){if(g&&t.onCompositionUpdate&&!t.$readOnly){var e=h.value.replace(/\x01/g,"");if(g.lastValue!==e&&(t.onCompositionUpdate(e),g.lastValue&&t.undo(),g.lastValue=e,g.lastValue)){var n=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},N=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=g;g=!1;var i=setTimeout(function(){i=null;var e=h.value.replace(/\x01/g,"");g||(e==n.lastValue?u():!n.lastValue&&e&&(u(),D(e)))});T=function(e){return i&&clearTimeout(i),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&i&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",N),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)}},G=o.delayedCall(B,50);n.addListener(h,"compositionstart",I),i.isGecko?n.addListener(h,"text",function(){G.schedule()}):(n.addListener(h,"keyup",function(){G.schedule()}),n.addListener(h,"keydown",function(){G.schedule()})),n.addListener(h,"compositionend",N),this.getElement=function(){return h},this.setReadOnly=function(e){h.readOnly=e},this.onContextMenu=function(e){k=!0,l(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){if(o||!i.isOldIE){m||(m=h.style.cssText),h.style.cssText=(o?"z-index:100000;":"")+"height:"+h.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),a=r.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-h.clientHeight-2,p=function(e){h.style.left=e.clientX-u-2+"px",h.style.top=Math.min(e.clientY-l-2,d)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),i.isWin&&!i.isOldIE&&n.capture(t.container,p,c))}},this.onContextMenuClose=c;var H,V=function(e){t.textInput.onContextMenu(e),c()};n.addListener(t.renderer.scroller,"contextmenu",V),n.addListener(h,"contextmenu",V)};t.TextInput=l}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function r(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return 0>n?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);!function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();if(0!==r){var o=i.getSelectionRange(),s=o.isEmpty();return i.$blockScrolling++,s&&i.selection.moveToPosition(n),i.$blockScrolling--,i.textInput.onContextMenu(e.domEvent),void 0}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),this.captureMouse(e),void 0)},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var o=r(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&0>=a)t=this.$clickSelection.end,(o.end.row!=i.row||o.end.column!=i.column)&&(i=o.start);else if(1==a&&s>=0)t=this.$clickSelection.start,(o.start.row!=i.row||o.start.column!=i.column)&&(i=o.end);else if(-1==s&&1==a)i=o.end,t=o.start;else{var l=r(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>o||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor,r=i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return r||200>n?(this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}.call(n.prototype),t.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var i=(e("./lib/oop"),e("./lib/dom"));!function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}.call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t){"use strict";function n(e){function t(){var t=h.getDocumentPosition().row,i=l.$annotations[t];if(!i)return n();var r=a.session.getLength();if(t==r){var s=a.renderer.pixelToScreenCoordinates(0,h.y).row,c=h.$pos;if(s>a.session.documentToScreenRow(c.row,c.column))return n()}if(d!=i)if(d=i.text.join("<br/>"),u.setHtml(d),u.show(),a.on("mousewheel",n),e.$tooltipFollowsMouse)o(h);else{var p=l.$cells[a.session.documentToScreenRow(t,0)].element,f=p.getBoundingClientRect(),g=u.getElement().style;g.left=f.right+"px",g.top=f.bottom+"px"}}function n(){c&&(c=clearTimeout(c)),d&&(u.hide(),d=null,a.removeEventListener("mousewheel",n))}function o(e){u.setPosition(e.x,e.y)}var a=e.editor,l=a.renderer.$gutterLayer,u=new i(a.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(a.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var i=t.getDocumentPosition().row,r=a.session.selection;if(t.getShiftKey())r.selectTo(i,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(i)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var c,h,d;e.editor.setDefaultHandler("guttermousemove",function(i){var s=i.domEvent.target||i.domEvent.srcElement;return r.hasCssClass(s,"ace_fold-widget")?n():(d&&e.$tooltipFollowsMouse&&o(i),h=i,c||(c=setTimeout(function(){c=null,h&&!e.isMousePressed?t():n()},50)),void 0)}),s.addListener(a.renderer.$gutter,"mouseout",function(){h=null,d&&!c&&(c=setTimeout(function(){c=null,n()},50))}),a.on("changeSession",n)}function i(e){a.call(this,e)}var r=e("../lib/dom"),o=e("../lib/oop"),s=e("../lib/event"),a=e("../tooltip").Tooltip;o.inherits(i,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+r>n&&(e-=e+r-n),t+o>i&&(t-=20+o),a.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};!function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}.call(r.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!T||r||o)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,T=n,k={x:w,y:C};else{var s=i(k.x,k.y,w,C);s>u?T=null:n-T>=l&&(m.renderer.scrollCursorIntoView(),T=null)}}function n(e,t){var n=Date.now(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:w-o.left,right:o.right-w},y:{top:C-o.top,bottom:o.bottom-C}},l=Math.min(s.x.left,s.x.right),u=Math.min(s.y.top,s.y.bottom),c={row:e.row,column:e.column};2>=l/r&&(c.column+=s.x.left<s.x.right?-3:2),1>=u/i&&(c.row+=s.y.top<s.y.bottom?-1:1);var h=e.row!=c.row,d=e.column!=c.column,p=!t||e.row!=t.row;h||d&&!p?$?n-$>=a&&m.renderer.scrollCursorIntoView(c):$=n:$=null}function c(){var e=S;S=m.renderer.screenToTextCoordinates(w,C),t(S,e),n(S,e)}function h(){A=m.selection.toOrientedRange(),b=m.session.addMarker(A,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(x),c(),x=setInterval(c,20),F=0,o.addListener(document,"mousemove",p)}function d(){clearInterval(x),m.session.removeMarker(b),b=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(A),m.$blockScrolling-=1,m.isFocused()&&!E&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),A=null,S=null,F=0,$=null,T=null,o.removeListener(document,"mousemove",p)}function p(){null==M&&(M=setTimeout(function(){null!=M&&b&&d()},20))}function f(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function g(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=s.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return i&&t.indexOf(r)>=0?o="copy":n.indexOf(r)>=0?o="move":t.indexOf(r)>=0&&(o="copy"),o}var m=e.editor,v=r.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var b,w,C,x,A,S,_,E,$,T,k,D=m.container,F=0;this.onDragStart=function(e){if(this.cancelDrag||!D.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}A=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",s.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),s.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),E=!0,this.setState("drag")},this.onDragEnd=function(e){if(D.draggable=!1,E=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;!_&&"move"==t&&m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){return!m.getReadOnly()&&f(e.dataTransfer)?(w=e.clientX,C=e.clientY,b||h(),F++,e.dataTransfer.dropEffect=_=g(e),o.preventDefault(e)):void 0},this.onDragOver=function(e){return!m.getReadOnly()&&f(e.dataTransfer)?(w=e.clientX,C=e.clientY,b||(h(),F++),null!==M&&(M=null),e.dataTransfer.dropEffect=_=g(e),o.preventDefault(e)):void 0},this.onDragLeave=function(e){return F--,0>=F&&b?(d(),_=null,o.preventDefault(e)):void 0},this.onDrop=function(e){if(S){var t=e.dataTransfer;if(E)switch(_){case"move":A=A.contains(S.row,S.column)?{start:S,end:S}:m.moveText(A,S);break;case"copy":A=m.moveText(A,S,!0)}else{var n=t.getData("Text");A={start:S,end:m.session.insert(S,n)},m.focus(),_=null}return d(),o.preventDefault(e)}},o.addListener(D,"dragstart",this.onDragStart.bind(e)),o.addListener(D,"dragend",this.onDragEnd.bind(e)),o.addListener(D,"dragenter",this.onDragEnter.bind(e)),o.addListener(D,"dragover",this.onDragOver.bind(e)),o.addListener(D,"dragleave",this.onDragLeave.bind(e)),o.addListener(D,"drop",this.onDrop.bind(e));var M=null}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}var r=e("../lib/dom"),o=e("../lib/event"),s=e("../lib/useragent"),a=200,l=200,u=5;!function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=s.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(){var e=this.editor.container;if(s.isIE&&"dragReady"==this.state){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>3&&e.dragDrop()}if("dragWait"===this.state){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton(),r=e.domEvent.detail||1;if(1===r&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var a=t.container;a.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}.call(n.prototype),t.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),r=document.createElement("script");r.src=e,i.appendChild(r),r.onload=r.onreadystatechange=function(e,n){(n||!r.readyState||"loaded"==r.readyState||"complete"==r.readyState)&&(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t){"use strict";var n={},i=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],o=this._defaultHandlers[e];if(n.length||o){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=r),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return o&&!t.defaultPrevented?o(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},n.once=function(e,t){var n=this;t&&this.addEventListener(e,function i(){n.removeEventListener(e,i),t.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)n[e],i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"no use strict";
function n(){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=e("./oop"),o=e("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].setOption(e,t):(i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t),void 0):n('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},a=function(){this.$defaultOptions={}};!function(){r.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)}),r.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=n,this.reportError=i}.call(a.prototype),t.AppConfig=a}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,n){"no use strict";function i(i){if(u.packaged=i||e.packaged||n.packaged||l.define&&define.packaged,!l.document)return"";for(var o={},s="",a=document.currentScript||document._currentScript,c=a&&a.ownerDocument||document,h=c.getElementsByTagName("script"),d=0;d<h.length;d++){var p=h[d],f=p.src||p.getAttribute("src");if(f){for(var g=p.attributes,m=0,v=g.length;v>m;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[r(y.name.replace(/^data-ace-/,""))]=y.value)}var b=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}}s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var w in o)"undefined"!=typeof o[w]&&t.set(w,o[w])}function r(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;n.exports=t=new a;var l=function(){return this}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);u[e]=t},t.all=function(){return o.copyObject(u)},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var i="snippets"==t?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=u[t+"Path"];return null==s?s=u.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{r=e(n)}catch(a){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var l=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach(function(t){t&&t(e)})})};return t.get("packaged")?(s.loadScript(t.moduleUrl(n,o),l),void 0):l()}},t.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,l=e("../config"),u=function(e){var t=this;this.editor=e,new r(this),new o(this),new a(this);var s=function(){(!document.hasFocus||!document.hasFocus())&&window.focus(),e.focus()},l=e.renderer.getMouseEventTarget();n.addListener(l,"click",this.onMouseEvent.bind(this,"click")),n.addListener(l,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener(l,[400,300,250],this,"onMouseEvent"),e.renderer.scrollBarV&&(n.addMultiMouseDownListener(e.renderer.scrollBarV.inner,[400,300,250],this,"onMouseEvent"),n.addMultiMouseDownListener(e.renderer.scrollBarH.inner,[400,300,250],this,"onMouseEvent"),i.isIE&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",s),n.addListener(e.renderer.scrollBarH.element,"mousedown",s))),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var u=e.renderer.$gutter;n.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(l,"mousedown",s),n.addListener(u,"mousedown",function(t){return e.focus(),n.preventDefault(t)}),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};!function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var r=this.editor.renderer;r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=null);var o=this,a=function(e){return e?i.isWebKit&&!e.which&&o.releaseMouse?o.releaseMouse():(o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new s(e,o.editor),o.$mouseMoved=!0,void 0):void 0},l=function(e){clearInterval(c),u(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=!0,r.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},u=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});o.$onCaptureMouseMove=a,o.releaseMouse=n.capture(this.editor.container,a,l);var c=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}.call(u.prototype),l.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t){"use strict";function n(e){e.on("click",function(t){var n=t.getDocumentPosition(),i=e.session,r=i.getFoldAt(n.row,n.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,r=e.session,o=r.getParentFoldRangeData(i,!0),s=o.range||o.firstRange;if(s){i=s.start.row;var a=r.getFoldAt(i,r.getLine(i).length,1);a?r.removeFold(a):(r.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t){"use strict";var n=e("../lib/keys"),i=e("../lib/event"),r=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};!function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1==t?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r),!(o&&o.command&&(s="null"==o.command?!0:a.exec(o.command,this.$editor,o.args,r),s&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s))););return s},this.onCommandKey=function(e,t,i){var r=n.keyCodeToString(i);this.$callKeyboardHandlers(t,r,i,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}.call(r.prototype),t.KeyBinding=r}),ace.define("ace/range",["require","exports","module"],function(e,t){"use strict";var n=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};!function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(i.row,i.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(i.row,i.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return 0==this.compare(e,t)?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}.call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=n,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};!function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return this.moveCursorTo(this.lead.row,this.lead.column+e),void 0;var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();(!i||0!==t.column)&&this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,t===!0?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column),o=r.match(/^\s*/);o[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(i.column+=o[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),r=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(t,n,1);return o?(this.moveCursorTo(o.end.row,o.end.column),void 0):((e=this.session.nonTokenRe.exec(r))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(n)),n>=i.length?(this.moveCursorTo(t,i.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight(),void 0):((e=this.session.tokenRe.exec(r))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column),void 0;var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o,s=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft(),void 0):((o=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0)},this.$shortWordEndIndex=function(e){var t,n,i=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,t=this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(n=e[i])&&r.test(n);)i++;if(1>i)for(o.lastIndex=0;(n=e[i])&&!o.test(n);)if(o.lastIndex=0,i++,r.test(n)){if(i>2){i--;break}for(;(n=e[i])&&r.test(n);)i++;if(i>2)break}}return o.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do e++,i=this.doc.getLine(e);while(o>e&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&i.row++,this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e.call(null,this);var n=this.getCursor();return o.fromPoints(t,n)}catch(i){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e.isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}.call(s.prototype),t.Selection=s}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t){"use strict";var n=e("./config"),i=2e3,r=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var u=n[l];if(u.defaultToken&&(o.defaultToken=u.defaultToken),u.caseInsensitive&&(s="gi"),null!=u.regex){u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1));var c=u.regex,h=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(u.token)?1==u.token.length||1==h?u.token=u.token[0]:h-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:h-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):"function"==typeof u.token&&!u.onMatch&&(u.onMatch=h>1?this.$applyToken:u.token),h>1&&(/\\\d/.test(u.regex)?c=u.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)}):(h=1,c=this.removeCapturingGroups(u.regex)),!u.splitRegex&&"string"!=typeof u.token&&a.push(u)),o[r]=l,r+=h,i.push(c),u.onMatch||(u.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}};!function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;o>r;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;o>r;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e}),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,u=[],c=0,h=0,d={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>c){var v=e.substring(c,m-g.length);d.type==p?d.value+=v:(d.type&&u.push(d),d={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=o[s[y]],p=f.onMatch?f.onMatch(g,r,n):f.token,f.next&&(r="string"==typeof f.next?f.next:f.next(r,n),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],c=m,a=this.regExps[r],a.lastIndex=m);break}if(g)if("string"==typeof p)f&&f.merge===!1||d.type!==p?(d.type&&u.push(d),d={type:p,value:g}):d.value+=g;else if(p){d.type&&u.push(d),d={type:null,value:""};for(var y=0;y<p.length;y++)u.push(p[y])}if(c==e.length)break;if(c=m,h++>i){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)d.type&&u.push(d),d={value:e.substring(c,c+=2e3),type:"overflow"};r="start",n=[];break}}return d.type&&u.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:u,state:n.length?n:r}},this.reportError=n.reportError}.call(r.prototype),t.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};!function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"!=typeof o.next?o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState):0!==o.next.indexOf(t)&&(o.next=t+o.next))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else{r=[];for(var l in s)r.push(t+l)}if(this.addRules(s,t),i)for(var u=Array.prototype[o?"push":"unshift"],a=0;a<r.length;a++)u.apply(this.$rules[r[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var c=l.stateName;c||(c=l.token,"string"!=typeof c&&(c=c[0]||""),r[c]&&(c+=i++)),r[c]=u,l.next=c,n(c)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)r[h]?r[h].push&&r[h].push.apply(r[h],l.rules[h]):r[h]=l.rules[h];if(l.include||"string"==typeof l)var d=l.include||l,p=r[d];else Array.isArray(l)&&(p=l);if(p){var f=[a,1].concat(p);l.noEscape&&(f=f.filter(function(e){return!e.next})),s.splice.apply(s,f),a--,p=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];n&&(o=o.toLowerCase());for(var s=o.split(i||"|"),a=s.length;a--;)r[s[a]]=t}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}.call(i.prototype),t.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t){"use strict";
var n=function(){this.$behaviours={}};!function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}.call(n.prototype),t.Behaviour=n}),ace.define("ace/unicode",["require","exports","module"],function(e,t){"use strict";function n(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t){"use strict";var n=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};!function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n}}.call(n.prototype),t.TokenIterator=n}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t){"use strict";var n=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour").Behaviour,o=e("../unicode"),s=e("../lib/lang"),a=e("../token_iterator").TokenIterator,l=e("../range").Range,u=function(){this.HighlightRules=i,this.$behaviour=new r};!function(){this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function r(e){for(var t=n;i>=t;t++)e(o.getLine(t),t)}var o=t.doc,a=!0,l=!0,u=1/0,c=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(s.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var d=s.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),h=t.getUseSoftTabs();var f=function(e,t){var n=e.match(d);if(n){var i=n[1].length,r=n[0].length;!y(e,i,r)&&" "==n[0][r-1]&&r--,o.removeInLine(t,i,r)}},g=p+" ",m=function(e,t){(!a||/\S/.test(e))&&(y(e,u,u)?o.insertInLine({row:t,column:u},g):o.insertInLine({row:t,column:u},p))},v=function(e){return d.test(e)},y=function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(0!=i%c)return!1;for(var i=0;" "==e.charAt(n++);)i++;return c>2?i%c!=c-1:0==i%c}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,b=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+s.escapeRegExp(p)+")"),w=new RegExp("(?:"+s.escapeRegExp(b)+")\\s*$"),m=function(e,t){v(e,t)||(!a||/\S/.test(e))&&(o.insertInLine({row:t,column:e.length},b),o.insertInLine({row:t,column:u},p))},f=function(e,t){var n;(n=e.match(w))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(d))&&o.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(d.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var C=1/0;r(function(e,t){var n=e.search(/\S/);-1!==n?(u>n&&(u=n),l&&!v(e,t)&&(l=!1)):C>e.length&&(C=e.length)}),1/0==u&&(u=C,a=!1,l=!1),h&&0!=u%c&&(u=Math.floor(u/c)*c),r(l?f:m)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,u=new a(t,i.row,i.column),c=u.getCurrentToken(),h=(t.selection,t.selection.toOrientedRange());if(c&&/comment/.test(c.type)){for(var d,p;c&&/comment/.test(c.type);){var f=c.value.indexOf(r.start);if(-1!=f){var g=u.getCurrentTokenRow(),m=u.getCurrentTokenColumn()+f;d=new l(g,m,g,m+r.start.length);break}c=u.stepBackward()}for(var u=new a(t,i.row,i.column),c=u.getCurrentToken();c&&/comment/.test(c.type);){var f=c.value.indexOf(r.end);if(-1!=f){var g=u.getCurrentTokenRow(),m=u.getCurrentTokenColumn()+f;p=new l(g,m,g,m+r.end.length);break}c=u.stepForward()}p&&t.remove(p),d&&(t.remove(d),o=d.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),t.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var i=n[t],r=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,r)}}(this)},this.$delegator=function(e,t,n){var i=t[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o=i.split(this.$embeds[r]);if(!o[0]&&o[1]){t[0]=o[1];var s=this.$modes[this.$embeds[r]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var i in n)if(n[i][t]){var r=n[i][t].apply(this,arguments);
if(r)return r}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;s>o;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;l>a;a++)if(/keyword|support|storage/.test(r[o].token[a])){var i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){var e=this.$keywordList||this.$createKeywordList();return e.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}.call(u.prototype),t.Mode=u}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};!function(){n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t=e.data,n=t.range;if(!(n.start.row==n.end.row&&n.start.row!=this.row||n.start.row>this.row||n.start.row==this.row&&n.start.column>this.column)){var i=this.row,r=this.column,o=n.start,s=n.end;"insertText"===t.action?o.row===i&&o.column<=r?o.column===r&&this.$insertRight||(o.row===s.row?r+=s.column-o.column:(r-=o.column,i+=s.row-o.row)):o.row!==s.row&&o.row<i&&(i+=s.row-o.row):"insertLines"===t.action?(o.row!==i||0!==r||!this.$insertRight)&&o.row<=i&&(i+=s.row-o.row):"removeText"===t.action?o.row===i&&o.column<r?r=s.column>=r?o.column:Math.max(0,r-(s.column-o.column)):o.row!==s.row&&o.row<i?(s.row===i&&(r=Math.max(0,r-s.column)+o.column),i-=s.row-o.row):s.row===i&&(i-=s.row-o.row,r=Math.max(0,r-s.column)+o.column):"removeLines"==t.action&&o.row<=i&&(s.row<=i?i-=s.row-o.row:(i=o.row,r=0)),this.setPosition(i,r,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>e?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),0>t&&(n.column=0),n}}.call(r.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,o=e("./anchor").Anchor,s=function(e){this.$lines=[],0===e.length?this.$lines=[""]:Array.isArray(e)?this._insertLines(0,e):this.insert({row:0,column:0},e)};!function(){n.implement(this,i),this.setValue=function(e){var t=this.getLength();this.remove(new r(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new o(this,e,t)},this.$split=0==="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.getLine(e.start.row).substring(e.start.column,e.end.column);var t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;return e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):e.row<0&&(e.row=0),e},this.insert=function(e,t){if(!t||0===t.length)return e;e=this.$clipPosition(e),this.getLength()<=1&&this.$detectNewLine(t);var n=this.$split(t),i=n.splice(0,1)[0],r=0==n.length?null:n.splice(n.length-1,1)[0];return e=this.insertInLine(e,i),null!==r&&(e=this.insertNewLine(e),e=this._insertLines(e.row,n),e=this.insertInLine(e,r||"")),e},this.insertLines=function(e,t){return e>=this.getLength()?this.insert({row:e,column:0},"\n"+t.join("\n")):this._insertLines(Math.max(e,0),t)},this._insertLines=function(e,t){if(0==t.length)return{row:e,column:0};for(;t.length>2e4;){var n=this._insertLines(e,t.slice(0,2e4));t=t.slice(2e4),e=n.row}var i=[e,0];i.push.apply(i,t),this.$lines.splice.apply(this.$lines,i);var o=new r(e,0,e+t.length,0),s={action:"insertLines",range:o,lines:t};return this._signal("change",{data:s}),o.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var n={row:e.row+1,column:0},i={action:"insertText",range:r.fromPoints(e,n),text:this.getNewLineCharacter()};return this._signal("change",{data:i}),n},this.insertInLine=function(e,t){if(0==t.length)return e;var n=this.$lines[e.row]||"";this.$lines[e.row]=n.substring(0,e.column)+t+n.substring(e.column);var i={row:e.row,column:e.column+t.length},o={action:"insertText",range:r.fromPoints(e,i),text:t};return this._signal("change",{data:o}),i},this.remove=function(e){if(e instanceof r||(e=r.fromPoints(e.start,e.end)),e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end),e.isEmpty())return e.start;var t=e.start.row,n=e.end.row;if(e.isMultiLine()){var i=0==e.start.column?t:t+1,o=n-1;e.end.column>0&&this.removeInLine(n,0,e.end.column),o>=i&&this._removeLines(i,o),i!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,n){if(t!=n){var i=new r(e,t,e,n),o=this.getLine(e),s=o.substring(t,n),a=o.substring(0,t)+o.substring(n,o.length);this.$lines.splice(e,1,a);var l={action:"removeText",range:i,text:s};return this._signal("change",{data:l}),i.start}},this.removeLines=function(e,t){return 0>e||t>=this.getLength()?this.remove(new r(e,0,t+1,0)):this._removeLines(e,t)},this._removeLines=function(e,t){var n=new r(e,0,t+1,0),i=this.$lines.splice(e,t-e+1),o={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:i};return this._signal("change",{data:o}),i},this.removeNewLine=function(e){var t=this.getLine(e),n=this.getLine(e+1),i=new r(e,t.length,e+1,0),o=t+n;this.$lines.splice(e,2,o);var s={action:"removeText",range:i,text:this.getNewLineCharacter()};this._signal("change",{data:s})},this.replace=function(e,t){if(e instanceof r||(e=r.fromPoints(e.start,e.end)),0==t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;if(this.remove(e),t)var n=this.insert(e.start,t);else n=e.start;return n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this.insertLines(i.start.row,n.lines):"insertText"==n.action?this.insert(i.start,n.text):"removeLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"removeText"==n.action&&this.remove(i)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"insertText"==n.action?this.remove(i):"removeLines"==n.action?this._insertLines(i.start.row,n.lines):"removeText"==n.action&&this.insert(i.start,n.text)}},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;o>r;r++)if(e-=n[r].length+i,0>e)return{row:r,column:e+n[r].length+i};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;o>s;++s)r+=n[s].length+i;return r+e.column}}.call(s.prototype),t.Document=s}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=function(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,i=-1,r=t.doc;t.lines[n];)n++;var o=n,s=r.getLength(),a=0;for(t.running=!1;s>n;){t.$tokenizeRow(n),i=n;do n++;while(t.lines[n]);if(a++,0===a%5&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,i>=o&&t.fireUpdateEvent(o,i)}}};!function(){n.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.range,n=t.start.row,i=t.end.row-n;if(0===i)this.lines[n]=null;else if("removeText"==e.action||"removeLines"==e.action)this.lines.splice(n,i+1,null),this.states.splice(n,i+1,null);else{var r=Array(i+1);r.unshift(n,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}.call(r.prototype),t.BackgroundTokenizer=r}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";var n=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),r=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};!function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,r,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;a>=l;l++){var u=this.cache[l];null==u&&(u=n.getMatchOffsets(r.getLine(l),this.regExp),u.length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=u.length?u:"");for(var c=u.length;c--;)t.drawSingleLineMarker(e,u[c].toScreenRange(r),this.clazz,o)}}}.call(r.prototype),t.SearchHighlight=r}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t){"use strict";function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;!function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,o,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var u=0;u<a.length;u++){if(i=a[u],r=i.range.compareStart(t,n),-1==r)return e(null,t,n,s,l),void 0;if(o=e(null,i.start.row,i.start.column,s,l),o=!o&&e(i.placeholder,i.start.row,i.start.column,s),o||0===r)return;l=!i.sameRow,s=i.end.column}e(null,t,n,s,l)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(n=this.folds[r],i=n.range.compareEnd(e,t),-1==i)return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){r=this.folds;var s=r.indexOf(i);for(0===s&&(this.start.column+=n),s;s<r.length;s++){if(i=r[s],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var r=i.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var u=new n(s,o);return s.splice(s.indexOf(this)+1,0,u),u},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if(e-=i.start.column-t,0>e)return{row:i.start.row,column:i.start.column+e};if(e-=i.placeholder.length,0>e)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}.call(n.prototype),t.FoldLine=n}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("./range").Range,i=n.comparePoints,r=function(){this.ranges=[]};!function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);0>n&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return 0>i?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.call(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges.splice(t,1):void 0},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});for(var n,r=t[0],o=1;o<t.length;o++){n=r,r=t[o];var s=i(n.end,r.start);0>s||(0!=s||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(o,1),e.push(r),r=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges[t]:void 0},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});0>i&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);0>r&&(r=-r-1);for(var o=[],s=i;r>s;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var t=e.data.range;if("i"==e.data.action[0])var n=t.start,i=t.end;else var i=t.start,n=t.end;for(var r=n.row,o=i.row,s=o-r,a=-n.column+i.column,l=this.ranges,u=0,c=l.length;c>u;u++){var h=l[u];if(!(h.end.row<r)){if(h.start.row>r)break;if(h.start.row==r&&h.start.column>=n.column&&(h.start.column!=n.column||!this.$insertRight)&&(h.start.column+=a,h.start.row+=s),h.end.row==r&&h.end.column>=n.column){if(h.end.column==n.column&&this.$insertRight)continue;h.end.column==n.column&&a>0&&c-1>u&&h.end.column>h.start.column&&h.end.column==l[u+1].start.column&&(h.end.column-=a),h.end.column+=a,h.end.row+=s}}}if(0!=s&&c>u)for(;c>u;u++){var h=l[u];h.start.row+=s,h.end.row+=s}}}.call(r.prototype),t.RangeList=r}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){n(e.start,t),n(e.end,t)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function o(e,t){r(e.start,t),r(e.end,t)}var s=(e("../range").Range,e("../range_list").RangeList),a=e("../lib/oop"),l=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};a.inherits(l,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new l(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,o=-1;r<this.subFolds.length&&(o=this.subFolds[r].range.compare(t,n),1==o);r++);var s=this.subFolds[r];if(0==o)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=r,o=-1;a<this.subFolds.length&&(o=this.subFolds[a].range.compare(t,n),1==o);a++);if(this.subFolds[a],0==o)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);return this.subFolds.splice(r,a-r,e),e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return o(e,this.start)}}.call(l.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t){"use strict";function n(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o];if(s.range.contains(e,t)){if(1==n&&s.range.isEnd(e,t))continue;if(-1==n&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var u=a[l];if(s=u.range.compareRange(e),-2==s)break;if(2!=s){if(42==s)break;r.push(u)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(i=i||this.getFoldLine(e),!i)return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){o=i.folds[a];var l=o.range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){t>a&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,u=n.end.row,c=n.end.column;if(u>a||a==u&&c-2>=l){var h=this.getFoldAt(a,l,1),d=this.getFoldAt(u,c,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(u,c)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var f=0;f<i.length;f++){var g=i[f];if(u==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==u){g.merge(m);break}}break}if(u<=g.start.row)break}return s||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._emit("changeFold",{data:n,action:"add"}),n}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._emit("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);return r.length?r:void 0},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,n,a){if(!(i>t)){if(t==i){if(r>n)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}},t,n),s},this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(!r){var o;return o=this.doc.getLine(e),o.substring(i||0,t||o.length)}return this.getFoldDisplayLine(r,e,t,n,i)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new r(e,n)})},this.toggleFold=function(e){var t,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var o=r.start;if(t=this.getFoldAt(o.row,o.column))return this.expandFold(t),void 0;(n=this.findMatchingBracket(o))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var s=this.getFoldsInRange(r);if(e&&s.length)return this.expandFolds(s),void 0;1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())return this.expandFold(t),void 0;var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var a=new i,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do o=r.stepBackward();while(o&&l.test(o.type));r.stepForward()}if(a.start.row=r.getCurrentTokenRow(),a.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){do o=r.stepForward();while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return a.end.row=r.getCurrentTokenRow(),a.end.column=r.getCurrentTokenColumn()+o.value.length-2,a}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength(),e=e||0;for(var r=e;t>r;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){r=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){return this.$foldMode!=e?(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._emit("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),void 0):(this.foldWidgets=null,void 0)):void 0},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},i=this.$toggleFoldWidget(e,n);if(!i){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),void 0;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return this.removeFold(o),void 0;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,u=a.range.end.row;this.foldAll(l,u,t.all?1e4:0)}else t.children?(u=s?s.end.row:this.getLength(),this.foldAll(e+1,u,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var t=this.$toggleFoldWidget(e,{});if(!t){var n=this.getParentFoldRangeData(e,!0);if(t=n.range||n.firstRange){e=t.start.row;var i=this.getFoldAt(e,this.getLine(e).length,1);i?this.removeFold(i):this.addFold("...",t)}}},this.updateFoldWidgets=function(e){var t=e.data,n=t.range,i=n.start.row,r=n.end.row-i;if(0===r)this.foldWidgets[i]=null;else if("removeText"==t.action||"removeLines"==t.action)this.foldWidgets.splice(i,r+1,null);else{var o=Array(r+1);o.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=n}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t){"use strict";function n(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end|start|begin)\b/,"")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,u=a.value;;){for(;l>=0;){var c=u.charAt(l);if(c==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}
}else c==e&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;u=a.value,l=u.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:end|start|begin)\b/,"")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var u=a.value,c=u.length;c>l;){var h=u.charAt(l);if(h==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=n}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./config"),o=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,a=e("./mode/text").Mode,l=e("./range").Range,u=e("./document").Document,c=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,d=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new s(this),r.resetOptions(this),this.setMode(t),r._signal("session",this)};!function(){function e(e){return 4352>e?!1:e>=4352&&4447>=e||e>=4515&&4519>=e||e>=4602&&4607>=e||e>=9001&&9002>=e||e>=11904&&11929>=e||e>=11931&&12019>=e||e>=12032&&12245>=e||e>=12272&&12283>=e||e>=12288&&12350>=e||e>=12353&&12438>=e||e>=12441&&12543>=e||e>=12549&&12589>=e||e>=12593&&12686>=e||e>=12688&&12730>=e||e>=12736&&12771>=e||e>=12784&&12830>=e||e>=12832&&12871>=e||e>=12880&&13054>=e||e>=13056&&19903>=e||e>=19968&&42124>=e||e>=42128&&42182>=e||e>=43360&&43388>=e||e>=44032&&55203>=e||e>=55216&&55238>=e||e>=55243&&55291>=e||e>=63744&&64255>=e||e>=65040&&65049>=e||e>=65072&&65106>=e||e>=65108&&65126>=e||e>=65128&&65131>=e||e>=65281&&65376>=e||e>=65504&&65510>=e}n.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],this.$screenRowCache=[],void 0;var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;i>=n;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(o>t))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var n=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&!t.ignore&&(this.$deltasDoc.push(t),n&&0!=n.length&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t)o=i.length-1,r=this.getLine(e).length;else for(var o=0;o<i.length&&(r+=i[o].value.length,!(r>=t));o++);return n=i[o],n?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&0===e.column%this.$tabSize},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new l(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var r=/\s/;else var r=this.nonTokenRe;var o=t;if(o>0){do o--;while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;s<n.length&&n.charAt(s).match(r);)s++;return new l(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[i]&&!n?(this.$onChangeMode(this.$modes[i]),t&&t(),void 0):(this.$modeId=i,r.loadModule(["mode",i],function(e){return this.$modeId!==i?t&&t():(this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t(),void 0)}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0),void 0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new c(n);var r=this;this.bgTokenizer.addEventListener("update",function(e){r._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;a>l;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[r++],s=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;-1!=i;i--){var r=e[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;i<e.length;i++){var r=e[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){var n="insertText"===e.action||"insertLines"===e.action;return t?!n:n}var r,o,s=e[0],a=!1;i(s)?(r=l.fromPoints(s.range.start,s.range.end),a=!0):(r=l.fromPoints(s.range.start,s.range.start),a=!1);for(var u=1;u<e.length;u++)s=e[u],i(s)?(o=s.range.start,-1==r.compare(o.row,o.column)&&r.setStart(s.range.start),o=s.range.end,1==r.compare(o.row,o.column)&&r.setEnd(s.range.end),a=!0):(o=s.range.start,-1==r.compare(o.row,o.column)&&(r=l.fromPoints(s.range.start,s.range.start)),a=!1);if(null!=n){0===l.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var c=n.compareRange(r);1==c?r.setStart(n.start):-1==c&&r.setEnd(n.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=l.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var u=e.start,c=o.start,s=c.row-u.row,a=c.column-u.column;this.addFolds(r.map(function(e){return e=e.clone(),e.start.row==u.row&&(e.start.column+=a),e.end.row==u.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;t>=i;i++)this.insert({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new l(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;i>s&&" "==o.charAt(s);++s);i>s&&"	"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),0>n){var i=this.getRowFoldStart(e+n);if(0>i)return 0;var r=i-e}else if(n>0){var i=this.getRowFoldEnd(t+n);if(i>this.doc.getLength()-1)return 0;var r=i-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var r=t-e+1}var o=new l(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=r,e.end.row+=r,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeLines(e,t);return this.doc.insertLines(e+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return 0>t?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),0>e)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1?(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,n=this.$useWrapMode,i=e.data.action,r=e.data.range.start.row,o=e.data.range.end.row,s=e.data.range.start,a=e.data.range.end,l=null;if(-1!=i.indexOf("Lines")?(o="insertLines"==i?r+e.data.lines.length:r,t=e.data.lines?e.data.lines.length:o-r):t=o-r,this.$updating=!0,0!=t)if(-1!=i.indexOf("remove")){this[n?"$wrapData":"$rowLengthCache"].splice(r,t);var u=this.$foldData;l=this.getFoldsInRange(e.data.range),this.removeFolds(l);var c=this.getFoldLine(a.row),h=0;if(c){c.addRemoveChars(a.row,a.column,s.column-a.column),c.shiftRow(-t);var d=this.getFoldLine(r);d&&d!==c&&(d.merge(c),c=d),h=u.indexOf(c)+1}for(h;h<u.length;h++){var c=u[h];c.start.row>=a.row&&c.shiftRow(-t)}o=r}else{var p=Array(t);p.unshift(r,0);var f=n?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);var u=this.$foldData,c=this.getFoldLine(r),h=0;if(c){var g=c.range.compareInside(s.row,s.column);0==g?(c=c.split(s.row,s.column),c&&(c.shiftRow(t),c.addRemoveChars(o,0,a.column-s.column))):-1==g&&(c.addRemoveChars(r,0,a.column-s.column),c.shiftRow(t)),h=u.indexOf(c)+1}for(h;h<u.length;h++){var c=u[h];c.start.row>=r&&c.shiftRow(t)}}else{t=Math.abs(e.data.range.start.column-e.data.range.end.column),-1!=i.indexOf("remove")&&(l=this.getFoldsInRange(e.data.range),this.removeFolds(l),t=-t);var c=this.getFoldLine(r);c&&c.addRemoveChars(r,s.column,t)}return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,n?this.$updateWrapData(r,o):this.$updateRowLengthCache(r,o),l},this.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,i,r=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,r.length-1);t>=l;)i=this.getFoldLine(l,i),i?(n=[],i.walk(function(e,t,i,o){var s;if(null!=e){s=this.$getDisplayTokens(e,n.length),s[0]=u;for(var a=1;a<s.length;a++)s[a]=d}else s=this.$getDisplayTokens(r[t].substring(o,i),n.length);n=n.concat(s)}.bind(this),i.end.row,r[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(n,a,o),l=i.end.row+1):(n=this.$getDisplayTokens(r[l]),s[l]=this.$computeWrapSplits(n,a,o),l++)};var t=1,s=2,u=3,d=4,p=9,f=10,g=11,m=12;this.$computeWrapSplits=function(e,t){function n(t){var n=e.slice(o,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),a+=r,i.push(a),o=t}if(0==e.length)return[];for(var i=[],r=e.length,o=0,a=0,l=this.$wrapAsCode;r-o>t;){var c=o+t;if(e[c-1]>=f&&e[c]>=f)n(c);else if(e[c]!=u&&e[c]!=d){for(var h=Math.max(c-(l?10:t-(t>>2)),o-1);c>h&&e[c]<u;)c--;if(l){for(;c>h&&e[c]<u;)c--;for(;c>h&&e[c]==p;)c--}else for(;c>h&&e[c]<f;)c--;c>h?n(++c):(c=o+t,e[c]==s&&c--,n(c))}else{for(c;c!=o-1&&e[c]!=u;c--);if(c>o){n(c);continue}for(c=o+t;c<e.length&&e[c]==d;c++);if(c==e.length)break;n(c)}}return i},this.$getDisplayTokens=function(n,i){var r,o=[];i=i||0;for(var a=0;a<n.length;a++){var l=n.charCodeAt(a);if(9==l){r=this.getScreenTabSize(o.length+i),o.push(g);for(var u=1;r>u;u++)o.push(m)}else 32==l?o.push(f):l>39&&48>l||l>57&&64>l?o.push(p):l>=4352&&e(l)?o.push(t,s):o.push(t)}return o},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,o;for(o=0;o<t.length&&(r=t.charCodeAt(o),i+=9==r?this.getScreenTabSize(i):r>=4352&&e(r)?2:1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(0>e)return{row:0,column:0};var n,i,r=0,o=0,s=0,a=0,l=this.$screenRowCache,u=this.$getRowCacheIndex(l,e),c=l.length;if(c&&u>=0)var s=l[u],r=this.$docRowCache[u],h=e>l[c-1];else var h=!c;for(var d=this.getLength()-1,p=this.getNextFoldLine(r),f=p?p.start.row:1/0;e>=s&&(a=this.getRowLength(r),!(s+a>e||r>=d));)s+=a,r++,r>f&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),f=p?p.start.row:1/0),h&&(this.$docRowCache.push(r),this.$screenRowCache.push(s));if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(e>=s+a||r>d)return{row:d,column:this.getLine(d).length};n=this.getLine(r),p=null}if(this.$useWrapMode){var g=this.$wrapData[r];if(g){var m=Math.floor(e-s);i=g[m],m>0&&g.length&&(o=g[m-1]||g[g.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,t)[1],this.$useWrapMode&&o>=i&&(o=i-1),p?p.idxToPosition(o):{row:r,column:o}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i=0,r=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,u=this.$getRowCacheIndex(l,e),c=l.length;if(c&&u>=0)var a=l[u],i=this.$screenRowCache[u],h=e>l[c-1];else var h=!c;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;e>a;){if(a>=p){if(s=d.end.row+1,s>e)break;d=this.getNextFoldLine(s,d),p=d?d.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var f="";if(d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),r=d.start.row):(f=this.getLine(e).substring(0,t),r=e),this.$useWrapMode){var g=this.$wrapData[r];if(g){for(var m=0;f.length>=g[m];)i++,m++;f=f.substring(g[m-1]||0,f.length)}}return{row:i,column:this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,t=this.$foldData[r++],o=t?t.start.row:1/0;n>i;){var s=this.$wrapData[i];e+=s?s.length+1:1,i++,i>o&&(i=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,r=0;r<a.length;r++)t=a[r],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(){},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}.call(d.prototype),e("./edit_session/folding").Folding.call(d.prototype),e("./edit_session/bracket_match").BracketMatch.call(d.prototype),r.defineOptions(d.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=d}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";var n=e("./lib/lang"),i=e("./lib/oop"),r=e("./range").Range,o=function(){this.$options={}};!function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach(function(e,n,o){if(e.start)i=e;else{var s=e.offset+(o||0);if(i=new r(n,s,n,s+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))return i=null,!1}return!0}),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,o=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,u=a.length,c=o.length-u;e:for(var h=a.offset||0;c>=h;h++){for(var d=0;u>d;d++)if(-1==o[h+d].search(a[d]))continue e;var p=o[h],f=o[h+u-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[u-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new r(h,g,h+u-1,m)),u>2&&(h=h+u-2))}}else for(var v=0;v<o.length;v++)for(var y=n.getMatchOffsets(o[v],a),d=0;d<y.length;d++){var b=y[d];s.push(new r(v,b.offset,v,b.offset+b.length))}if(i){for(var w=i.start.column,C=i.start.column,v=0,d=s.length-1;d>v&&s[v].start.column<w&&s[v].start.row==i.start.row;)v++;for(;d>v&&s[d].end.column>C&&s[d].end.row==i.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;d>v;v++)s[v].start.row+=i.start.row,s[v].end.row+=i.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];t[o]=s&&s.toLowerCase()!=s?t[o].toUpperCase():t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var o;if(t.$isMultiLine)var s=i.length,a=function(t,n,a){var l=t.search(i[0]);if(-1!=l){for(var u=1;s>u;u++)if(t=e.getLine(n+u),-1==t.search(i[u]))return;var c=t.match(i[s-1])[0].length,h=new r(n,l,n+s-1,c);return 1==i.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):a&&(h.start.column+=a),o(h)?!0:void 0}};else if(t.backwards)var a=function(e,t,r){for(var s=n.getMatchOffsets(e,i),a=s.length-1;a>=0;a--)if(o(s[a],t,r))return!0};else var a=function(e,t,r){for(var s=n.getMatchOffsets(e,i),a=0;a<s.length;a++)if(o(s[a],t,r))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){o=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i="\\b"+i+"\\b");var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,r);try{var o=new RegExp(i,r)}catch(s){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(o){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,r=t.range,o=t.start;o||(o=r?r[n?"end":"start"]:e.selection.getRange()),o.start&&(o=o[i!=n?"end":"start"]);var s=r?r.start.row:0,a=r?r.end.row:e.getLength()-1,l=n?function(n){var i=o.row,r=e.getLine(i).substring(0,o.column);if(!n(r,i)){for(i--;i>=s;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=a,s=o.row;i>=s;i--)if(n(e.getLine(i),i))return}}:function(n){var i=o.row,r=e.getLine(i).substr(o.column);if(!n(r,i,o.column)){for(i+=1;a>=i;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=s,a=o.row;a>=i;i++)if(n(e.getLine(i),i))return}};return{forEach:l}}}.call(o.prototype),t.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function i(e,t){n.call(this,e,t),this.$singleCommand=!1}var r=e("../lib/keys"),o=e("../lib/useragent"),s=r.KEY_MODS;i.prototype=n.prototype,function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(e,t,n){return"object"==typeof e&&(e=e[this.platform]),e?"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):(e.split("|").forEach(function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var o=this.parseKeys(e),a=s[o.hashId]+o.key;this._addCommandToBinding(i+a,t,n)},this),void 0):void 0},this._addCommandToBinding=function(e,t,n){var i,r=this.commandKeyBinding;t?!r[e]||this.$singleCommand?r[e]=t:(Array.isArray(r[e])?-1!=(i=r[e].indexOf(t))&&r[e].splice(i,1):r[e]=[r[e]],n||t.isDefault?r[e].unshift(t):r[e].push(t)):delete r[e]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))
}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){var r=s[t]+n,o=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&i>0&&(e.$keyChain=""),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=i}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,r=e("../lib/event_emitter").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(o,i),function(){n.implement(this,r),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue===!1?!1:!0},this.toggleRecording=function(e){return this.$inReplay?void 0:(e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t){"use strict";function n(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","Ctrl-E"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){return e.selection.isEmpty()?(e.remove("left"),void 0):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,u=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var h=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==h.length&&(h=" "+h),u+=h}r.row+1<e.session.doc.getLength()-1&&(u+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),u),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row!==t||i[s].end.column!==n)&&r.push(new o(i[s].end.row,i[s].end.column,t,n)),0===s?(0!==i[s].start.row||0!==i[s].start.column)&&r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/lang"),o=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,c=e("./edit_session").EditSession,h=e("./search").Search,d=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,m=e("./config"),v=e("./token_iterator").TokenIterator,y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new f(o.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new a(this),new l(this),this.$blockScrolling=0,this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new c("")),m.resetOptions(this),m._signal("editor",this)};!function(){n.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;if(t.name&&this.$blockScrolling>0&&this.$blockScrolling--,t&&t.scrollIntoView){switch(t.scrollIntoView){case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),i=this.renderer.layerConfig;(n.start.row>=i.lastRow||n.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==t.scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;m.loadModule(["keybinding",e],function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){var t=this.session;if(t){this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var i=new d(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var i=t.$mode.getMatching(e.session);i&&(t.$bracketHighlight=t.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new v(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),t.$tagHighlight=null,void 0;if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=0,a=i.stepBackward();if("<"==a.value){do a=r,r=i.stepForward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(r&&s>=0)}else{do r=a,a=i.stepBackward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&0>=s);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),t.$tagHighlight=null,void 0;var l=i.getCurrentTokenRow(),u=i.getCurrentTokenColumn(),c=new d(l,u,l,u+r.value.length);t.$tagHighlight&&0!==c.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),c&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(c,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t,n=e.data,i=n.range;t=i.start.row==i.end.row&&"insertLines"!=n.action&&"removeLines"!=n.action?i.end.row:1/0,this.renderer.updateLines(i.start.row,t,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(m.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new d(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,r=e.getLine(t.start.row),o=r.length,s=r.substring(Math.max(n,0),Math.min(i,o));if(!(n>=0&&/^[\w\d]/.test(s)||o>=i&&/[\w\d]$/.test(s))&&(s=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())
},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){if(!this.$readOnly){var t={text:e};if(this._signal("paste",t),e=t.text,!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var r=i.length;r--;){var o=i[r];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[r])}}this.renderer.scrollCursorIntoView()}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("	"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new d.fromPoints(r,r);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var u=r.column,c=n.getState(r.row),a=n.getLine(r.row),h=i.checkOutdent(c,a,e);if(n.insert(r,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new d(r.row,u+o.selection[0],r.row,u+o.selection[1])):this.selection.setSelectionRange(new d(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(e)){var p=i.getNextLineIndent(c,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},p)}h&&i.autoOutdent(c,n,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new d(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new d(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return e.indentRows(n.first,n.last,"	"),void 0}if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return e.indentRows(n.first,n.last,"	"),void 0}}var o=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var u=a-l%a,c=r.stringRepeat(" ",u);else{for(var u=l%a;" "==o[t.start.column]&&u;)t.start.column--,u--;this.selection.setSelectionRange(t),c="	"}return this.insert(c)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var i=new d(0,0,0,0),r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t){var o={value:r[0],start:r.index,end:r.index+r[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new d(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),e*=s!==o.end&&s>n?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),l+=e,l/=Math.pow(10,a);var u=l.toFixed(a),c=new d(t,o.start,t,o.end);this.session.replace(c,u),this.moveCursorTo(t,Math.max(o.start+1,n+u.length-o.value.length))}}},this.removeLines=function(){var e,t=this.$getSelectedRows();e=0===t.first||t.last+1<this.session.getLength()?new d(t.first,0,t.last+1,0):new d(t.first-1,this.session.getLine(t.first-1).length,t.last,this.session.getLine(t.last).length),this.session.remove(e),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,u=s.length,c=0;u>c;c++){var h=c;s[c].moveBy(a,0),n=this.$getSelectedRows(s[c]);for(var d=n.first,p=n.last;++c<u;){l&&s[c].moveBy(l,0);var f=this.$getSelectedRows(s[c]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(c--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(h=c+1);c>=h;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):t===!1&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new v(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,u={},c=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;c<o.value.length&&!l;c++)if(h[o.value[c]])switch(a=h[o.value[c]]+"."+o.type.replace("rparen","lparen"),isNaN(u[a])&&(u[a]=0),o.value[c]){case"(":case"[":case"{":u[a]++;break;case")":case"]":case"}":u[a]--,-1===u[a]&&(s="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(u[o.value])&&(u[o.value]=0),"<"===r.value?u[o.value]++:"</"===r.value&&u[o.value]--,-1===u[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),c=0)}while(o&&!l);if(s){var p,f;if("bracket"===s)p=this.session.getBracketRange(n),p||(p=new d(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1),f=p.start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(p=this.session.getBracketRange(f)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(p=new d(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2),0===p.compare(n.row,n.column)){l=!1;do o=r,r=i.stepBackward(),r&&(-1!==r.type.indexOf("tag-close")&&p.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?u[g]++:"</"===r.value&&u[g]--,0===u[g]&&(l=!0)));while(r&&!l)}o&&o.type.indexOf("tag-name")&&(f=p.start,f.row==n.row&&Math.abs(f.column-n.column)<2&&(f=p.end))}f=p&&p.cursor||f,f&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var r=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(r)||this.$search.$options.needle,e||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?r.start=r.end:r.end=r.start,this.selection.setRange(r),void 0)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",function(){i=!0}),s=this.renderer.on("beforeRender",function(){i&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;i=o.top>=0&&a+t.top<0?!0:o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight?!1:null,null!=i&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",o),this.renderer.removeEventListener("afterRender",a),this.renderer.removeEventListener("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}.call(y.prototype),m.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),ace.define("ace/undomanager",["require","exports","module"],function(e,t){"use strict";var n=function(){this.reset()};!function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=0/0),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(t,e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}.call(n.prototype),t.UndoManager=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/dom"),i=e("../lib/oop"),r=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};!function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,o=this.$annotations[i];o||(o=this.$annotations[i]={text:[]});var s=n.text;s=s?r.escapeHTML(s):n.html||"",-1===o.text.indexOf(s)&&o.text.push(s);var a=n.type;"error"==a?o.className=" ace_error":"warning"==a&&" ace_error"!=o.className?o.className=" ace_warning":"info"==a&&!o.className&&(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.data,n=t.range,i=n.start.row,r=n.end.row-i;if(0!==r)if("removeText"==t.action||"removeLines"==t.action)this.$annotations.splice(i,r+1,null);else{var o=new Array(r+1);o.unshift(i,1),this.$annotations.splice.apply(this.$annotations,o)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(i),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,u=t.$decorations,c=t.$firstLineNumber,h=0,d=t.gutterRenderer||this.$renderer,p=null,f=-1,g=i;;){if(g>s&&(g=o.end.row+1,o=t.getNextFoldLine(g,o),s=o?o.start.row:1/0),g>r){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++f],p||(p={element:null,textNode:null,foldWidget:null},p.element=n.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),u[g]&&(m+=u[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),p.element.className!=m&&(p.element.className=m);var v=t.getRowLength(g)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=t.getFoldWidget(g))}if(y){p.foldWidget||(p.foldWidget=n.createElement("span"),p.element.appendChild(p.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&g<o.end.row?" ace_closed":" ace_open",p.foldWidget.className!=m&&(p.foldWidget.className=m);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=h=d?d.getText(t,g):g+c;b!=p.textNode.data&&(p.textNode.data=b),g++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+c);var w=d?d.getWidth(t,h,e):h.toString().length*e.characterWidth,C=this.$padding||this.$computePadding();w+=C.left+C.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}.call(s.prototype),t.Gutter=s}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t){"use strict";var n=e("../range").Range,i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};!function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),s=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,s,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start",e)}else i.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,r,o){var s=t.start.row,a=new n(s,t.start.column,s,this.session.getScreenLastRowColumn(s));for(this.drawSingleLineMarker(e,a,i+" ace_start",r,1,o),s=t.end.row,a=new n(s,0,s,t.end.column),this.drawSingleLineMarker(e,a,i,r,0,o),s=t.start.row+1;s<t.end.row;s++)a.start.row=s,a.end.row=s,a.end.column=this.session.getScreenLastRowColumn(s),this.drawSingleLineMarker(e,a,i,r,1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;r=r||"",e.push("<div class='",n," ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",u,"px;","top:",a,"px;","left:",o,"px;",r,"'></div>"),s=(t.end.row-t.start.row-1)*i.lineHeight,0>s||(a=this.$getTop(t.start.row+1,i),e.push("<div class='",n,"' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",r,"'></div>"))},this.drawSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),u=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",u,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")}}.call(r.prototype),t.Marker=r}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../lib/dom"),r=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};!function(){n.implement(this,o),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;
return this.EOL_CHAR!=e?(this.EOL_CHAR=e,!0):void 0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;e+1>n;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+this.TAB_CHAR+r.stringRepeat(" ",n-1)+"</span>"):t.push(r.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",o="",s="";if(this.showInvisibles){i+=" ace_invisible",o=" ace_invisible_space",s=" ace_invisible_tab";var a=r.stringRepeat(this.SPACE_CHAR,this.tabSize),l=this.TAB_CHAR+r.stringRepeat(" ",this.tabSize-1)}else var a=r.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+i+o+"'>"+a+"</span>",this.$tabStrings["	"]="<span class='"+i+s+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;i>a;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var a=i,l=this.session.getNextFoldLine(a),u=l?l.start.row:1/0;a>u&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),u=l?l.start.row:1/0),!(a>r);){var c=o[s++];if(c){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==u?l:!1),c.style.height=e.lineHeight*this.session.getRowLength(a)+"px",c.innerHTML=h.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(e.lastRow>t.lastRow){var r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),!(o>n);){var l=i.createElement("div"),u=[];if(this.$renderLine(u,o,!1,o==a?s:!1),l.innerHTML=u.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);o++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,i=e.lastRow,r=n,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(r=o.end.row+1,o=this.session.getNextFoldLine(r,o),s=o?o.start.row:1/0),!(r>i);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(t,r,!1,r==s?o:!1),this.$useLineGroups()&&t.push("</div>"),r++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var o=this,s=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,i,s){if(n)return o.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+r.stringRepeat(o.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if("	"==e){var a=o.session.getScreenTabSize(t+s);return t+=a-1,o.$tabStrings[a]}if(""==e){var l=o.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=o.showInvisibles?o.SPACE_CHAR:"";return t+=1,"<span class='"+l+"' style='width:"+2*o.config.characterWidth+"px'>"+u+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+o.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*o.config.characterWidth+"px'>"+e+"</span>")},l=i.replace(s,a);if(this.$textToken[n.type])e.push(l);else{var u="ace_"+n.type.replace(/\./g," ace_"),c="";"fold"==n.type&&(c=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",u,"'",c,">",l,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);return 0>=i||i>=n?t:" "==t[0]?(i-=i%this.tabSize,e.push(r.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),t.substr(i)):"	"==t[0]?(e.push(r.stringRepeat(this.$tabStrings["	"],i)),t.substr(i)):t},this.$renderWrappedLine=function(e,t,n,i){for(var r=0,o=0,s=n[0],a=0,l=0;l<t.length;l++){var u=t[l],c=u.value;if(0==l&&this.displayIndentGuides){if(r=c.length,c=this.renderIndentGuide(e,c,s),!c)continue;r-=c.length}if(r+c.length<s)a=this.$renderToken(e,a,u,c),r+=c.length;else{for(;r+c.length>=s;)a=this.$renderToken(e,a,u,c.substring(0,s-r)),c=c.substring(s-r),r=s,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),o++,a=0,s=n[o]||Number.MAX_VALUE;0!=c.length&&(r+=c.length,a=this.$renderToken(e,a,u,c))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;o<t.length;o++)i=t[o],r=i.value,n=this.$renderToken(e,n,i,r)},this.$renderLine=function(e,t,n,i){if(!i&&0!=i&&(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else var r=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),r.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,r,o,n):this.$renderSimpleLine(e,r)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var i=0,o=0;o+e[i].value.length<t;)if(o+=e[i].value.length,i++,i==e.length)return;if(o!=t){var s=e[i].value.substring(t-o);s.length>n-t&&(s=s.substring(0,n-t)),r.push({type:e[i].type,value:s}),o=t+s.length,i+=1}for(;n>o&&i<e.length;){var s=e[i].value;s.length+o>n?r.push({type:e[i].type,value:s.substring(0,n-o)}):r.push(e[i]),o+=s.length,i+=1}}var i=this.session,r=[],o=i.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?r.push({type:"fold",value:e}):(l&&(o=i.getTokens(t)),o.length&&n(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}.call(s.prototype),t.Text=s}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n,i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===n&&(n="opacity"in this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateVisibility.bind(this)};!function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&!n&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=(e?this.$updateOpacity:this.$updateVisibility).bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),i=this.$padding+n.column*this.config.characterWidth,r=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;(void 0===t||0===t.length)&&(t=[{cursor:null}]);for(var n=0,r=t.length;r>n;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var s=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,e,t[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}.call(r.prototype),t.Cursor=r}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,s=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};!function(){n.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}.call(s.prototype);var a=function(e,t){s.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(a,s),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(a.prototype);var l=function(e,t){s.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(l,s),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(l.prototype),t.ScrollBar=a,t.ScrollBarV=a,t.ScrollBarH=l,t.VScrollBar=a,t.HScrollBar=l}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t){"use strict";var n=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};!function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}.call(i.prototype),t.RenderLoop=i}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),i=e("../lib/dom"),r=e("../lib/lang"),o=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,a=0,l=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),a||this.$testFractionalRect(),this.$measureNode.innerHTML=r.stringRepeat("X",a),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};!function(){n.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;a=t>0&&1>t?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&this.$pollSizeChangesTimer},this.$measureSizes=function(){if(50===a){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var n={height:e.height,width:e.width/a}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/a};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){this.$main.innerHTML=r.stringRepeat(e,a);var t=this.$main.getBoundingClientRect();return t.width/a},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}.call(l.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./config"),o=e("./lib/useragent"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,u=e("./layer/cursor").Cursor,c=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter,g='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}';i.importCssString(g,"ace_editor.css");var m=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var f=this.$textLayer=new l(this.content);this.canvas=f.element,this.$markerFront=new a(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container,500),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};!function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))
},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);return this.$size.scrollerHeight&&(n||i)?(e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,void 0):this.resizing=0}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var r=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return i&&(e||o.height!=i)&&(o.height=i,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(r|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),o.$dirty=!n||!i,r&&this._signal("resize",s),r},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.textarea.style,r=this.lineHeight;if(0>t||t>e.height-r)return i.top=i.left="0",void 0;var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,r+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,i.height=r+"px",i.width=o+"px",i.left=Math.min(n,this.$size.scrollerWidth-o)+"px",i.top=Math.min(t,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return this.$changes|=e,void 0;if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender"),void 0):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender"),void 0):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender"),void 0)},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0),i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength(),r=i*this.lineHeight,o=this.scrollTop%this.lineHeight,s=t.scrollerHeight+this.lineHeight,a=this.$getLongestLine(),l=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-a-2*this.$padding<0),u=this.$horizScroll!==l;u&&(this.$horizScroll=l,this.scrollBarH.setVisible(l));var c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=c,this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,r-t.scrollerHeight+this.scrollMargin.bottom))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,a+2*this.$padding-t.scrollerWidth+this.scrollMargin.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+c<0||this.scrollTop),d=this.$vScroll!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var p,f,g=Math.ceil(s/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)),v=m+g,y=this.lineHeight;m=e.screenToDocumentRow(m,0);var b=e.getFoldLine(m);b&&(m=b.start.row),p=e.documentToScreenRow(m,0),f=e.getRowLength(m)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),s=t.scrollerHeight+e.getRowLength(v)*y+f,o=this.scrollTop-p*y;var w=0;return this.layerConfig.width!=a&&(w=this.CHANGE_H_SCROLL),(u||d)&&(w=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(a=this.$getLongestLine())),this.layerConfig={width:a,padding:this.$padding,firstRow:m,firstRowScreen:p,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:s,maxHeight:r,offset:o,gutterOffset:Math.max(0,Math.ceil((o+t.height-t.scrollerHeight)/y)),height:this.$size.scrollerHeight},w},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return 1/0===t?(this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n),void 0):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var u=this.scrollLeft;u>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):u+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):u<=this.$padding&&r-u<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,r=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;i>n;++n)r.push(o(n/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=r.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(s,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0],e==n))return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return 0>t&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>e&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),o=Math.round(i);return{row:r,column:o,side:i-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(i.column*this.characterWidth),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(o.$themeId!=e)return t&&t();if(n.cssClass){i.importCssString(n.cssText,n.cssClass,o.container.ownerDocument),o.theme&&i.removeCssClass(o.container,o.theme.cssClass);var r="padding"in n?n.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&r!=o.$padding&&o.setPadding(r),o.$theme=n.cssClass,o.theme=n,i.addCssClass(o.container,n.cssClass),i.setCssClass(o.container,"ace_dark",n.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}var o=this;if(this.$themeId=e,o._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var s=e||this.$options.theme.initialValue;r.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}.call(m.prototype),r.defineOptions(m.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight(),void 0):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=m}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../lib/net"),r=e("../lib/event_emitter").EventEmitter,o=e("../config"),s=function(t,n,i,r){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)r=r||o.moduleUrl(n,"worker");else{var s=this.$normalizePath;r=r||s(e.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach(function(t){a[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(r)}catch(l){if(!(l instanceof window.DOMException))throw l;var u=this.$workerBlob(r),c=window.URL||window.webkitURL,h=c.createObjectURL(u);this.$worker=new Worker(h),c.revokeObjectURL(h)}this.$worker.postMessage({init:!0,tlns:a,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};!function(){n.implement(this,r),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,0))},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>20&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,o=new r;return o.append(t),o.getBlob("application/javascript")}}}.call(s.prototype);var a=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,s=!1,a=Object.create(r),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),i&&(s?setTimeout(u):u())},this.setEmitSync=function(e){s=e};var u=function(){var e=l.messageBuffer.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){for(i=new e[n](a);l.messageBuffer.length;)u()})};a.prototype=s.prototype,t.UIWorkerClient=a,t.WorkerClient=s}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t){"use strict";var n=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,r=e("./lib/oop"),o=function(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};!function(){r.implement(this,i),this.setup=function(){var e=this,t=this.doc,i=this.session,r=this.$pos;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(r.row,r.column),this.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){i.removeMarker(e.markerId),e.markerId=i.addMarker(new n(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);e.others.push(i)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1),i.on("change",function(r){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(r.value.row,r.value.column,r.value.row,r.value.column+t.length),t.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){var t=e.data,i=t.range;if(i.start.row===i.end.row&&i.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var r="insertText"===t.action?i.end.column-i.start.column:i.start.column-i.end.column;if(i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1){var o=i.start.column-this.pos.column;if(this.length+=r,!this.session.$fromUndo){if("insertText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.insert(l,t.text)}else if("removeText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.remove(new n(l.row,l.column,l.row,l.column-r))}i.start.column===this.pos.column&&"insertText"===t.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-r);for(var e=0;e<this.others.length;e++){var t=this.others[e],n={row:t.row,column:t.column-r};t.row===i.start.row&&i.start.column<t.column&&(n.column+=r),t.setPosition(n.row,n.column)}}.bind(this),0):i.start.column===this.pos.column&&"removeText"===t.action&&setTimeout(function(){for(var e=0;e<this.others.length;e++){var t=this.others[e];t.row===i.start.row&&i.start.column<t.column&&t.setPosition(t.row,t.column-r)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var s=0;s<this.others.length;s++)this.others[s]._emit("change",{value:this.others[s]})}this.$updating=!1}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;e<this.others.length;e++)this.others[e].detach();this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;t>n;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}.call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,i=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),u=e.getButton();if(a&&o.isMac&&(u=t.button),e.editor.inMultiSelectMode&&2==u)return e.editor.textInput.onContextMenu(e.domEvent),void 0;if(!a&&!i&&!l)return 0===u&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode(),void 0;if(0===u){var c,h=e.editor,d=h.selection,p=h.inMultiSelectMode,f=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&n(f,g),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=h.session,C=h.renderer.pixelToScreenCoordinates(v,y),x=C;if(h.$mouseHandler.$enableJumpToDef)a&&i||l&&i?c="add":i&&(c="block");
else if(l&&!i){if(c="add",!p&&s)return}else i&&(c="block");if(c&&o.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==c){if(!p&&m)return;if(!p){var A=d.toOrientedRange();h.addSelectionMarker(A)}var S=d.rangeList.rangeAtPoint(f);h.$blockScrolling++,h.inVirtualSelectionMode=!0,s&&(S=null,A=d.ranges[0],h.removeSelectionMarker(A)),h.once("mouseup",function(){var e=d.toOrientedRange();S&&e.isEmpty()&&n(S.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(A.cursor):A&&(h.removeSelectionMarker(A),d.addRange(A)),d.addRange(e)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==c){e.stop(),h.inVirtualSelectionMode=!0;var _,E=[],$=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column);n(x,e)&&n(t,d.lead)||(x=e,h.$blockScrolling++,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(E),E=d.rectangularRangeBlock(x,C),h.$mouseHandler.$clickSelection&&1==E.length&&E[0].isEmpty()&&(E[0]=h.$mouseHandler.$clickSelection.clone()),E.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};h.$blockScrolling++,p&&!l?d.toSingleRange():!p&&l&&(_=d.toOrientedRange(),h.addSelectionMarker(_)),s?C=w.documentToScreenPosition(d.lead):d.moveToPosition(f),h.$blockScrolling--,x={row:-1,column:-1};var T=function(){clearInterval(D),h.removeSelectionMarkers(E),E.length||(E=[d.toOrientedRange()]),h.$blockScrolling++,_&&(h.removeSelectionMarker(_),d.toSingleRange(_));for(var e=0;e<E.length;e++)d.addRange(E[e]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},k=$;r.capture(h.container,b,T);var D=setInterval(function(){k()},20);return e.preventDefault()}}}var r=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=i}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readonly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t){function n(e,t,n){return f.$options.wrap=!0,f.$options.needle=t,f.$options.backwards=-1==n,f.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function r(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(d.defaultCommands),o(e))}function o(e){function t(){i&&(e.renderer.setMouseCursor(""),i=!1)}var n=e.textInput.getElement(),i=!1;c.addListener(n,"keydown",function(n){18!=n.keyCode||n.ctrlKey||n.shiftKey||n.metaKey?i&&t():i||(e.renderer.setMouseCursor("crosshair"),i=!0)}),c.addListener(n,"keyup",t),c.addListener(n,"blur",t)}var s=e("./range_list").RangeList,a=e("./range").Range,l=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,c=e("./lib/event"),h=e("./lib/lang"),d=e("./commands/multi_select_commands");t.commands=d.defaultCommands.concat(d.multiSelectCommands);var p=e("./search").Search,f=new p,g=e("./edit_session").EditSession;!function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}.call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);return t?(this.$onRemoveRange(t),t[0]):void 0},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var s=n.end,l=n.start;else var s=n.start,l=n.end;return this.addRange(a.fromPoints(l,l)),this.addRange(a.fromPoints(s,s)),void 0}var u=[],c=this.getLineRange(r,!0);c.start.column=n.start.column,u.push(c);for(var h=r+1;o>h;h++)u.push(this.getLineRange(h,!0));c=this.getLineRange(o,!0),c.end.column=n.end.column,u.push(c),u.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(i,r);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,l=t.column;else var s=t.column,l=e.column;var u=e.row<t.row;if(u)var c=e.row,h=t.row;else var c=t.row,h=e.row;0>s&&(s=0),0>c&&(c=0),c==h&&(n=!0);for(var d=c;h>=d;d++){var p=a.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,l));if(p.isEmpty()){if(f&&i(p.end,f))break;var f=p.end}p.cursor=o?p.start:p.end,r.push(p)}if(u&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;r[m].isEmpty();)m++;for(var v=g;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(l.prototype);var m=e("./editor").Editor;!function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,u=a.rangeList,c=(r?a:u).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=a._eventRegistry;a._eventRegistry={};var d=new l(s);this.inVirtualSelectionMode=!0;for(var p=c.length;p--;){if(o)for(;p>0&&c[p].start.row==c[p-1].end.row;)p--;d.fromOrientedRange(c[p]),d.index=p,this.selection=s.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});!i&&void 0!==f&&(i=f),d.toOrientedRange(c[p])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();e=n.join(r),e.length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(r.row+e,r.column);if(n.isEmpty())var s=o;else var l=this.session.documentToScreenPosition(i?n.end:n.start),s=this.session.screenToDocumentPosition(l.row+e,l.column);if(i){var u=a.fromPoints(o,s);u.cursor=u.start}else{var u=a.fromPoints(s,o);u.cursor=u.end}if(u.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(u),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){var o=i[r];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var o=i[r];a.unshift(t.getTextRange(o))}0>e?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var o=i[r],s=o.clone();t.replace(o,a[r]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(e,t,i){var r=this.session,o=r.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=r.getWordRange(s.start.row,s.start.column),s.cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var a=r.getTextRange(s),l=n(r,a,e);l&&(l.cursor=-1==e?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,r=n.filter(function(e){return e.cursor.row==i?!0:(i=e.cursor.row,void 0)});if(n.length&&r.length!=n.length-1){r.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=1/0,l=n.map(function(t){var n=t.cursor,i=e.getLine(n.row),r=i.substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>o&&(o=n.column),s>r&&(s=r),r});n.forEach(function(t,n){var i=t.cursor,r=o-i.column,u=l[n]-s;r>u?e.insert(i,h.stringRepeat(" ",r-u)):e.remove(new a(i.row,i.column,i.row,i.column-r+u)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),c=u.start.row,d=u.end.row,p=c==d;if(p){var f,g=this.session.getLength();do f=this.session.getLine(d);while(/[=:]/.test(f)&&++d<g);do f=this.session.getLine(c);while(/[=:]/.test(f)&&--c>0);0>c&&(c=0),d>=g&&(d=g-1)}var m=this.session.doc.removeLines(c,d);m=this.$reAlignText(m,p),this.session.doc.insert({row:c,column:0},m.join("\n")+"\n"),p||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){function n(e){return h.stringRepeat(" ",e)}function i(e){return e[2]?n(s)+e[2]+n(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function r(e){return e[2]?n(s+a-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(s)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,a,l,u=!0,c=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,a=t[2].length,l=t[3].length,t):(s+a+l!=t[1].length+t[2].length+t[3].length&&(c=!1),s!=t[1].length&&(u=!1),s>t[1].length&&(s=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?i:u?c?r:i:o)}}.call(m.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=r,e("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(e){r(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("../../range").Range,i=t.FoldMode=function(){};!function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,i){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=i||o.length,l=e.getLength(),u=t,c=t;++t<l;){var h=e.getLine(t).search(r);if(-1!=h){if(s>=h)break;c=t}}if(c>u){var d=e.getLine(c).length;return new n(u,a,c,d)}}},this.openingBracketBlock=function(e,t,i,r,o){var s={row:i,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,r){var o={row:i,column:r},s=e.$findOpeningBracket(t,o);if(s)return s.column++,o.column--,n.fromPoints(s,o)}}.call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeEditor",this.$onChangeEditor)}var i=(e("./lib/oop"),e("./lib/dom"));e("./range").Range,function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.data,i=n.range,r=i.start.row,o=i.end.row-r;if(0!==o)if("removeText"==n.action||"removeLines"==n.action){var s=t.splice(r+1,o);s.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var a=new Array(o);a.unshift(r,0),t.splice.apply(t,a),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){e&&(t=!1,e.row=n)}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength())),this.session.lineWidgets[e.row]=e;var t=this.editor.renderer;return e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}this.session.lineWidgets&&(this.session.lineWidgets[e.row]=void 0),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el)),s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),0>a&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}1/0!=r&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;o>=s;s++){var a=i[s];if(a&&a.el){a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var u=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(u-=t.scrollLeft),a.el.style.left=u+"px",a.el.style.right=a.fixedWidth?t.scrollBar.getWidth()+"px":""}}}}}.call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e,t,n){for(var i=0,r=e.length-1;r>=i;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(0>s))return o;r=o-1}}return-(i+1)}function i(e,t,i){var r=e.getAnnotations().sort(s.comparePoints);if(r.length){var o=n(r,{row:t,column:-1},s.comparePoints);0>o&&(o=-o-1),o>=r.length?o=i>0?0:r.length-1:0===o&&0>i&&(o=r.length-1);var a=r[o];if(a&&i){if(a.row===t){do a=r[o+=i];while(a&&a.row===t);if(!a)return r.slice()}var l=[];t=a.row;do l[0>i?"unshift":"push"](a),a=r[o+=i];while(a&&a.row==t);return l.length&&l}}}var r=e("../line_widgets").LineWidgets,o=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.lineWidgets&&n.lineWidgets[a];l?l.destroy():a-=t;var u,c=i(n,a,t);if(c){var h=c[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,u=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;u={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div")},p=d.el.appendChild(o.createElement("div")),f=d.el.appendChild(o.createElement("div"));f.className="error_widget_arrow "+u.className;var g=e.renderer.$cursorLayer.getPixelPosition(s).left;f.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+u.className,p.innerHTML=u.text.join("<br>"),p.appendChild(o.createElement("div"));var m=function(e,t,n){return 0!==t||"esc"!==n&&"return"!==n?void 0:(d.destroy(),{command:"null"})};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),i=e("./lib/event"),r=e("./editor").Editor,o=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e){if("string"==typeof e){var o=e;if(e=document.getElementById(o),!e)throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof r)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;s=l.value,e=n.createElement("pre"),l.parentNode.replaceChild(e,l)}else s=n.getInnerText(e),e.innerHTML="";var u=t.createEditSession(s),c=new r(new a(e));c.setSession(u);var h={document:u,editor:c,onResize:c.resize.bind(c,null)};return l&&(h.textarea=l),i.addListener(window,"resize",h.onResize),c.on("destroy",function(){i.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),c.container.env=c.env=h,c},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new s),n},t.EditSession=o,t.UndoManager=s}),function(){ace.require(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){"use strict";
var n=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},r.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};n.inherits(r,i),r.getTagRule=function(){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},r.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},r.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=r}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./doc_comment_highlight_rules").DocCommentHighlightRules,r=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",r="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*\\b",o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},i.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+r+")(\\.)(prototype)(\\.)("+r+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+r+")(\\.)("+r+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+r+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+r+")(\\.)("+r+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+r+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+r+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+n+")\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:r},{token:"keyword.operator",regex:/--|\+\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],start:[i.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:r},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[i.getTagRule(),{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],comment:[i.getTagRule(),{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],line_comment_regex_allowed:[i.getTagRule(),{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],line_comment:[i.getTagRule(),{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!e||!e.noES6)&&this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){return this.next="{"==e?this.nextState:"","{"==e&&n.length?(n.unshift("start",t),"paren"):"}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string"))?"paren.quasi.end":"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:o},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),this.embedRules(i,"doc-",[i.getEndRule("no_regex")]),this.normalizeRules()};n.inherits(o,r),t.JavaScriptHighlightRules=o}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("../range").Range,i=function(){};!function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}.call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){"use strict";var n,i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),a=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],u={},c=function(e){var t=-1;return e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?n=u[t]:(n=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""},void 0)},h=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},d=function(){this.add("braces","insertion",function(e,t,i,r,o){var a=i.getCursorPosition(),l=r.doc.getLine(a.row);if("{"==o){c(i);var u=i.getSelectionRange(),p=r.doc.getTextRange(u);if(""!==p&&"{"!==p&&i.getWrapBehavioursEnabled())return h(u,p,"{","}");if(d.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[a.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){c(i);var f=l.substring(a.column,a.column+1);if("}"==f){var g=r.$findOpeningBracket("}",{column:a.column+1,row:a.row});if(null!==g&&d.isAutoInsertedClosing(a,l,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){c(i);var m="";d.isMaybeInsertedClosing(a,l)&&(m=s.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var f=l.substring(a.column,a.column+1);if("}"===f){var v=r.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!v)return null;var y=this.$getIndent(r.getLine(v.row))}else{if(!m)return d.clearMaybeInsertedClosing(),void 0;var y=this.$getIndent(l)}var b=y+r.getTabString();return{text:"\n"+b+"\n"+y+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){c(i);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,i,r){if("("==r){c(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return h(o,s,"(",")");if(d.isSaneInsertion(n,i))return d.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){c(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),u=l.substring(a.column,a.column+1);if(")"==u){var p=i.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==p&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){c(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,n,i,r){if("["==r){c(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return h(o,s,"[","]");if(d.isSaneInsertion(n,i))return d.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){c(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),u=l.substring(a.column,a.column+1);if("]"==u){var p=i.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==p&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){c(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,n,i,r){if('"'==r||"'"==r){c(n);var o=r,s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return h(s,a,o,o);if(!a){var l=n.getCursorPosition(),u=i.doc.getLine(l.row),d=u.substring(l.column-1,l.column),p=u.substring(l.column,l.column+1),f=i.getTokenAt(l.row,l.column),g=i.getTokenAt(l.row,l.column+1);if("\\"==d&&f&&/escape/.test(f.type))return null;var m,v=f&&/string/.test(f.type),y=!g||/string/.test(g.type);if(p==o)m=v!==y;else{if(v&&!y)return null;if(v&&y)return null;var b=i.$mode.tokenRe;b.lastIndex=0;var w=b.test(d);b.lastIndex=0;var C=b.test(d);if(w||C)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;m=!0}return{text:m?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){c(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};d.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",a)){var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",a))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",l)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},i.inherits(d,r),t.CstyleBehaviour=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t){"use strict";var n=e("../../lib/oop"),i=e("../../range").Range,r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(o,r),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r=e.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,n);var o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,s);var a=e.getCommentFoldRange(n,s+o[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=r.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,s):e.getCommentFoldRange(n,s,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),o=t,s=n.length;t+=1;for(var a=t,l=e.getLength();++t<l;){n=e.getLine(t);var u=n.search(/\S/);if(-1!==u){if(r>u)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=o)break;if(c.isMultiLine())t=c.end.row;else if(r==u)break}a=t}}return new i(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/)#(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var u=a.exec(t);if(u&&(u[1]?l--:l++,!l))break}var c=n;return c>s?new i(s,r,c,t.length):void 0}}.call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./text").Mode,r=e("./javascript_highlight_rules").JavaScriptHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,s=(e("../range").Range,e("../worker/worker_client").WorkerClient),a=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=r,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new l};n.inherits(u,i),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e){var a=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);a&&(i+=n)}else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a=t.match(/^\s*(\/?)\*/);a&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(u.prototype),t.Mode=u}),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},r.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};n.inherits(r,i),r.getTagRule=function(){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},r.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},r.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=r}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./doc_comment_highlight_rules").DocCommentHighlightRules,r=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",r="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*\\b",o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},i.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+r+")(\\.)(prototype)(\\.)("+r+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+r+")(\\.)("+r+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+r+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+r+")(\\.)("+r+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+r+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+r+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+n+")\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:r},{token:"keyword.operator",regex:/--|\+\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],start:[i.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:r},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[i.getTagRule(),{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],comment:[i.getTagRule(),{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],line_comment_regex_allowed:[i.getTagRule(),{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],line_comment:[i.getTagRule(),{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!e||!e.noES6)&&this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){return this.next="{"==e?this.nextState:"","{"==e&&n.length?(n.unshift("start",t),"paren"):"}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string"))?"paren.quasi.end":"{"==e?"paren.lparen":"paren.rparen"
},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:o},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),this.embedRules(i,"doc-",[i.getEndRule("no_regex")]),this.normalizeRules()};n.inherits(o,r),t.JavaScriptHighlightRules=o}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("../range").Range,i=function(){};!function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}.call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){"use strict";var n,i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),a=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],u={},c=function(e){var t=-1;return e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?n=u[t]:(n=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""},void 0)},h=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},d=function(){this.add("braces","insertion",function(e,t,i,r,o){var a=i.getCursorPosition(),l=r.doc.getLine(a.row);if("{"==o){c(i);var u=i.getSelectionRange(),p=r.doc.getTextRange(u);if(""!==p&&"{"!==p&&i.getWrapBehavioursEnabled())return h(u,p,"{","}");if(d.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[a.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){c(i);var f=l.substring(a.column,a.column+1);if("}"==f){var g=r.$findOpeningBracket("}",{column:a.column+1,row:a.row});if(null!==g&&d.isAutoInsertedClosing(a,l,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){c(i);var m="";d.isMaybeInsertedClosing(a,l)&&(m=s.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var f=l.substring(a.column,a.column+1);if("}"===f){var v=r.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!v)return null;var y=this.$getIndent(r.getLine(v.row))}else{if(!m)return d.clearMaybeInsertedClosing(),void 0;var y=this.$getIndent(l)}var b=y+r.getTabString();return{text:"\n"+b+"\n"+y+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){c(i);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,i,r){if("("==r){c(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return h(o,s,"(",")");if(d.isSaneInsertion(n,i))return d.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){c(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),u=l.substring(a.column,a.column+1);if(")"==u){var p=i.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==p&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){c(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,n,i,r){if("["==r){c(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return h(o,s,"[","]");if(d.isSaneInsertion(n,i))return d.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){c(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),u=l.substring(a.column,a.column+1);if("]"==u){var p=i.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==p&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){c(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,n,i,r){if('"'==r||"'"==r){c(n);var o=r,s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return h(s,a,o,o);if(!a){var l=n.getCursorPosition(),u=i.doc.getLine(l.row),d=u.substring(l.column-1,l.column),p=u.substring(l.column,l.column+1),f=i.getTokenAt(l.row,l.column),g=i.getTokenAt(l.row,l.column+1);if("\\"==d&&f&&/escape/.test(f.type))return null;var m,v=f&&/string/.test(f.type),y=!g||/string/.test(g.type);if(p==o)m=v!==y;else{if(v&&!y)return null;if(v&&y)return null;var b=i.$mode.tokenRe;b.lastIndex=0;var w=b.test(d);b.lastIndex=0;var C=b.test(d);if(w||C)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;m=!0}return{text:m?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){c(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};d.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",a)){var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",a))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",l)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},i.inherits(d,r),t.CstyleBehaviour=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t){"use strict";var n=e("../../lib/oop"),i=e("../../range").Range,r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(o,r),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r=e.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,n);var o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,s);var a=e.getCommentFoldRange(n,s+o[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=r.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,s):e.getCommentFoldRange(n,s,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),o=t,s=n.length;t+=1;for(var a=t,l=e.getLength();++t<l;){n=e.getLine(t);var u=n.search(/\S/);if(-1!==u){if(r>u)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=o)break;if(c.isMultiLine())t=c.end.row;else if(r==u)break}a=t}}return new i(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/)#(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var u=a.exec(t);if(u&&(u[1]?l--:l++,!l))break}var c=n;return c>s?new i(s,r,c,t.length):void 0}}.call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./text").Mode,r=e("./javascript_highlight_rules").JavaScriptHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,s=(e("../range").Range,e("../worker/worker_client").WorkerClient),a=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=r,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new l};n.inherits(u,i),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e){var a=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);a&&(i+=n)}else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a=t.match(/^\s*(\/?)\*/);a&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(u.prototype),t.Mode=u}),ace.define("ace/mode/java_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./doc_comment_highlight_rules").DocCommentHighlightRules,r=e("./text_highlight_rules").TextHighlightRules,o=function(){var e="abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while",t="null|Infinity|NaN|undefined",n="AbstractMethodError|AssertionError|ClassCircularityError|ClassFormatError|Deprecated|EnumConstantNotPresentException|ExceptionInInitializerError|IllegalAccessError|IllegalThreadStateException|InstantiationError|InternalError|NegativeArraySizeException|NoSuchFieldError|Override|Process|ProcessBuilder|SecurityManager|StringIndexOutOfBoundsException|SuppressWarnings|TypeNotPresentException|UnknownError|UnsatisfiedLinkError|UnsupportedClassVersionError|VerifyError|InstantiationException|IndexOutOfBoundsException|ArrayIndexOutOfBoundsException|CloneNotSupportedException|NoSuchFieldException|IllegalArgumentException|NumberFormatException|SecurityException|Void|InheritableThreadLocal|IllegalStateException|InterruptedException|NoSuchMethodException|IllegalAccessException|UnsupportedOperationException|Enum|StrictMath|Package|Compiler|Readable|Runtime|StringBuilder|Math|IncompatibleClassChangeError|NoSuchMethodError|ThreadLocal|RuntimePermission|ArithmeticException|NullPointerException|Long|Integer|Short|Byte|Double|Number|Float|Character|Boolean|StackTraceElement|Appendable|StringBuffer|Iterable|ThreadGroup|Runnable|Thread|IllegalMonitorStateException|StackOverflowError|OutOfMemoryError|VirtualMachineError|ArrayStoreException|ClassCastException|LinkageError|NoClassDefFoundError|ClassNotFoundException|RuntimeException|Exception|ThreadDeath|Error|Throwable|System|ClassLoader|Cloneable|Class|CharSequence|Comparable|String|Object",r=this.createKeywordMapper({"variable.language":"this",keyword:e,"constant.language":t,"support.function":n},"identifier");this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},i.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:r,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",regex:".+"}]},this.embedRules(i,"doc-",[i.getEndRule("start")])};n.inherits(o,r),t.JavaHighlightRules=o}),ace.define("ace/mode/java",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/mode/java_highlight_rules"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./javascript").Mode,r=e("./java_highlight_rules").JavaHighlightRules,o=function(){i.call(this),this.HighlightRules=r};n.inherits(o,i),function(){this.createWorker=function(){return null},this.$id="ace/mode/java"}.call(o.prototype),t.Mode=o}),ace.define("ace/theme/xcode",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace-xcode",t.cssText=".ace-xcode .ace_gutter {background: #e8e8e8;color: #333}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {background-color: #FFFFFF;color: #000000}.ace-xcode .ace_cursor {color: #000000}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;border-radius: 2px}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_gutter-active-line {background-color: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_fold {background-color: #C800A4;border-color: #000000}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}.ace-xcode .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y}";var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=e("./lib/lang"),o=e("./range").Range,s=e("./anchor").Anchor,a=e("./keyboard/hash_handler").HashHandler,l=e("./tokenizer").Tokenizer,u=o.comparePoints,c=function(){this.snippetMap={},this.snippetNameMap={}};!function(){n.implement(this,i),this.getTokenizer=function(){function e(e,t,n){return e=e.substr(1),/^\d+$/.test(e)&&!n.inFormatString?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}return c.$tokenizer=new l({start:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectIf?(n[0].expectIf=!1,n[0].elseBranch=n[0],[n[0]]):":"}},{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return"}"==i&&n.length?e=i:-1!="`$\\".indexOf(i)?e=i:n.inFormatString&&("n"==i?e="\n":"t"==i?e="\n":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:i>"a"})),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,i){var r=e(t.substr(1),n,i);return i.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){n[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+t("/")+"+)/(?:("+t("/")+"*)/)(\\w*):?",onMatch:function(e,t,n){var i=n[0];return i.fmtString=e,e=this.splitRegex.exec(e),i.guard=e[1],i.fmt=e[2],i.flag=e[3],""},next:"start"},{regex:"`"+t("`")+"*`",onMatch:function(e,t,n){return n[0].code=e.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(e,t,n){n[0]&&(n[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+t("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,n){n.inFormatString=!0},next:"start"}]}),c.prototype.getTokenizer=function(){return c.$tokenizer},c.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var n=t.substr(1);return(this.variables[t[0]+"__"]||{})[n]}if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),e){var i=e.session;switch(t){case"CURRENT_WORD":var r=i.getWordRange();case"SELECTION":case"SELECTED_TEXT":return i.getTextRange(r);case"CURRENT_LINE":return i.getLine(e.getCursorPosition().row);case"PREV_LINE":return i.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return i.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return i.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(e,t){return this.variables.hasOwnProperty(t)?this.variables[t](e,t)||"":this.$getDefaultValue(e,t)||""},this.tmStrFormat=function(e,t,n){var i=t.flag||"",r=t.guard;r=new RegExp(r,i.replace(/[^gi]/,""));var o=this.tokenizeTmSnippet(t.fmt,"formatString"),s=this,a=e.replace(r,function(){s.variables.__=arguments;for(var e=s.resolveVariables(o,n),t="E",i=0;i<e.length;i++){var r=e[i];if("object"==typeof r)if(e[i]="",r.changeCase&&r.local){var a=e[i+1];a&&"string"==typeof a&&(e[i]="u"==r.changeCase?a[0].toUpperCase():a[0].toLowerCase(),e[i+1]=a.substr(1))}else r.changeCase&&(t=r.changeCase);else"U"==t?e[i]=r.toUpperCase():"L"==t&&(e[i]=r.toLowerCase())}return e.join("")});return this.variables.__=null,a},this.resolveVariables=function(e,t){function n(t){var n=e.indexOf(t,r+1);-1!=n&&(r=n)}for(var i=[],r=0;r<e.length;r++){var o=e[r];if("string"==typeof o)i.push(o);else{if("object"!=typeof o)continue;if(o.skip)n(o);else{if(o.processed<r)continue;if(o.text){var s=this.getVariableValue(t,o.text);s&&o.fmtString&&(s=this.tmStrFormat(s,o)),o.processed=r,null==o.expectIf?s&&(i.push(s),n(o)):s?o.skip=o.elseBranch:n(o)}else null!=o.tabstopId?i.push(o):null!=o.changeCase&&i.push(o)}}}return i},this.insertSnippetForSelection=function(e,t){function n(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if("object"==typeof i){if(u[i.tabstopId])continue;var r=e.lastIndexOf(i,n-1);i=t[r]||{tabstopId:i.tabstopId}}t[n]=i}return t}var i=e.getCursorPosition(),r=e.session.getLine(i.row),o=e.session.getTabString(),s=r.match(/^\s*/)[0];i.column<s.length&&(s=s.slice(0,i.column));var a=this.tokenizeTmSnippet(t);a=this.resolveVariables(a,e),a=a.map(function(e){return"\n"==e?e+s:"string"==typeof e?e.replace(/\t/g,o):e});var l=[];a.forEach(function(e,t){if("object"==typeof e){var n=e.tabstopId,i=l[n];if(i||(i=l[n]=[],i.index=n,i.value=""),-1===i.indexOf(e)){i.push(e);var r=a.indexOf(e,t+1);if(-1!==r){var o=a.slice(t+1,r),s=o.some(function(e){return"object"==typeof e});s&&!i.value?i.value=o:o.length&&(!i.value||"string"!=typeof i.value)&&(i.value=o.join(""))}}}}),l.forEach(function(e){e.length=0});for(var u={},c=0;c<a.length;c++){var d=a[c];if("object"==typeof d){var p=d.tabstopId,f=a.indexOf(d,c+1);if(u[p])u[p]===d&&(u[p]=null);else{var g=l[p],m="string"==typeof g.value?[g.value]:n(g.value);m.unshift(c+1,Math.max(0,f-c)),m.push(d),u[p]=d,a.splice.apply(a,m),-1===g.indexOf(d)&&g.push(d)}}}var v=0,y=0,b="";a.forEach(function(e){"string"==typeof e?("\n"===e[0]?(y=e.length-1,v++):y+=e.length,b+=e):e.start?e.end={row:v,column:y}:e.start={row:v,column:y}});var w=e.getSelectionRange(),C=e.session.replace(w,b),x=new h(e),A=e.inVirtualSelectionMode&&e.selection.index;x.addTabstops(l,w.start,C,A)},this.insertSnippet=function(e,t){var n=this;return e.inVirtualSelectionMode?n.insertSnippetForSelection(e,t):(e.forEachSelection(function(){n.insertSnippetForSelection(e,t)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext(),void 0)},this.$getScope=function(e){var t=e.session.$mode.$id||"";if(t=t.split("/").pop(),"html"===t||"php"===t){"php"===t&&!e.session.$mode.inlinePhp&&(t="html");var n=e.getCursorPosition(),i=e.session.getState(n.row);"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],i=this.snippetMap;return i[t]&&i[t].includeScopes&&n.push.apply(n,i[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,i=e.forEachSelection(function(){return n.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i},this.expandSnippetForSelection=function(e,t){var n,i=e.getCursorPosition(),r=e.session.getLine(i.row),o=r.substring(0,i.column),s=r.substr(i.column),a=this.snippetMap;return this.getActiveScopes(e).some(function(e){var t=a[e];return t&&(n=this.findMatchingSnippet(t,o,s)),!!n},this),n?t&&t.dryRun?!0:(e.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(e,t,n){for(var i=e.length;i--;){var r=e[i];if(!(r.startRe&&!r.startRe.test(t)||r.endRe&&!r.endRe.test(n)||!r.startRe&&!r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){function n(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function i(e,t,i){return e=n(e),t=n(t),i?(e=t+e,e&&"$"!=e[e.length-1]&&(e+="$")):(e+=t,e&&"^"!=e[0]&&(e="^"+e)),new RegExp(e)}function o(e){e.scope||(e.scope=t||"_"),t=e.scope,s[t]||(s[t]=[],a[t]={});var n=a[t];if(e.name){var o=n[e.name];o&&l.unregister(o),n[e.name]=e}s[t].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=r.escapeRegExp(e.tabTrigger)),e.startRe=i(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger,"",!0),e.endRe=i(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger,"",!0)}var s=this.snippetMap,a=this.snippetNameMap,l=this;e||(e=[]),e&&e.content?o(e):Array.isArray(e)&&e.forEach(o),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){function n(e){var n=r[e.scope||t];if(n&&n[e.name]){delete n[e.name];var o=i[e.scope||t],s=o&&o.indexOf(e);s>=0&&o.splice(s,1)}}var i=this.snippetMap,r=this.snippetNameMap;e.content?n(e):Array.isArray(e)&&e.forEach(n)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],i={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=r.exec(e);){if(t[1])try{i=JSON.parse(t[1]),n.push(i)}catch(o){}if(t[4])i.content=t[4].replace(/^\t/gm,""),n.push(i),i={};else{var s=t[2],a=t[3];if("regex"==s){var l=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=l.exec(a)[1],i.trigger=l.exec(a)[1],i.endTrigger=l.exec(a)[1],i.endGuard=l.exec(a)[1]}else"snippet"==s?(i.tabTrigger=a.match(/^\S*/)[0],i.name||(i.name=a)):i[s]=a}}return n},this.getSnippetByName=function(e,t){var n,i=this.snippetNameMap;return this.getActiveScopes(t).some(function(t){var r=i[t];return r&&(n=r[e]),!!n},this),n}}.call(c.prototype);var h=function(e){return e.tabstopManager?e.tabstopManager:(e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=r.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e),void 0)};!function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t=e.data.range,n="r"==e.data.action[0],i=t.start,r=t.end,o=i.row,s=r.row,a=s-o,l=r.column-i.column;if(n&&(a=-a,l=-l),!this.$inChange&&n){var c=this.selectedTabstop,h=c&&!c.some(function(e){return u(e.start,i)<=0&&u(e.end,r)>=0});if(h)return this.detach()}for(var d=this.ranges,p=0;p<d.length;p++){var f=d[p];f.end.row<i.row||(n&&u(i,f.start)<0&&u(r,f.end)>0?(this.removeRange(f),p--):(f.start.row==o&&f.start.column>i.column&&(f.start.column+=l),f.end.row==o&&f.end.column>=i.column&&(f.end.column+=l),f.start.row>=o&&(f.start.row+=a),f.end.row>=o&&(f.end.row+=a),u(f.start,f.end)>0&&this.removeRange(f)))}d.length||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges){this.$inChange=!0;for(var n=this.editor.session,i=n.getTextRange(e.firstNonLinked),r=e.length;r--;){var o=e[r];if(o.linked){var s=t.snippetManager.tmStrFormat(i,o.original);n.replace(o,s)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var r=this.ranges[i].contains(e.row,e.column),o=n||this.ranges[i].contains(t.row,t.column);if(r&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);n=Math.min(Math.max(n,1),t),n==t&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,t=this.tabstops[this.index],t&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{var n=this.editor.multiSelect;n.toSingleRange(t.firstNonLinked.clone());for(var i=t.length;i--;)t.hasLinkedRanges&&t[i].linked||n.addRange(t[i].clone(),!0);n.ranges[0]&&n.addRange(n.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(e,t,n){if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var i=o.fromPoints(n,n);f(i.start,t),f(i.end,t),e[0]=[i],e[0].index=0}var r=this.index,s=[r+1,0],a=this.ranges;e.forEach(function(e,n){for(var i=this.$openTabstops[n]||e,r=e.length;r--;){var l=e[r],u=o.fromPoints(l.start,l.end||l.start);p(u.start,t),p(u.end,t),u.original=l,u.tabstop=i,a.push(u),i!=e?i.unshift(u):i[r]=u,l.fmtString?(u.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=u)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===e&&(s.push(i),this.$openTabstops[n]=i),this.addTabstopMarkers(i)},this),s.length>2&&(this.tabstops.length&&s.push(s.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,s))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1),t=this.ranges.indexOf(e),this.ranges.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(t=this.tabstops.indexOf(e.tabstop),-1!=t&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new a,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(){return!1}})}.call(h.prototype);var d={};d.onChange=s.prototype.onChange,d.setPosition=function(e,t){this.pos.row=e,this.pos.column=t},d.update=function(e,t,n){this.$insertRight=n,this.pos=e,this.onChange(t)};var p=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},f=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),t.snippetManager=new c;var g=e("./editor").Editor;!function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)
}}.call(g.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/edit_session","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t){"use strict";var n=(e("../edit_session").EditSession,e("../virtual_renderer").VirtualRenderer),i=e("../editor").Editor,r=e("../range").Range,o=e("../lib/event"),s=e("../lib/lang"),a=e("../lib/dom"),l=function(e){var t=new n(e);t.$maxLines=4;var r=new i(t);return r.setHighlightActiveLine(!1),r.setShowPrintMargin(!1),r.renderer.setShowGutter(!1),r.renderer.setHighlightGutterLine(!1),r.$mouseHandler.$focusWaitTimout=0,r.$highlightTagPending=!0,r},u=function(e){var t=a.createElement("div"),n=new l(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var i=function(){};n.focus=i,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=i,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),h.start.row=h.end.row=t.row,e.stop()});var u,c=new r(-1,0,-1,1/0),h=new r(-1,0,-1,1/0);h.id=n.session.addMarker(h,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?c.id&&(n.session.removeMarker(c.id),c.id=null):c.id=n.session.addMarker(c,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",function(e){if(!u)return u=e,void 0;if(u.x!=e.x||u.y!=e.y){u=e,u.scrollTop=n.renderer.scrollTop;var t=u.getDocumentPosition().row;c.start.row!=t&&(c.id||n.setRow(t),p(t))}}),n.renderer.on("beforeRender",function(){if(u&&-1!=c.start.row){u.$pos=null;var e=u.getDocumentPosition().row;c.id||n.setRow(e),p(e,!0)}}),n.renderer.on("afterRender",function(){var e=n.getRow(),t=n.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow];i!=t.selectedNode&&(t.selectedNode&&a.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=i,i&&a.addCssClass(i,"ace_selected"))});var d=function(){p(-1)},p=function(e,t){e!==c.start.row&&(c.start.row=c.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return c.start.row},o.addListener(n.container,"mouseout",d),n.on("hide",d),n.on("changeSelection",d),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var f=n.session.bgTokenizer;return f.$tokenizeRow=function(e){var t=n.data[e],i=[];if(!t)return i;"string"==typeof t&&(t={value:t}),t.caption||(t.caption=t.value||t.name);for(var r,o,s=-1,a=0;a<t.caption.length;a++)o=t.caption[a],r=t.matchMask&1<<a?1:0,s!==r?(i.push({type:t.className||""+(r?"completion-highlight":""),value:o}),s=r):i[i.length-1].value+=o;if(t.meta){var l=n.renderer.$size.scrollerWidth/n.renderer.layerConfig.characterWidth,u=t.meta;u.length+t.caption.length>l-2&&(u=u.substr(0,l-t.caption.length-3)+""),i.push({type:"rightAlignedText",value:u})}return i},f.$updateOnChange=i,f.start=i,n.session.$computeWidth=function(){return this.screenWidth=0},n.$blockScrolling=1/0,n.isOpen=!1,n.isTopdown=!1,n.data=[],n.setData=function(e){n.data=e||[],n.setValue(s.stringRepeat("\n",e.length),-1),n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return h.start.row},n.setRow=function(e){e=Math.max(-1,Math.min(this.data.length,e)),h.start.row!=e&&(n.selection.clearSelection(),h.start.row=h.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()}),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,i){var r=this.container,o=window.innerHeight,s=window.innerWidth,a=this.renderer,l=1.4*a.$maxLines*t,c=e.top+this.$borderSize;c+l>o-t&&!i?(r.style.top="",r.style.bottom=o-c+"px",n.isTopdown=!1):(c+=t,r.style.top=c+"px",r.style.bottom="",n.isTopdown=!0),r.style.display="",this.renderer.$textLayer.checkForSizeChanges();var h=e.left;h+r.offsetWidth>s&&(h=s-r.offsetWidth),r.style.left=h+"px",this._signal("show"),u=null,n.isOpen=!0},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n};a.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),t.AcePopup=u}),ace.define("ace/autocomplete/util",["require","exports","module"],function(e,t){"use strict";t.parForEach=function(e,t,n){var i=0,r=e.length;0===r&&n();for(var o=0;r>o;o++)t(e[o],function(e,t){i++,i===r&&n(e,t)})};var n=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,i){i=i||n;for(var r=[],o=t-1;o>=0&&i.test(e[o]);o--)r.push(e[o]);return r.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,i){i=i||n;for(var r=[],o=t;o<e.length&&i.test(e[o]);o++)r.push(e[o]);return r}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(e,t){"use strict";var n=e("./keyboard/hash_handler").HashHandler,i=e("./autocomplete/popup").AcePopup,r=e("./autocomplete/util"),o=(e("./lib/event"),e("./lib/lang")),s=e("./lib/dom"),a=e("./snippets").snippetManager,l=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new n,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=o.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50)};!function(){this.$init=function(){return this.popup=new i(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.setData(this.completions.filtered),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var i=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var r=i.layerConfig.lineHeight,o=i.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var s=e.container.getBoundingClientRect();o.top+=s.top-i.layerConfig.offset,o.left+=s.left-e.renderer.scrollLeft,o.left+=i.$gutterLayer.gutterWidth,this.popup.show(o,r)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(){var e=this.editor.selection.lead;(e.row!=this.base.row||e.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement();t!=n&&(!this.popup||t.parentNode!=this.popup.container)&&t!=this.tooltipNode&&e.relatedTarget!=this.tooltipNode&&e.relatedTarget!=n&&this.detach()},this.mousedownListener=function(){this.detach()},this.mousewheelListener=function(){this.detach()},this.goTo=function(e){var t=this.popup.getRow(),n=this.popup.session.getLength()-1;switch(e){case"up":t=0>=t?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.popup.setRow(t)},this.insertMatch=function(e){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(this.completions.filterText)for(var t,n=this.editor.selection.getAllRanges(),i=0;t=n[i];i++)t.start.column-=this.completions.filterText.length,this.editor.session.remove(t);e.snippet?a.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(!0)},Tab:function(e){var t=e.completer.insertMatch();return t||e.tabstopManager?t:(e.completer.goTo("down"),void 0)},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),i=e.getCursorPosition(),o=n.getLine(i.row),s=r.retrievePrecedingIdentifier(o,i.column);this.base=n.doc.createAnchor(i.row,i.column-s.length),this.base.$insertRight=!0;var a=[],l=e.completers.length;return e.completers.forEach(function(o){o.getCompletions(e,n,i,s,function(i,o){i||(a=a.concat(o));var s=e.getCursorPosition(),u=n.getLine(s.row);t(null,{prefix:r.retrievePrecedingIdentifier(u,s.column,o[0]&&o[0].identifierRegex),matches:a,finished:0===--l})})}),!0},this.showPopup=function(e){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(e){if(e&&this.base&&this.completions){var t=this.editor.getCursorPosition(),n=this.editor.session.getTextRange({start:this.base,end:t});if(n==this.completions.filterText)return;return this.completions.setFilter(n),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=n||this.completions.filtered[0].snippet?(this.openPopup(this.editor,n,e),void 0):this.detach():this.detach()}var i=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,n){var r=function(){return n.finished?this.detach():void 0}.bind(this),o=n.prefix,s=n&&n.matches;if(!s||!s.length)return r();if(0===o.indexOf(n.prefix)&&i==this.gatherCompletionsId){this.completions=new u(s),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(o);var a=this.completions.filtered;return a.length?1!=a.length||a[0].value!=o||a[0].snippet?this.autoInsert&&1==a.length&&n.finished?this.insertMatch(a[0]):(this.openPopup(this.editor,o,e),void 0):r():r()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),i=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(e){return e.getDocTooltip&&(i=e.getDocTooltip(n)),i}),i||(i=n),"string"==typeof i&&(i={docText:i}),i&&(i.docHTML||i.docText)?(this.showDocTooltip(i),void 0):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var n=this.popup,i=n.container.getBoundingClientRect();t.style.top=n.container.style.top,t.style.bottom=n.container.style.bottom,window.innerWidth-i.right<320?(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right=""),t.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==e&&this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}}}.call(l.prototype),l.startCommand={name:"startAutocomplete",exec:function(e){e.completer||(e.completer=new l),e.completer.autoInsert=!1,e.completer.autoSelect=!0,e.completer.showPopup(e),e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var u=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};!function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else var t=this.all;this.filterText=e,t=this.filterCompletions(t,this.filterText),t=t.sort(function(e,t){return t.exactMatch-e.exactMatch||t.score-e.score});var n=null;t=t.filter(function(e){var t=e.snippet||e.caption||e.value;return t===n?!1:(n=t,!0)}),this.filtered=t},this.filterCompletions=function(e,t){var n=[],i=t.toUpperCase(),r=t.toLowerCase();e:for(var o,s=0;o=e[s];s++){var a=o.value||o.caption||o.snippet;if(a){var l,u,c=-1,h=0,d=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue e}else for(var p=0;p<t.length;p++){var f=a.indexOf(r[p],c+1),g=a.indexOf(i[p],c+1);if(l=f>=0?0>g||g>f?f:g:g,0>l)continue e;u=l-c-1,u>0&&(-1===c&&(d+=10),d+=u),h|=1<<l,c=l}o.matchMask=h,o.exactMatch=d?0:1,o.score=(o.score||0)-d,n.push(o)}}return n}}.call(u.prototype),t.Autocomplete=l,t.FilteredList=u}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,t){function n(e,t){var n=e.getTextRange(r.fromPoints({row:0,column:0},t));return n.split(o).length-1}function i(e,t){var i=n(e,t),r=e.getValue().split(o),s=Object.create(null),a=r[i];return r.forEach(function(e,t){if(e&&e!==a){var n=Math.abs(i-t),o=r.length-n;s[e]=s[e]?Math.max(o,s[e]):o}}),s}var r=e("../range").Range,o=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,n,r,o){var s=i(t,n,r),a=Object.keys(s);o(null,a.map(function(e){return{caption:e,value:e,score:s[e],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(e,t){"use strict";function n(e){var t,n=e.getCursorPosition(),i=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=a.retrievePrecedingIdentifier(i,n.column,e))})}),t||a.retrievePrecedingIdentifier(i,n.column)}var i=e("../snippets").snippetManager,r=e("../autocomplete").Autocomplete,o=e("../config"),s=e("../lib/lang"),a=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),u={getCompletions:function(e,t,n,i,r){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,i,r);var o=e.session.getState(n.row),s=t.$mode.getCompletions(o,t,n,i);r(null,s)}},c={getCompletions:function(e,t,n,r,o){var s=i.snippetMap,a=[];i.getActiveScopes(e).forEach(function(e){for(var t=s[e]||[],n=t.length;n--;){var i=t[n],r=i.name||i.tabTrigger;r&&a.push({caption:r,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+" ":"snippet",type:"snippet"})}},this),o(null,a)},getDocTooltip:function(e){"snippet"==e.type&&!e.docHTML&&(e.docHTML=["<b>",s.escapeHTML(e.caption),"</b>","<hr></hr>",s.escapeHTML(e.snippet)].join(""))}},h=[c,l,u];t.setCompleters=function(e){h=e||[]},t.addCompleter=function(e){h.push(e)},t.textCompleter=l,t.keyWordCompleter=u,t.snippetCompleter=c;var d={name:"expandSnippet",exec:function(e){return i.expandWithTab(e)},bindKey:"Tab"},p=function(e,t){f(t.session.$mode)},f=function(e){var t=e.$id;i.files||(i.files={}),g(t),e.modes&&e.modes.forEach(f)},g=function(e){if(e&&!i.files[e]){var t=e.replace("mode","snippets");i.files[e]={},o.loadModule(t,function(t){t&&(i.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(e){g("ace/mode/"+e)})))})}},m=function(e){var t=e.editor,i=(e.args||"",t.completer&&t.completer.activated);if("backspace"===e.command.name)i&&!n(t)&&t.completer.detach();else if("insertstring"===e.command.name){var o=n(t);o&&!i&&(t.completer||(t.completer=new r),t.completer.autoInsert=!1,t.completer.showPopup(t))}},v=e("../editor").Editor;e("../config").defineOptions(v.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:h),this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:h),this.commands.on("afterExec",m)):this.commands.removeListener("afterExec",m)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(d),this.on("changeMode",p),p(null,this)):(this.commands.removeCommand(d),this.off("changeMode",p))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(){})}(),ace.define("ace/ext/static_highlight",["require","exports","module","ace/edit_session","ace/layer/text","ace/config","ace/lib/dom"],function(e,t,n){"use strict";var i=e("../edit_session").EditSession,r=e("../layer/text").Text,o=".ace_static_highlight {font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Droid Sans Mono', monospace;font-size: 12px;white-space: pre-wrap}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line { position: relative; }.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}",s=e("../config"),a=e("../lib/dom"),l=function(e,t,n){var i=e.className.match(/lang-(\w+)/),r=t.mode||i&&"ace/mode/"+i[1];if(!r)return!1;var o=t.theme||"ace/theme/textmate",s="",u=[];if(e.firstElementChild)for(var c=0,h=0;h<e.childNodes.length;h++){var d=e.childNodes[h];3==d.nodeType?(c+=d.data.length,s+=d.data):u.push(c,d)}else s=a.getInnerText(e),t.trim&&(s=s.trim());l.render(s,r,o,t.firstLineNumber,!t.showGutter,function(t){a.importCssString(t.css,"ace_highlight"),e.innerHTML=t.html;for(var i=e.firstChild.firstChild,r=0;r<u.length;r+=2){var o=t.session.doc.indexToPosition(u[r]),s=u[r+1],l=i.children[o.row];l&&l.appendChild(s)}n&&n()})};l.render=function(e,t,n,r,o,a){function u(){var i=l.renderSync(e,t,n,r,o);return a?a(i):i}var c=1,h=i.prototype.$modes;"string"==typeof n&&(c++,s.loadModule(["theme",n],function(e){n=e,--c||u()}));var d;return t&&"object"==typeof t&&!t.getTokenizer&&(d=t,t=d.path),"string"==typeof t&&(c++,s.loadModule(["mode",t],function(e){(!h[t]||d)&&(h[t]=new e.Mode(d)),t=h[t],--c||u()})),--c||u()},l.renderSync=function(e,t,n,s,a){s=parseInt(s||1,10);var l=new i("");l.setUseWorker(!1),l.setMode(t);var u=new r(document.createElement("div"));u.setSession(l),u.config={characterWidth:10,lineHeight:20},l.setValue(e);for(var c=[],h=l.getLength(),d=0;h>d;d++)c.push("<div class='ace_line'>"),a||c.push("<span class='ace_gutter ace_gutter-cell' unselectable='on'></span>"),u.$renderLine(c,d,!0,!1),c.push("\n</div>");var p="<div class='"+n.cssClass+"'>"+"<div class='ace_static_highlight"+(a?"":" ace_show_gutter")+"' style='counter-reset:ace_line "+(s-1)+"'>"+c.join("")+"</div>"+"</div>";return u.destroy(),{css:o+n.cssText,html:p,session:l}},n.exports=l,n.exports.highlight=l}),function(){ace.require(["ace/ext/static_highlight"],function(){})}(),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t){"use strict";var n=e("../lib/dom"),i=e("../lib/lang"),r=e("../lib/event"),o=".ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 325px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;float: left;height: 22px;margin: 0;padding: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;float: right;font: 16px/16px Arial;height: 14px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;-moz-box-sizing: border-box;box-sizing:    border-box;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;}",s=e("../keyboard/hash_handler").HashHandler,a=e("../lib/keys");n.importCssString(o,"ace_searchbox");var l='<div class="ace_search right">    <button type="button" action="hide" class="ace_searchbtn_close"></button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <button type="button" action="findNext" class="ace_searchbtn next"></button>        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>        <button type="button" action="findAll" class="ace_searchbtn" title="Alt-Enter">All</button>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>    </div>    <div class="ace_search_options">        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>    </div></div>'.replace(/>\s+/g,">"),u=function(e){var t=n.createElement("div");t.innerHTML=l,this.element=t.firstChild,this.$init(),this.setEditor(e)};!function(){this.setEditor=function(e){e.searchBox=this,e.container.appendChild(this.element),this.editor=e},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOptions=e.querySelector(".ace_search_options"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;r.addListener(e,"mousedown",function(e){setTimeout(function(){t.activeInput.focus()},0),r.stopPropagation(e)}),r.addListener(e,"click",function(e){var n=e.target||e.srcElement,i=n.getAttribute("action");i&&t[i]?t[i]():t.$searchBarKb.commands[i]&&t.$searchBarKb.commands[i].exec(t),r.stopPropagation(e)}),r.addCommandKeyListener(e,function(e,n,i){var o=a.keyCodeToString(i),s=t.$searchBarKb.findKeyCommand(n,o);s&&s.exec&&(s.exec(t),r.stopEvent(e))}),this.$onChange=i.delayedCall(function(){t.find(!1,!1)}),r.addListener(this.searchInput,"input",function(){t.$onChange.schedule(20)}),r.addListener(this.searchInput,"focus",function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()}),r.addListener(this.replaceInput,"focus",function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()})},this.$closeSearchBarKb=new s([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new s,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f|Ctrl-H|Command-Option-F":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e[t?"replaceInput":"searchInput"].focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}}]),this.$syncOptions=function(){n.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),n.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),n.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.find(!1,!1)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t){var i=this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),r=!i&&this.searchInput.value;n.setCssClass(this.searchBox,"ace_nomatch",r),this.editor._emit("findSearchBox",{match:!r}),this.highlight()},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),t=!e&&this.searchInput.value;n.setCssClass(this.searchBox,"ace_nomatch",t),this.editor._emit("findSearchBox",{match:!t}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.element.style.display="",this.replaceBox.style.display=t?"":"none",this.isReplace=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}.call(u.prototype),t.SearchBox=u,t.Search=function(e,t){var n=e.searchBox||new u(e);n.show(e.session.getTextRange(),t)}}),function(){ace.require(["ace/ext/searchbox"],function(){})}(),function(){ace.require(["ace/ext/error_marker"],function(){})}(),ace.define("ace/snippets/java",["require","exports","module"],function(e,t){"use strict";t.snippetText='## Access Modifiers\nsnippet po\n	protected\nsnippet pu\n	public\nsnippet pr\n	private\n##\n## Annotations\nsnippet before\n	@Before\n	static void ${1:intercept}(${2:args}) { ${3} }\nsnippet mm\n	@ManyToMany\n	${1}\nsnippet mo\n	@ManyToOne\n	${1}\nsnippet om\n	@OneToMany${1:(cascade=CascadeType.ALL)}\n	${2}\nsnippet oo\n	@OneToOne\n	${1}\n##\n## Basic Java packages and import\nsnippet im\n	import\nsnippet j.b\n	java.beans.\nsnippet j.i\n	java.io.\nsnippet j.m\n	java.math.\nsnippet j.n\n	java.net.\nsnippet j.u\n	java.util.\n##\n## Class\nsnippet cl\n	class ${1:`Filename("", "untitled")`} ${2}\nsnippet in\n	interface ${1:`Filename("", "untitled")`} ${2:extends Parent}${3}\nsnippet tc\n	public class ${1:`Filename()`} extends ${2:TestCase}\n##\n## Class Enhancements\nsnippet ext\n	extends \nsnippet imp\n	implements\n##\n## Comments\nsnippet /*\n##\n## Constants\nsnippet co\n	static public final ${1:String} ${2:var} = ${3};${4}\nsnippet cos\n	static public final String ${1:var} = "${2}";${3}\n##\n## Control Statements\nsnippet case\n	case ${1}:\n		${2}\nsnippet def\n	default:\n		${2}\nsnippet el\n	else\nsnippet elif\n	else if (${1}) ${2}\nsnippet if\n	if (${1}) ${2}\nsnippet sw\n	switch (${1}) {\n		${2}\n	}\n##\n## Create a Method\nsnippet m\n	${1:void} ${2:method}(${3}) ${4:throws }${5}\n##\n## Create a Variable\nsnippet v\n	${1:String} ${2:var}${3: = null}${4};${5}\n##\n## Enhancements to Methods, variables, classes, etc.\nsnippet ab\n	abstract\nsnippet fi\n	final\nsnippet st\n	static\nsnippet sy\n	synchronized\n##\n## Error Methods\nsnippet err\n	System.err.print("${1:Message}");\nsnippet errf\n	System.err.printf("${1:Message}", ${2:exception});\nsnippet errln\n	System.err.println("${1:Message}");\n##\n## Exception Handling\nsnippet as\n	assert ${1:test} : "${2:Failure message}";${3}\nsnippet ca\n	catch(${1:Exception} ${2:e}) ${3}\nsnippet thr\n	throw\nsnippet ths\n	throws\nsnippet try\n	try {\n		${3}\n	} catch(${1:Exception} ${2:e}) {\n	}\nsnippet tryf\n	try {\n		${3}\n	} catch(${1:Exception} ${2:e}) {\n	} finally {\n	}\n##\n## Find Methods\nsnippet findall\n	List<${1:listName}> ${2:items} = ${1}.findAll();${3}\nsnippet findbyid\n	${1:var} ${2:item} = ${1}.findById(${3});${4}\n##\n## Javadocs\nsnippet /**\nsnippet @au\n	@author `system("grep \\`id -un\\` /etc/passwd | cut -d \\":\\" -f5 | cut -d \\",\\" -f1")`\nsnippet @br\n	@brief ${1:Description}\nsnippet @fi\n	@file ${1:`Filename()`}.java\nsnippet @pa\n	@param ${1:param}\nsnippet @re\n	@return ${1:param}\n##\n## Logger Methods\nsnippet debug\n	Logger.debug(${1:param});${2}\nsnippet error\n	Logger.error(${1:param});${2}\nsnippet info\n	Logger.info(${1:param});${2}\nsnippet warn\n	Logger.warn(${1:param});${2}\n##\n## Loops\nsnippet enfor\n	for (${1} : ${2}) ${3}\nsnippet for\n	for (${1}; ${2}; ${3}) ${4}\nsnippet wh\n	while (${1}) ${2}\n##\n## Main method\nsnippet main\n	public static void main (String[] args) {\n		${1:/* code */}\n	}\n##\n## Print Methods\nsnippet print\n	System.out.print("${1:Message}");\nsnippet printf\n	System.out.printf("${1:Message}", ${2:args});\nsnippet println\n	System.out.println(${1});\n##\n## Render Methods\nsnippet ren\n	render(${1:param});${2}\nsnippet rena\n	renderArgs.put("${1}", ${2});${3}\nsnippet renb\n	renderBinary(${1:param});${2}\nsnippet renj\n	renderJSON(${1:param});${2}\nsnippet renx\n	renderXml(${1:param});${2}\n##\n## Setter and Getter Methods\nsnippet set\n	${1:public} void set${3:}(${2:String} ${4:}){\n		this.$4 = $4;\n	}\nsnippet get\n	${1:public} ${2:String} get${3:}(){\n		return this.${4:};\n	}\n##\n## Terminate Methods or Loops\nsnippet re\n	return\nsnippet br\n	break;\n##\n## Test Methods\nsnippet t\n	public void test${1:Name}() throws Exception {\n		${2}\n	}\nsnippet test\n	@Test\n	public void test${1:Name}() throws Exception {\n		${2}\n	}\n##\n## Utils\nsnippet Sc\n	Scanner\n##\n## Miscellaneous\nsnippet action\n	public static void ${1:index}(${2:args}) { ${3} }\nsnippet rnf\n	notFound(${1:param});${2}\nsnippet rnfin\n	notFoundIfNull(${1:param});${2}\nsnippet rr\n	redirect(${1:param});${2}\nsnippet ru\n	unauthorized(${1:param});${2}\nsnippet unless\n	(unless=${1:param});${2}\n',t.scope="java"
}),ace.define("ace/snippets/javascript",["require","exports","module"],function(e,t){"use strict";t.snippetText='# Prototype\nsnippet proto\n	${1:class_name}.prototype.${2:method_name} = function(${3:first_argument}) {\n		${4:// body...}\n	};\n# Function\nsnippet fun\n	function ${1?:function_name}(${2:argument}) {\n		${3:// body...}\n	}\n# Anonymous Function\nregex /((=)\\s*|(:)\\s*|(\\()|\\b)/f/(\\))?/\nsnippet f\n	function${M1?: ${1:functionName}}($2) {\n		${0:$TM_SELECTED_TEXT}\n	}${M2?;}${M3?,}${M4?)}\n# Immediate function\ntrigger \\(?f\\(\nendTrigger \\)?\nsnippet f(\n	(function(${1}) {\n		${0:${TM_SELECTED_TEXT:/* code */}}\n	}(${1}));\n# if\nsnippet if\n	if (${1:true}) {\n		${0}\n	}\n# if ... else\nsnippet ife\n	if (${1:true}) {\n		${2}\n	} else {\n		${0}\n	}\n# tertiary conditional\nsnippet ter\n	${1:/* condition */} ? ${2:a} : ${3:b}\n# switch\nsnippet switch\n	switch (${1:expression}) {\n		case \'${3:case}\':\n			${4:// code}\n			break;\n		${5}\n		default:\n			${2:// code}\n	}\n# case\nsnippet case\n	case \'${1:case}\':\n		${2:// code}\n		break;\n	${3}\n\n# while (...) {...}\nsnippet wh\n	while (${1:/* condition */}) {\n		${0:/* code */}\n	}\n# try\nsnippet try\n	try {\n		${0:/* code */}\n	} catch (e) {}\n# do...while\nsnippet do\n	do {\n		${2:/* code */}\n	} while (${1:/* condition */});\n# Object Method\nsnippet :f\nregex /([,{[])|^\\s*/:f/\n	${1:method_name}: function(${2:attribute}) {\n		${0}\n	}${3:,}\n# setTimeout function\nsnippet setTimeout\nregex /\\b/st|timeout|setTimeo?u?t?/\n	setTimeout(function() {${3:$TM_SELECTED_TEXT}}, ${1:10});\n# Get Elements\nsnippet gett\n	getElementsBy${1:TagName}(\'${2}\')${3}\n# Get Element\nsnippet get\n	getElementBy${1:Id}(\'${2}\')${3}\n# console.log (Firebug)\nsnippet cl\n	console.log(${1});\n# return\nsnippet ret\n	return ${1:result}\n# for (property in object ) { ... }\nsnippet fori\n	for (var ${1:prop} in ${2:Things}) {\n		${0:$2[$1]}\n	}\n# hasOwnProperty\nsnippet has\n	hasOwnProperty(${1})\n# docstring\nsnippet /**\nsnippet @par\nregex /^\\s*\\*\\s*/@(para?m?)?/\n	@param {${1:type}} ${2:name} ${3:description}\nsnippet @ret\n	@return {${1:type}} ${2:description}\n# JSON.parse\nsnippet jsonp\n	JSON.parse(${1:jstr});\n# JSON.stringify\nsnippet jsons\n	JSON.stringify(${1:object});\n# self-defining function\nsnippet sdf\n	var ${1:function_name} = function(${2:argument}) {\n		${3:// initial code ...}\n\n		$1 = function($2) {\n			${4:// main code}\n		};\n	}\n# singleton\nsnippet sing\n	function ${1:Singleton} (${2:argument}) {\n		var instance;\n		$1 = function $1($2) {\n			return instance;\n		};\n		$1.prototype = this;\n		instance = new $1();\n		instance.constructor = $1;\n\n		${3:// code ...}\n\n		return instance;\n	}\n# class\nsnippet class\nregex /^\\s*/clas{0,2}/\n	var ${1:class} = function(${20}) {\n		$40$0\n	};\n	\n	(function() {\n		${60:this.prop = ""}\n	}).call(${1:class}.prototype);\n	\n	exports.${1:class} = ${1:class};\n# \nsnippet for-\n	for (var ${1:i} = ${2:Things}.length; ${1:i}--; ) {\n		${0:${2:Things}[${1:i}];}\n	}\n# for (...) {...}\nsnippet for\n	for (var ${1:i} = 0; $1 < ${2:Things}.length; $1++) {\n		${3:$2[$1]}$0\n	}\n# for (...) {...} (Improved Native For-Loop)\nsnippet forr\n	for (var ${1:i} = ${2:Things}.length - 1; $1 >= 0; $1--) {\n		${3:$2[$1]}$0\n	}\n\n\n#modules\nsnippet def\n	ace.define(function(require, exports, module) {\n	"use strict";\n	var ${1/.*\\///} = require("${1}");\n	\n	$TM_SELECTED_TEXT\n	});\nsnippet req\nguard ^\\s*\n	var ${1/.*\\///} = require("${1}");\n	$0\nsnippet requ\nguard ^\\s*\n	var ${1/.*\\/(.)/\\u$1/} = require("${1}").${1/.*\\/(.)/\\u$1/};\n	$0\n',t.scope="javascript"}),!function(){"use strict";var e=angular.module("translate.sub",[]);e.provider("$translate",[function(){var e=[],t="en-US";this.translations=function(n,i){angular.isDefined(n)&&angular.isDefined(i)&&(e[n]=angular.copy(i),t=n)},this.$get=[function(){return{instant:function(n){return angular.isDefined(n)&&angular.isDefined(e[t][n])?e[t][n]:""}}}]}]),e.filter("translate",["$translate",function(e){return function(t){return e.instant(t)}}]);var t;try{angular.module("pascalprecht.translate"),t=angular.module("dialogs.controllers",["ui.bootstrap.modal","pascalprecht.translate"])}catch(n){t=angular.module("dialogs.controllers",["ui.bootstrap.modal","translate.sub"])}t.controller("errorDialogCtrl",["$scope","$modalInstance","$translate","data",function(e,t,n,i){e.header=angular.isDefined(i.header)?i.header:n.instant("DIALOGS_ERROR"),e.msg=angular.isDefined(i.msg)?i.msg:n.instant("DIALOGS_ERROR_MSG"),e.icon=angular.isDefined(i.fa)&&angular.equals(i.fa,!0)?"fa fa-warning":"glyphicon glyphicon-warning-sign",e.close=function(){t.close(),e.$destroy()}}]),t.controller("waitDialogCtrl",["$scope","$modalInstance","$translate","$timeout","data",function(e,t,n,i,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_PLEASE_WAIT_ELIPS"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_PLEASE_WAIT_MSG"),e.progress=angular.isDefined(r.progress)?r.progress:100,e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-clock-o":"glyphicon glyphicon-time",e.$on("dialogs.wait.complete",function(){i(function(){t.close(),e.$destroy()})}),e.$on("dialogs.wait.message",function(t,n){e.msg=angular.isDefined(n.msg)?n.msg:e.msg}),e.$on("dialogs.wait.progress",function(t,n){e.msg=angular.isDefined(n.msg)?n.msg:e.msg,e.progress=angular.isDefined(n.progress)?n.progress:e.progress}),e.getProgress=function(){return{width:e.progress+"%"}}}]),t.controller("notifyDialogCtrl",["$scope","$modalInstance","$translate","data",function(e,t,n,i){e.header=angular.isDefined(i.header)?i.header:n.instant("DIALOGS_NOTIFICATION"),e.msg=angular.isDefined(i.msg)?i.msg:n.instant("DIALOGS_NOTIFICATION_MSG"),e.icon=angular.isDefined(i.fa)&&angular.equals(i.fa,!0)?"fa fa-info":"glyphicon glyphicon-info-sign",e.close=function(){t.close(),e.$destroy()}}]),t.controller("confirmDialogCtrl",["$scope","$modalInstance","$translate","data",function(e,t,n,i){e.header=angular.isDefined(i.header)?i.header:n.instant("DIALOGS_CONFIRMATION"),e.msg=angular.isDefined(i.msg)?i.msg:n.instant("DIALOGS_CONFIRMATION_MSG"),e.icon=angular.isDefined(i.fa)&&angular.equals(i.fa,!0)?"fa fa-check":"glyphicon glyphicon-check",e.no=function(){t.dismiss("no")},e.yes=function(){t.close("yes")}}]),angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).provider("dialogs",[function(){var e=!0,t=!0,n="dialogs-default",i="dialogs-backdrop-default",r=!0,o=null,s="lg",a=!1,l=!1,u=function(r){var o={};return r=r||{},o.kb=angular.isDefined(r.keyboard)?!!r.keyboard:t,o.bd=angular.isDefined(r.backdrop)?r.backdrop:e,o.bdc=angular.isDefined(r.backdropClass)?r.backdropClass:i,o.ws=!angular.isDefined(r.size)||"sm"!==r.size&&"lg"!==r.size&&"md"!==r.size?s:r.size,o.wc=angular.isDefined(r.windowClass)?r.windowClass:n,o.anim=angular.isDefined(r.animation)?!!r.animation:a,o};this.useBackdrop=function(t){angular.isDefined(t)&&(e=t)},this.useEscClose=function(e){angular.isDefined(e)&&(t=angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)?!1:!0)},this.useClass=function(e){angular.isDefined(e)&&(n=e)},this.useCopy=function(e){angular.isDefined(e)&&(r=angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)?!1:!0)},this.setWindowTmpl=function(e){angular.isDefined(e)&&(o=e)},this.setSize=function(e){angular.isDefined(e)&&(s=angular.equals(e,"sm")||angular.equals(e,"lg")||angular.equals(e,"md")?e:s)},this.useAnimation=function(){a=!0},this.useFontAwesome=function(){l=!0},this.$get=["$modal",function(e){return{error:function(t,n,i){return i=u(i),e.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",backdrop:i.bd,backdropClass:i.bdc,keyboard:i.kb,windowClass:i.wc,size:i.ws,animation:i.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:l}}}})},wait:function(t,n,i,r){return r=u(r),e.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",backdrop:r.bd,backdropClass:r.bdc,keyboard:r.kb,windowClass:r.wc,size:r.ws,animation:r.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),progress:angular.copy(i),fa:l}}}})},notify:function(t,n,i){return i=u(i),e.open({templateUrl:"/dialogs/notify.html",controller:"notifyDialogCtrl",backdrop:i.bd,backdropClass:i.bdc,keyboard:i.kb,windowClass:i.wc,size:i.ws,animation:i.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:l}}}})},confirm:function(t,n,i){return i=u(i),e.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",backdrop:i.bd,backdropClass:i.bdc,keyboard:i.kb,windowClass:i.wc,size:i.ws,animation:i.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:l}}}})},create:function(t,n,i,o){var s=o&&angular.isDefined(o.copy)?o.copy:r;return o=u(o),e.open({templateUrl:t,controller:n,keyboard:o.kb,backdrop:o.bd,backdropClass:o.bdc,windowClass:o.wc,size:o.ws,animation:o.anim,resolve:{data:function(){return s?angular.copy(i):i}}})}}}]}]),angular.module("dialogs.main",["dialogs.services","ngSanitize"]).config(["$translateProvider","dialogsProvider",function(e,t){try{angular.module("pascalprecht.translate")}catch(n){e.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"})}try{var i=document.styleSheets;e:for(var r=i.length-1;r>=0;r--){var o=null,s=null;if(!i[r].disabled){if(null!==i[r].href&&(o=i[r].href.match(/font\-*awesome/i)),angular.isArray(o)){t.useFontAwesome();break}s=i[r].cssRules;for(var a=s.length-1;a>=0;a--)if(".fa"==s[a].selectorText.toLowerCase()){t.useFontAwesome();break e}}}}catch(n){}}]).run(["$templateCache","$interpolate",function(e,t){var n=t.startSymbol(),i=t.endSymbol();e.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="'+n+"icon"+i+'"></span> <span ng-bind-html="header"></span></h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="close()">'+n+'"DIALOGS_CLOSE" | translate'+i+"</button></div>"),e.put("/dialogs/wait.html",'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="'+n+"icon"+i+'"></span> '+n+"header"+i+'</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">'+n+"progress"+i+n+'"DIALOGS_PERCENT_COMPLETE" | translate'+i+"</span></div></div>"),e.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="'+n+"icon"+i+'"></span> '+n+"header"+i+'</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">'+n+'"DIALOGS_OK" | translate'+i+"</button></div>"),e.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="'+n+"icon"+i+'"></span> '+n+"header"+i+'</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="yes()">'+n+'"DIALOGS_YES" | translate'+i+'</button><button type="button" class="btn btn-primary" ng-click="no()">'+n+'"DIALOGS_NO" | translate'+i+"</button></div>")}])}(),angular.module("dialogs.default-translations",["pascalprecht.translate"]).config(["$translateProvider",function(e){e.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"}),e.translations("zh-CN",{DIALOGS_ERROR:"",DIALOGS_ERROR_MSG:"",DIALOGS_CLOSE:"",DIALOGS_PLEASE_WAIT:"",DIALOGS_PLEASE_WAIT_ELIPS:"...",DIALOGS_PLEASE_WAIT_MSG:"",DIALOGS_PERCENT_COMPLETE:"% ",DIALOGS_NOTIFICATION:"",DIALOGS_NOTIFICATION_MSG:"",DIALOGS_CONFIRMATION:"",DIALOGS_CONFIRMATION_MSG:"",DIALOGS_OK:"",DIALOGS_YES:"",DIALOGS_NO:""}),e.translations("es",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"Se ha producido un error.",DIALOGS_CLOSE:"Cerrar",DIALOGS_PLEASE_WAIT:"Espere por favor",DIALOGS_PLEASE_WAIT_ELIPS:"Espere por favor...",DIALOGS_PLEASE_WAIT_MSG:"Completando operacin.",DIALOGS_PERCENT_COMPLETE:"% Completado",DIALOGS_NOTIFICATION:"Notificacin",DIALOGS_NOTIFICATION_MSG:"Notificacin de una aplicacin desconocida.",DIALOGS_CONFIRMATION:"Confirmacin",DIALOGS_CONFIRMATION_MSG:"Se requiere confirmacion.",DIALOGS_OK:"Aceptar",DIALOGS_YES:"S",DIALOGS_NO:"No"}),e.preferredLanguage("en-US")}]),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){var e,t=Array.prototype,n=Object.prototype,i=Function.prototype,r=String.prototype,o=Number.prototype,s=t.slice,a=t.splice,l=t.push,u=t.unshift,c=t.concat,h=i.call,d=n.toString,p=Array.isArray||function(e){return"[object Array]"===d.call(e)},f="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,g=Function.prototype.toString,m=function(e){try{return g.call(e),!0}catch(t){return!1}},v="[object Function]",y="[object GeneratorFunction]";e=function(e){if("function"!=typeof e)return!1;if(f)return m(e);var t=d.call(e);return t===v||t===y};var b,w=RegExp.prototype.exec,C=function(e){try{return w.call(e),!0}catch(t){return!1}},x="[object RegExp]";b=function(e){return"object"!=typeof e?!1:f?C(e):d.call(e)===x};var A,S=String.prototype.valueOf,_=function(e){try{return S.call(e),!0}catch(t){return!1}},E="[object String]";A=function(e){return"string"==typeof e?!0:"object"!=typeof e?!1:f?_(e):d.call(e)===E};var $=function(t){var n=d.call(t),i="[object Arguments]"===n;return i||(i=!p(t)&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&e(t.callee)),i},T=function(e){var t,n=Object.defineProperty&&function(){try{var e={};Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}}();return t=n?function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)},function(n,i,r){for(var o in i)e.call(i,o)&&t(n,o,i[o],r)}}(n.hasOwnProperty),k=function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t},D={ToInteger:function(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t},ToPrimitive:function(t){var n,i,r;if(k(t))return t;if(i=t.valueOf,e(i)&&(n=i.call(t),k(n)))return n;if(r=t.toString,e(r)&&(n=r.call(t),k(n)))return n;throw new TypeError},ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},ToUint32:function(e){return e>>>0}},F=function(){};T(i,{bind:function(t){var n=this;if(!e(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i,r=s.call(arguments,1),o=function(){if(this instanceof i){var e=n.apply(this,c.call(r,s.call(arguments)));return Object(e)===e?e:this}return n.apply(t,c.call(r,s.call(arguments)))},a=Math.max(0,n.length-r.length),l=[],u=0;a>u;u++)l.push("$"+u);return i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this, arguments); }")(o),n.prototype&&(F.prototype=n.prototype,i.prototype=new F,F.prototype=null),i}});var M=h.bind(n.hasOwnProperty),R=function(){var e=[1,2],t=e.splice();return 2===e.length&&p(t)&&0===t.length}();T(t,{splice:function(){return 0===arguments.length?[]:a.apply(this,arguments)}},!R);var L=function(){var e={};return t.splice.call(e,0,0,1),1===e.length}();T(t,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=Math.max(D.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof t&&(n=s.call(arguments),n.length<2?n.push(this.length-e):n[1]=D.ToInteger(t)),a.apply(this,n)}},!L);var P=1!==[].unshift(0);T(t,{unshift:function(){return u.apply(this,arguments),this.length}},P),T(Array,{isArray:p});var O=Object("a"),I="a"!==O[0]||!(0 in O),B=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,i){"object"!=typeof i&&(t=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")),!!e&&t&&n};T(t,{forEach:function(t){var n,i=D.ToObject(this),r=I&&A(this)?this.split(""):i,o=-1,s=r.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++o<s;)o in r&&("undefined"!=typeof n?t.call(n,r[o],o,i):t(r[o],o,i))}},!B(t.forEach)),T(t,{map:function(t){var n,i=D.ToObject(this),r=I&&A(this)?this.split(""):i,o=r.length>>>0,s=Array(o);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.map callback must be a function");for(var a=0;o>a;a++)a in r&&(s[a]="undefined"!=typeof n?t.call(n,r[a],a,i):t(r[a],a,i));return s}},!B(t.map)),T(t,{filter:function(t){var n,i,r=D.ToObject(this),o=I&&A(this)?this.split(""):r,s=o.length>>>0,a=[];if(arguments.length>1&&(i=arguments[1]),!e(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var l=0;s>l;l++)l in o&&(n=o[l],("undefined"==typeof i?t(n,l,r):t.call(i,n,l,r))&&a.push(n));return a}},!B(t.filter)),T(t,{every:function(t){var n,i=D.ToObject(this),r=I&&A(this)?this.split(""):i,o=r.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.every callback must be a function");for(var s=0;o>s;s++)if(s in r&&!("undefined"==typeof n?t(r[s],s,i):t.call(n,r[s],s,i)))return!1;return!0}},!B(t.every)),T(t,{some:function(t){var n,i=D.ToObject(this),r=I&&A(this)?this.split(""):i,o=r.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.some callback must be a function");for(var s=0;o>s;s++)if(s in r&&("undefined"==typeof n?t(r[s],s,i):t.call(n,r[s],s,i)))return!0;return!1}},!B(t.some));var N=!1;t.reduce&&(N="object"==typeof t.reduce.call("es5",function(e,t,n,i){return i})),T(t,{reduce:function(t){var n=D.ToObject(this),i=I&&A(this)?this.split(""):n,r=i.length>>>0;if(!e(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===r&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,s=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(s in i){o=i[s++];break}if(++s>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>s;s++)s in i&&(o=t(o,i[s],s,n));return o}},!N);var G=!1;t.reduceRight&&(G="object"==typeof t.reduceRight.call("es5",function(e,t,n,i){return i})),T(t,{reduceRight:function(t){var n=D.ToObject(this),i=I&&A(this)?this.split(""):n,r=i.length>>>0;if(!e(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===r&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,s=r-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(s in i){o=i[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>s)return o;do s in i&&(o=t(o,i[s],s,n));while(s--);return o}},!G);var H=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);T(t,{indexOf:function(e){var t=I&&A(this)?this.split(""):D.ToObject(this),n=t.length>>>0;if(0===n)return-1;var i=0;for(arguments.length>1&&(i=D.ToInteger(arguments[1])),i=i>=0?i:Math.max(0,n+i);n>i;i++)if(i in t&&t[i]===e)return i;return-1}},H);var V=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);T(t,{lastIndexOf:function(e){var t=I&&A(this)?this.split(""):D.ToObject(this),n=t.length>>>0;if(0===n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,D.ToInteger(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}},V);var U=!{toString:null}.propertyIsEnumerable("toString"),z=function(){}.propertyIsEnumerable("prototype"),W=!M("x","0"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],q=j.length;T(Object,{keys:function(t){var n=e(t),i=$(t),r=null!==t&&"object"==typeof t,o=r&&A(t);if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var s=[],a=z&&n;if(o&&W||i)for(var l=0;l<t.length;++l)s.push(String(l));if(!i)for(var u in t)a&&"prototype"===u||!M(t,u)||s.push(String(u));if(U)for(var c=t.constructor,h=c&&c.prototype===t,d=0;q>d;d++){var p=j[d];h&&"constructor"===p||!M(t,p)||s.push(p)}return s}});var K=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),Y=Object.keys;T(Object,{keys:function(e){return $(e)?Y(t.slice.call(e)):Y(e)}},!K);var X=-621987552e5,Z="-000001",J=Date.prototype.toISOString&&-1===new Date(X).toISOString().indexOf(Z);T(Date.prototype,{toISOString:function(){var e,t,n,i,r;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(i=this.getUTCFullYear(),r=this.getUTCMonth(),i+=Math.floor(r/12),r=(r%12+12)%12,e=[r+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=(0>i?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(i>=0&&9999>=i?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return i+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},J);var Q=function(){try{return Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(X).toJSON().indexOf(Z)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}();Q||(Date.prototype.toJSON=function(){var t=Object(this),n=D.ToPrimitive(t);if("number"==typeof n&&!isFinite(n))return null;var i=t.toISOString;if(!e(i))throw new TypeError("toISOString property is not callable");return i.call(t)});var et=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),tt=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),nt=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||nt||tt||!et)&&(Date=function(e){var t=function(n,i,r,o,s,a,l){var u,c=arguments.length;return u=this instanceof e?1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,i,r,o,s,a,l):c>=6?new e(n,i,r,o,s,a):c>=5?new e(n,i,r,o,s):c>=4?new e(n,i,r,o):c>=3?new e(n,i,r):c>=2?new e(n,i):c>=1?new e(n):new e:e.apply(this,arguments),T(u,{constructor:t},!0),u},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365],r=function(e,t){var n=t>1?1:0;return i[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)},o=function(t){return Number(new e(1970,0,1,0,0,0,t))};for(var s in e)M(e,s)&&(t[s]=e[s]);T(t,{now:e.now,UTC:e.UTC},!0),t.prototype=e.prototype,T(t.prototype,{constructor:t},!0);var a=function(t){var i=n.exec(t);if(i){var s,a=Number(i[1]),l=Number(i[2]||1)-1,u=Number(i[3]||1)-1,c=Number(i[4]||0),h=Number(i[5]||0),d=Number(i[6]||0),p=Math.floor(1e3*Number(i[7]||0)),f=Boolean(i[4]&&!i[8]),g="-"===i[9]?1:-1,m=Number(i[10]||0),v=Number(i[11]||0);return(h>0||d>0||p>0?24:25)>c&&60>h&&60>d&&1e3>p&&l>-1&&12>l&&24>m&&60>v&&u>-1&&u<r(a,l+1)-r(a,l)&&(s=60*(24*(r(a,l)+u)+c+m*g),s=1e3*(60*(s+h+v*g)+d)+p,f&&(s=o(s)),s>=-864e13&&864e13>=s)?s:0/0}return e.parse.apply(this,arguments)};return T(t,{parse:a}),t}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var it=o.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),rt={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1,i=t;++n<rt.size;)i+=e*rt.data[n],rt.data[n]=i%rt.base,i=Math.floor(i/rt.base)},divide:function(e){for(var t=rt.size,n=0;--t>=0;)n+=rt.data[t],rt.data[t]=Math.floor(n/e),n=n%e*rt.base},numToString:function(){for(var e=rt.size,t="";--e>=0;)if(""!==t||0===e||0!==rt.data[e]){var n=String(rt.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function mt(e,t,n){return 0===t?n:1===t%2?mt(e,t-1,n*e):mt(e*e,t/2,n)},log:function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}};T(o,{toFixed:function(e){var t,n,i,r,o,s,a,l;if(t=Number(e),t=t!==t?0:Math.floor(t),0>t||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=Number(this),n!==n)return"NaN";if(-1e21>=n||n>=1e21)return String(n);if(i="",0>n&&(i="-",n=-n),r="0",n>1e-21)if(o=rt.log(n*rt.pow(2,69,1))-69,s=0>o?n*rt.pow(2,-o,1):n/rt.pow(2,o,1),s*=4503599627370496,o=52-o,o>0){for(rt.multiply(0,s),a=t;a>=7;)rt.multiply(1e7,0),a-=7;for(rt.multiply(rt.pow(10,a,1),0),a=o-1;a>=23;)rt.divide(1<<23),a-=23;rt.divide(1<<a),rt.multiply(1,1),rt.divide(2),r=rt.numToString()}else rt.multiply(0,s),rt.multiply(1<<-o,0),r=rt.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(l=r.length,r=t>=l?i+"0.0000000000000000000".slice(0,t-l+2)+r:i+r.slice(0,l-t)+"."+r.slice(l-t)):r=i+r,r}},it);var ot=r.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e="undefined"==typeof/()??/.exec("")[1];r.split=function(t,n){var i=this;if("undefined"==typeof t&&0===n)return[];if(!b(t))return ot.call(this,t,n);var r,o,s,a,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),h=0,d=new RegExp(t.source,c+"g");i+="",e||(r=new RegExp("^"+d.source+"$(?!\\s)",c));var p="undefined"==typeof n?-1>>>0:D.ToUint32(n);for(o=d.exec(i);o&&(s=o.index+o[0].length,!(s>h&&(u.push(i.slice(h,o.index)),!e&&o.length>1&&o[0].replace(r,function(){for(var e=1;e<arguments.length-2;e++)"undefined"==typeof arguments[e]&&(o[e]=void 0)}),o.length>1&&o.index<i.length&&l.apply(u,o.slice(1)),a=o[0].length,h=s,u.length>=p)));)d.lastIndex===o.index&&d.lastIndex++,o=d.exec(i);return h===i.length?(a||!d.test(""))&&u.push(""):u.push(i.slice(h)),u.length>p?u.slice(0,p):u}}():"0".split(void 0,0).length&&(r.split=function(e,t){return"undefined"==typeof e&&0===t?[]:ot.call(this,e,t)});var st=r.replace,at=function(){var e=[];return"x".replace(/x(.)?/g,function(t,n){e.push(n)}),1===e.length&&"undefined"==typeof e[0]}();at||(r.replace=function(t,n){var i=e(n),r=b(t)&&/\)[*?]/.test(t.source);if(i&&r){var o=function(e){var i=arguments.length,r=t.lastIndex;t.lastIndex=0;var o=t.exec(e)||[];return t.lastIndex=r,o.push(arguments[i-2],arguments[i-1]),n.apply(this,o)};return st.call(this,t,o)}return st.call(this,t,n)});var lt=r.substr,ut="".substr&&"b"!=="0b".substr(-1);T(r,{substr:function(e,t){var n=e;return 0>e&&(n=Math.max(this.length+e,0)),lt.call(this,n,t)}},ut);var ct="	\n\f\r \u2028\u2029",ht="",dt="["+ct+"]",pt=new RegExp("^"+dt+dt+"*"),ft=new RegExp(dt+dt+"*$"),gt=r.trim&&(ct.trim()||!ht.trim());T(r,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(pt,"").replace(ft,"")}},gt),(8!==parseInt(ct+"08")||22!==parseInt(ct+"0x16"))&&(parseInt=function(e){var t=/^0[xX]/;return function(n,i){var r=String(n).trim(),o=Number(i)||(t.test(r)?16:10);return e(r,o)}}(parseInt))}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){"use strict";function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var r=this;setTimeout(function(){r.check()})}function a(e){this.img=e}function l(e){this.src=e,p[e]=this}var u=e.jQuery,c=e.console,h="undefined"!=typeof c,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var a=r[o];this.addImage(a)}}},s.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&c.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},u&&(u.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(u(this))}),a.prototype=new t,a.prototype.check=function(){var e=p[this.img.src]||new l(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s}),function(e){"use strict";function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function r(t,n){e.fn[t]=function(r){if("string"==typeof r){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var u=this[a],c=e.data(u,t);if(c)if(e.isFunction(c[r])&&"_"!==r.charAt(0)){var h=c[r].apply(c,s);
if(void 0!==h)return h}else o("no such method '"+r+"' for "+t+" instance");else o("cannot call methods on "+t+" prior to initialization; "+"attempted to call '"+r+"'")}return this}return this.each(function(){var i=e.data(this,t);i?(i.option(r),i._init()):(i=new n(this,r),e.data(this,t,i))})}}if(e){var o="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),r(e,t)},e.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?n(require("jquery")):n(e.jQuery)}(window),function(){function e(e,t,n){for(var i=(n||0)-1,r=e?e.length:0;++i<r;)if(e[i]===t)return i;return-1}function t(t,n){var i=typeof n;if(t=t.cache,"boolean"==i||null==n)return t[n]?0:-1;"number"!=i&&"string"!=i&&(i="object");var r="number"==i?n:b+n;return t=(t=t[i])&&t[r],"object"==i?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:b+e,r=t[n]||(t[n]={});"object"==n?(r[i]||(r[i]=[])).push(e):r[i]=!0}}function i(e){return e.charCodeAt(0)}function r(e,t){for(var n=e.criteria,i=t.criteria,r=-1,o=n.length;++r<o;){var s=n[r],a=i[r];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}function o(e){var t=-1,i=e.length,r=e[0],o=e[0|i/2],s=e[i-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&s&&"object"==typeof s)return!1;var a=l();a["false"]=a["null"]=a["true"]=a.undefined=!1;var u=l();for(u.array=e,u.cache=a,u.push=n;++t<i;)u.push(e[t]);return u}function s(e){return"\\"+Q[e]}function a(){return g.pop()||[]}function l(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function u(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function c(e){e.length=0,g.length<C&&g.push(e)}function h(e){var t=e.cache;t&&h(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,m.length<C&&m.push(e)}function d(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,o=Array(0>r?0:r);++i<r;)o[i]=e[t+i];return o}function p(n){function g(e){return e&&"object"==typeof e&&!hr(e)&&zi.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function C(e){function t(){if(i){var e=d(i);Wi.apply(e,arguments)}if(this instanceof t){var o=tt(n.prototype),s=n.apply(o,e||arguments);return It(s)?s:o}return n.apply(r,e||arguments)}var n=e[0],i=e[2],r=e[4];return cr(t,e),t}function Q(e,t,n,i,r){if(n){var o=n(e);if("undefined"!=typeof o)return o}var s=It(e);if(!s)return e;var l=Ii.call(e);if(!K[l]||!lr.nodeClass&&u(e))return e;var h=sr[l];switch(l){case G:case H:return new h(+e);case z:case q:return new h(e);case j:return o=h(e.source,$.exec(e)),o.lastIndex=e.lastIndex,o}var p=hr(e);if(t){var f=!i;i||(i=a()),r||(r=a());for(var g=i.length;g--;)if(i[g]==e)return r[g];o=p?h(e.length):{}}else o=p?d(e):xr({},e);return p&&(zi.call(e,"index")&&(o.index=e.index),zi.call(e,"input")&&(o.input=e.input)),t?(i.push(e),r.push(o),(p?Cr:_r)(e,function(e,s){o[s]=Q(e,t,n,i,r)}),f&&(c(i),c(r)),o):o}function tt(e){return It(e)?Zi(e):{}}function nt(e,t,n){if("function"!=typeof e)return oi;if("undefined"==typeof t||!("prototype"in e))return e;var i=e.__bindData__;if("undefined"==typeof i&&(lr.funcNames&&(i=!e.name),i=i||!lr.funcDecomp,!i)){var r=Vi.call(e);lr.funcNames||(i=!T.test(r)),i||(i=R.test(r),cr(e,i))}if(i===!1||i!==!0&&1&i[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return Vn(e,t)}function it(e){function t(){var e=l?s:this;if(r){var f=d(r);Wi.apply(f,arguments)}if((o||c)&&(f||(f=d(arguments)),o&&Wi.apply(f,o),c&&f.length<a))return i|=16,it([n,h?i:-4&i,f,null,s,a]);if(f||(f=arguments),u&&(n=e[p]),this instanceof t){e=tt(n.prototype);var g=n.apply(e,f);return It(g)?g:e}return n.apply(e,f)}var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=1&i,u=2&i,c=4&i,h=8&i,p=n;return cr(t,e),t}function rt(n,i){var r=-1,s=gt(),a=n?n.length:0,l=a>=w&&s===e,u=[];if(l){var c=o(i);c?(s=t,i=c):l=!1}for(;++r<a;){var d=n[r];s(i,d)<0&&u.push(d)}return l&&h(i),u}function st(e,t,n,i){for(var r=(i||0)-1,o=e?e.length:0,s=[];++r<o;){var a=e[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(hr(a)||bt(a))){t||(a=st(a,t,n));var l=-1,u=a.length,c=s.length;for(s.length+=u;++l<u;)s[c++]=a[l]}else n||s.push(a)}return s}function at(e,t,n,i,r,o){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;var l=typeof e,h=typeof t;if(!(e!==e||e&&J[l]||t&&J[h]))return!1;if(null==e||null==t)return e===t;var d=Ii.call(e),p=Ii.call(t);if(d==B&&(d=W),p==B&&(p=W),d!=p)return!1;switch(d){case G:case H:return+e==+t;case z:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case j:case q:return e==Di(t)}var f=d==N;if(!f){var g=zi.call(e,"__wrapped__"),m=zi.call(t,"__wrapped__");if(g||m)return at(g?e.__wrapped__:e,m?t.__wrapped__:t,n,i,r,o);if(d!=W||!lr.nodeClass&&(u(e)||u(t)))return!1;var v=!lr.argsObject&&bt(e)?Ti:e.constructor,y=!lr.argsObject&&bt(t)?Ti:t.constructor;if(v!=y&&!(Ot(v)&&v instanceof v&&Ot(y)&&y instanceof y)&&"constructor"in e&&"constructor"in t)return!1}var b=!r;r||(r=a()),o||(o=a());for(var w=r.length;w--;)if(r[w]==e)return o[w]==t;var C=0;if(s=!0,r.push(e),o.push(t),f){if(w=e.length,C=t.length,s=C==w,s||i)for(;C--;){var x=w,A=t[C];if(i)for(;x--&&!(s=at(e[x],A,n,i,r,o)););else if(!(s=at(e[C],A,n,i,r,o)))break}}else Sr(t,function(t,a,l){return zi.call(l,a)?(C++,s=zi.call(e,a)&&at(e[a],t,n,i,r,o)):void 0}),s&&!i&&Sr(e,function(e,t,n){return zi.call(n,t)?s=--C>-1:void 0});return r.pop(),o.pop(),b&&(c(r),c(o)),s}function lt(e,t,n,i,r){(hr(t)?rn:_r)(t,function(t,o){var s,a,l=t,u=e[o];if(t&&((a=hr(t))||Er(t))){for(var c=i.length;c--;)if(s=i[c]==t){u=r[c];break}if(!s){var h;n&&(l=n(u,t),(h="undefined"!=typeof l)&&(u=l)),h||(u=a?hr(u)?u:[]:Er(u)?u:{}),i.push(t),r.push(u),h||lt(u,t,n,i,r)}}else n&&(l=n(u,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(u=l);e[o]=u})}function ut(e,t){return e+Hi(or()*(t-e+1))}function ct(n,i,r){var s=-1,l=gt(),u=n?n.length:0,d=[],p=!i&&u>=w&&l===e,f=r||p?a():d;if(p){var g=o(f);l=t,f=g}for(;++s<u;){var m=n[s],v=r?r(m,s,n):m;(i?!s||f[f.length-1]!==v:l(f,v)<0)&&((r||p)&&f.push(v),d.push(m))}return p?(c(f.array),h(f)):r&&c(f),d}function ht(e){return function(t,n,i){var r={};if(n=g.createCallback(n,i,3),hr(t))for(var o=-1,s=t.length;++o<s;){var a=t[o];e(r,a,n(a,o,t),t)}else Cr(t,function(t,i,o){e(r,t,n(t,i,o),o)});return r}}function dt(e,t,n,i,r,o){var s=1&t,a=2&t,l=4&t,u=16&t,c=32&t;if(!a&&!Ot(e))throw new Fi;u&&!n.length&&(t&=-17,u=n=!1),c&&!i.length&&(t&=-33,c=i=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=d(h),h[2]&&(h[2]=d(h[2])),h[3]&&(h[3]=d(h[3])),!s||1&h[1]||(h[4]=r),!s&&1&h[1]&&(t|=8),!l||4&h[1]||(h[5]=o),u&&Wi.apply(h[2]||(h[2]=[]),n),c&&Yi.apply(h[3]||(h[3]=[]),i),h[1]|=t,dt.apply(null,h);var p=1==t||17===t?C:it;return p([e,t,n,i,r,o])}function pt(){Z.shadowedProps=O,Z.array=Z.bottom=Z.loop=Z.top="",Z.init="iterable",Z.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)Z[n]=e[n];var i=Z.args;Z.firstArg=/^[^,]+/.exec(i)[0];var r=_i("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+ur(Z)+"\n}");return r(nt,V,Ri,zi,y,bt,hr,Vt,Z.keys,Li,J,ar,q,Pi,Ii)}function ft(e){return vr[e]}function gt(){var t=(t=g.indexOf)===_n?e:t;return t}function mt(e){return"function"==typeof e&&Bi.test(e)}function vt(e){var t,n;return!e||Ii.call(e)!=W||(t=e.constructor,Ot(t)&&!(t instanceof t))||!lr.argsClass&&bt(e)||!lr.nodeClass&&u(e)?!1:lr.ownLast?(Sr(e,function(e,t,i){return n=zi.call(i,t),!1}),n!==!1):(Sr(e,function(e,t){n=t}),"undefined"==typeof n||zi.call(e,n))}function yt(e){return yr[e]}function bt(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ii.call(e)==B||!1}function wt(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n=t,t=!1),Q(e,t,"function"==typeof n&&nt(n,i,1))}function Ct(e,t,n){return Q(e,!0,"function"==typeof t&&nt(t,n,1))}function xt(e,t){var n=tt(e);return t?xr(n,t):n}function At(e,t,n){var i;return t=g.createCallback(t,n,3),_r(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function St(e,t,n){var i;return t=g.createCallback(t,n,3),Et(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function _t(e,t,n){var i=[];Sr(e,function(e,t){i.push(t,e)});var r=i.length;for(t=nt(t,n,3);r--&&t(i[r--],i[r],e)!==!1;);return e}function Et(e,t,n){var i=pr(e),r=i.length;for(t=nt(t,n,3);r--;){var o=i[r];if(t(e[o],o,e)===!1)break}return e}function $t(e){var t=[];return Sr(e,function(e,n){Ot(e)&&t.push(n)}),t.sort()}function Tt(e,t){return e?zi.call(e,t):!1}function kt(e){for(var t=-1,n=pr(e),i=n.length,r={};++t<i;){var o=n[t];r[e[o]]=o}return r}function Dt(e){return e===!0||e===!1||e&&"object"==typeof e&&Ii.call(e)==G||!1}function Ft(e){return e&&"object"==typeof e&&Ii.call(e)==H||!1}function Mt(e){return e&&1===e.nodeType||!1}function Rt(e){var t=!0;if(!e)return t;var n=Ii.call(e),i=e.length;return n==N||n==q||(lr.argsClass?n==B:bt(e))||n==W&&"number"==typeof i&&Ot(e.splice)?!i:(_r(e,function(){return t=!1}),t)}function Lt(e,t,n,i){return at(e,t,"function"==typeof n&&nt(n,i,2))}function Pt(e){return Qi(e)&&!er(parseFloat(e))}function Ot(e){return"function"==typeof e}function It(e){return!(!e||!J[typeof e])}function Bt(e){return Gt(e)&&e!=+e}function Nt(e){return null===e}function Gt(e){return"number"==typeof e||e&&"object"==typeof e&&Ii.call(e)==z||!1}function Ht(e){return e&&J[typeof e]&&Ii.call(e)==j||!1}function Vt(e){return"string"==typeof e||e&&"object"==typeof e&&Ii.call(e)==q||!1}function Ut(e){return"undefined"==typeof e}function zt(e,t,n){var i={};return t=g.createCallback(t,n,3),_r(e,function(e,n,r){i[n]=t(e,n,r)}),i}function Wt(e){var t=arguments,n=2;if(!It(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var i=nt(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(i=t[--n]);for(var r=d(arguments,1,n),o=-1,s=a(),l=a();++o<n;)lt(e,r[o],i,s,l);return c(s),c(l),e}function jt(e,t,n){var i={};if("function"!=typeof t){var r=[];Sr(e,function(e,t){r.push(t)}),r=rt(r,st(arguments,!0,!1,1));for(var o=-1,s=r.length;++o<s;){var a=r[o];i[a]=e[a]}}else t=g.createCallback(t,n,3),Sr(e,function(e,n,r){t(e,n,r)||(i[n]=e)});return i}function qt(e){for(var t=-1,n=pr(e),i=n.length,r=Ci(i);++t<i;){var o=n[t];r[t]=[o,e[o]]}return r}function Kt(e,t,n){var i={};if("function"!=typeof t)for(var r=-1,o=st(arguments,!0,!1,1),s=It(e)?o.length:0;++r<s;){var a=o[r];a in e&&(i[a]=e[a])}else t=g.createCallback(t,n,3),Sr(e,function(e,n,r){t(e,n,r)&&(i[n]=e)});return i}function Yt(e,t,n,i){var r=hr(e);if(null==n)if(r)n=[];else{var o=e&&e.constructor,s=o&&o.prototype;n=tt(s)}return t&&(t=g.createCallback(t,i,4),(r?Cr:_r)(e,function(e,i,r){return t(n,e,i,r)})),n}function Xt(e){for(var t=-1,n=pr(e),i=n.length,r=Ci(i);++t<i;)r[t]=e[n[t]];return r}function Zt(e){var t=arguments,n=-1,i=st(t,!0,!1,1),r=t[2]&&t[2][t[1]]===e?1:i.length,o=Ci(r);for(lr.unindexedChars&&Vt(e)&&(e=e.split(""));++n<r;)o[n]=e[i[n]];return o}function Jt(e,t,n){var i=-1,r=gt(),o=e?e.length:0,s=!1;return n=(0>n?nr(0,o+n):n)||0,hr(e)?s=r(e,t,n)>-1:"number"==typeof o?s=(Vt(e)?e.indexOf(t,n):r(e,t,n))>-1:Cr(e,function(e){return++i>=n?!(s=e===t):void 0}),s}function Qt(e,t,n){var i=!0;if(t=g.createCallback(t,n,3),hr(e))for(var r=-1,o=e.length;++r<o&&(i=!!t(e[r],r,e)););else Cr(e,function(e,n,r){return i=!!t(e,n,r)});return i}function en(e,t,n){var i=[];if(t=g.createCallback(t,n,3),hr(e))for(var r=-1,o=e.length;++r<o;){var s=e[r];t(s,r,e)&&i.push(s)}else Cr(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i}function tn(e,t,n){if(t=g.createCallback(t,n,3),!hr(e)){var i;return Cr(e,function(e,n,r){return t(e,n,r)?(i=e,!1):void 0}),i}for(var r=-1,o=e.length;++r<o;){var s=e[r];if(t(s,r,e))return s}}function nn(e,t,n){var i;return t=g.createCallback(t,n,3),on(e,function(e,n,r){return t(e,n,r)?(i=e,!1):void 0}),i}function rn(e,t,n){if(t&&"undefined"==typeof n&&hr(e))for(var i=-1,r=e.length;++i<r&&t(e[i],i,e)!==!1;);else Cr(e,t,n);return e}function on(e,t,n){var i=e,r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:nt(t,n,3),hr(e))for(;r--&&t(e[r],r,e)!==!1;);else{if("number"!=typeof r){var o=pr(e);r=o.length}else lr.unindexedChars&&Vt(e)&&(i=e.split(""));Cr(e,function(e,n,s){return n=o?o[--r]:--r,t(i[n],n,s)})}return e}function sn(e,t){var n=d(arguments,2),i=-1,r="function"==typeof t,o=e?e.length:0,s=Ci("number"==typeof o?o:0);return rn(e,function(e){s[++i]=(r?t:e[t]).apply(e,n)}),s}function an(e,t,n){var i=-1,r=e?e.length:0,o=Ci("number"==typeof r?r:0);if(t=g.createCallback(t,n,3),hr(e))for(;++i<r;)o[i]=t(e[i],i,e);else Cr(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function ln(e,t,n){var r=-1/0,o=r;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&hr(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];l>o&&(o=l)}else t=null==t&&Vt(e)?i:g.createCallback(t,n,3),Cr(e,function(e,n,i){var s=t(e,n,i);s>r&&(r=s,o=e)});return o}function un(e,t,n){var r=1/0,o=r;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&hr(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];o>l&&(o=l)}else t=null==t&&Vt(e)?i:g.createCallback(t,n,3),Cr(e,function(e,n,i){var s=t(e,n,i);r>s&&(r=s,o=e)});return o}function cn(e,t,n,i){var r=arguments.length<3;if(t=g.createCallback(t,i,4),hr(e)){var o=-1,s=e.length;for(r&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e)}else Cr(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)});return n}function hn(e,t,n,i){var r=arguments.length<3;return t=g.createCallback(t,i,4),on(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function dn(e,t,n){return t=g.createCallback(t,n,3),en(e,function(e,n,i){return!t(e,n,i)})}function pn(e,t,n){if(e&&"number"!=typeof e.length?e=Xt(e):lr.unindexedChars&&Vt(e)&&(e=e.split("")),null==t||n)return e?e[ut(0,e.length-1)]:f;var i=fn(e);return i.length=ir(nr(0,t),i.length),i}function fn(e){var t=-1,n=e?e.length:0,i=Ci("number"==typeof n?n:0);return rn(e,function(e){var n=ut(0,++t);i[t]=i[n],i[n]=e}),i}function gn(e){var t=e?e.length:0;return"number"==typeof t?t:pr(e).length}function mn(e,t,n){var i;if(t=g.createCallback(t,n,3),hr(e))for(var r=-1,o=e.length;++r<o&&!(i=t(e[r],r,e)););else Cr(e,function(e,n,r){return!(i=t(e,n,r))});return!!i}function vn(e,t,n){var i=-1,o=hr(t),s=e?e.length:0,u=Ci("number"==typeof s?s:0);for(o||(t=g.createCallback(t,n,3)),rn(e,function(e,n,r){var s=u[++i]=l();o?s.criteria=an(t,function(t){return e[t]}):(s.criteria=a())[0]=t(e,n,r),s.index=i,s.value=e}),s=u.length,u.sort(r);s--;){var d=u[s];u[s]=d.value,o||c(d.criteria),h(d)}return u}function yn(e){return e&&"number"==typeof e.length?lr.unindexedChars&&Vt(e)?e.split(""):d(e):Xt(e)}function bn(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function wn(e){return rt(e,st(arguments,!0,!0,1))}function Cn(e,t,n){var i=-1,r=e?e.length:0;for(t=g.createCallback(t,n,3);++i<r;)if(t(e[i],i,e))return i;return-1}function xn(e,t,n){var i=e?e.length:0;for(t=g.createCallback(t,n,3);i--;)if(t(e[i],i,e))return i;return-1}function An(e,t,n){var i=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=g.createCallback(t,n,3);++o<r&&t(e[o],o,e);)i++}else if(i=t,null==i||n)return e?e[0]:f;return d(e,0,ir(nr(0,i),r))}function Sn(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(e=an(e,n,i)),st(e,t)}function _n(t,n,i){if("number"==typeof i){var r=t?t.length:0;i=0>i?nr(0,r+i):i||0}else if(i){var o=Ln(t,n);return t[o]===n?o:-1}return e(t,n,i)}function En(e,t,n){var i=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=r;for(t=g.createCallback(t,n,3);o--&&t(e[o],o,e);)i++}else i=null==t||n?1:t||i;return d(e,0,ir(nr(0,r-i),r))}function $n(){for(var n=[],i=-1,r=arguments.length,s=a(),l=gt(),u=l===e,d=a();++i<r;){var p=arguments[i];(hr(p)||bt(p))&&(n.push(p),s.push(u&&p.length>=w&&o(i?n[i]:d)))}var f=n[0],g=-1,m=f?f.length:0,v=[];e:for(;++g<m;){var y=s[0];if(p=f[g],(y?t(y,p):l(d,p))<0){for(i=r,(y||d).push(p);--i;)if(y=s[i],(y?t(y,p):l(n[i],p))<0)continue e;v.push(p)}}for(;r--;)y=s[r],y&&h(y);return c(s),c(d),v}function Tn(e,t,n){var i=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=r;for(t=g.createCallback(t,n,3);o--&&t(e[o],o,e);)i++}else if(i=t,null==i||n)return e?e[r-1]:f;return d(e,nr(0,r-i))}function kn(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?nr(0,i+n):ir(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function Dn(e){for(var t=arguments,n=0,i=t.length,r=e?e.length:0;++n<i;)for(var o=-1,s=t[n];++o<r;)e[o]===s&&(Ki.call(e,o--,1),r--);return e}function Fn(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var i=-1,r=nr(0,Ni((t-e)/(n||1))),o=Ci(r);++i<r;)o[i]=e,e+=n;return o}function Mn(e,t,n){var i=-1,r=e?e.length:0,o=[];for(t=g.createCallback(t,n,3);++i<r;){var s=e[i];t(s,i,e)&&(o.push(s),Ki.call(e,i--,1),r--)}return o}function Rn(e,t,n){if("number"!=typeof t&&null!=t){var i=0,r=-1,o=e?e.length:0;for(t=g.createCallback(t,n,3);++r<o&&t(e[r],r,e);)i++}else i=null==t||n?1:nr(0,t);return d(e,i)}function Ln(e,t,n,i){var r=0,o=e?e.length:r;for(n=n?g.createCallback(n,i,1):oi,t=n(t);o>r;){var s=r+o>>>1;n(e[s])<t?r=s+1:o=s}return r}function Pn(){return ct(st(arguments,!0,!0))}function On(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(n=g.createCallback(n,i,3)),ct(e,t,n)}function In(e){return rt(e,d(arguments,1))}function Bn(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(hr(n)||bt(n))var i=i?ct(rt(i,n).concat(rt(n,i))):n}return i||[]}function Nn(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?ln(Dr(e,"length")):0,i=Ci(0>n?0:n);++t<n;)i[t]=Dr(e,t);return i}function Gn(e,t){var n=-1,i=e?e.length:0,r={};for(t||!i||hr(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}function Hn(e,t){if(!Ot(t))throw new Fi;return function(){return--e<1?t.apply(this,arguments):void 0}}function Vn(e,t){return arguments.length>2?dt(e,17,d(arguments,2),null,t):dt(e,1,null,null,t)}function Un(e){for(var t=arguments.length>1?st(arguments,!0,!1,1):$t(e),n=-1,i=t.length;++n<i;){var r=t[n];e[r]=dt(e[r],1,null,null,e)}return e}function zn(e,t){return arguments.length>2?dt(t,19,d(arguments,2),null,e):dt(t,3,null,null,e)}function Wn(){for(var e=arguments,t=e.length;t--;)if(!Ot(e[t]))throw new Fi;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function jn(e,t){return t="number"==typeof t?t:+t||e.length,dt(e,4,null,null,null,t)}function qn(e,t,n){var i,r,o,s,a,l,u,c=0,h=!1,d=!0;if(!Ot(e))throw new Fi;if(t=nr(0,t)||0,n===!0){var p=!0;d=!1}else It(n)&&(p=n.leading,h="maxWait"in n&&(nr(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var g=function(){var n=t-(Mr()-s);if(0>=n){r&&Gi(r);var h=u;r=l=u=f,h&&(c=Mr(),o=e.apply(a,i),l||r||(i=a=null))}else l=qi(g,n)},m=function(){l&&Gi(l),r=l=u=f,(d||h!==t)&&(c=Mr(),o=e.apply(a,i),l||r||(i=a=null))};return function(){if(i=arguments,s=Mr(),a=this,u=d&&(l||!p),h===!1)var n=p&&!l;else{r||p||(c=s);var f=h-(s-c),v=0>=f;v?(r&&(r=Gi(r)),c=s,o=e.apply(a,i)):r||(r=qi(m,f))}return v&&l?l=Gi(l):l||t===h||(l=qi(g,t)),n&&(v=!0,o=e.apply(a,i)),!v||l||r||(i=a=null),o}}function Kn(e){if(!Ot(e))throw new Fi;var t=d(arguments,1);return qi(function(){e.apply(f,t)},1)}function Yn(e,t){if(!Ot(e))throw new Fi;var n=d(arguments,2);return qi(function(){e.apply(f,n)},t)}function Xn(e,t){if(!Ot(e))throw new Fi;var n=function(){var i=n.cache,r=t?t.apply(this,arguments):b+arguments[0];return zi.call(i,r)?i[r]:i[r]=e.apply(this,arguments)};return n.cache={},n}function Zn(e){var t,n;if(!Ot(e))throw new Fi;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Jn(e){return dt(e,16,d(arguments,1))}function Qn(e){return dt(e,32,null,d(arguments,1))}function ei(e,t,n){var i=!0,r=!0;if(!Ot(e))throw new Fi;return n===!1?i=!1:It(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),Y.leading=i,Y.maxWait=t,Y.trailing=r,qn(e,t,Y)}function ti(e,t){return dt(t,16,[e])}function ni(e){return function(){return e}}function ii(e,t,n){var i=typeof e;if(null==e||"function"==i)return nt(e,t,n);if("object"!=i)return ui(e);var r=pr(e),o=r[0],s=e[o];return 1!=r.length||s!==s||It(s)?function(t){for(var n=r.length,i=!1;n--&&(i=at(t[r[n]],e[r[n]],null,!0)););return i}:function(e){var t=e[o];return s===t&&(0!==s||1/s==1/t)}}function ri(e){return null==e?"":Di(e).replace(wr,ft)}function oi(e){return e}function si(e,t,n){var i=!0,r=t&&$t(t);t&&(n||r.length)||(null==n&&(n=t),o=m,t=e,e=g,r=$t(t)),n===!1?i=!1:It(n)&&"chain"in n&&(i=n.chain);var o=e,s=Ot(o);rn(r,function(n){var r=e[n]=t[n];s&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,s=[n];Wi.apply(s,arguments);var a=r.apply(e,s);if(i||t){if(n===a&&It(a))return this;a=new o(a),a.__chain__=t}return a})})}function ai(){return n._=Oi,this}function li(){}function ui(e){return function(t){return t[e]}}function ci(e,t,n){var i=null==e,r=null==t;if(null==n&&("boolean"==typeof e&&r?(n=e,e=1):r||"boolean"!=typeof t||(n=t,r=!0)),i&&r&&(t=1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=or();return ir(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return ut(e,t)}function hi(e,t){if(e){var n=e[t];return Ot(n)?e[t]():n}}function di(e,t,n){var i=g.templateSettings;e=Di(e||""),n=Ar({},n,i);var r,o=Ar({},n.imports,i.imports),a=pr(o),l=Xt(o),u=0,c=n.interpolate||M,h="__p += '",d=ki((n.escape||M).source+"|"+c.source+"|"+(c===D?E:M).source+"|"+(n.evaluate||M).source+"|$","g");e.replace(d,function(t,n,i,o,a,l){return i||(i=o),h+=e.slice(u,l).replace(L,s),n&&(h+="' +\n__e("+n+") +\n'"),a&&(r=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),h+="';\n";var p=n.variable,m=p;m||(p="obj",h="with ("+p+") {\n"+h+"\n}\n"),h=(r?h.replace(A,""):h).replace(S,"$1").replace(_,"$1;"),h="function("+p+") {\n"+(m?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+I++ +"]")+"\n*/";try{var y=_i(a,"return "+h+v).apply(f,l)}catch(b){throw b.source=h,b}return t?y(t):(y.source=h,y)}function pi(e,t,n){e=(e=+e)>-1?e:0;var i=-1,r=Ci(e);for(t=nt(t,n,1);++i<e;)r[i]=t(i);return r}function fi(e){return null==e?"":Di(e).replace(br,yt)}function gi(e){var t=++v;return Di(null==e?"":e)+t}function mi(e){return e=new m(e),e.__chain__=!0,e}function vi(e,t){return t(e),e}function yi(){return this.__chain__=!0,this}function bi(){return Di(this.__wrapped__)}function wi(){return this.__wrapped__}n=n?ot.defaults(et.Object(),n,ot.pick(et,P)):et;var Ci=n.Array,xi=n.Boolean,Ai=n.Date,Si=n.Error,_i=n.Function,Ei=n.Math,$i=n.Number,Ti=n.Object,ki=n.RegExp,Di=n.String,Fi=n.TypeError,Mi=[],Ri=Si.prototype,Li=Ti.prototype,Pi=Di.prototype,Oi=n._,Ii=Li.toString,Bi=ki("^"+Di(Ii).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ni=Ei.ceil,Gi=n.clearTimeout,Hi=Ei.floor,Vi=_i.prototype.toString,Ui=mt(Ui=Ti.getPrototypeOf)&&Ui,zi=Li.hasOwnProperty,Wi=Mi.push,ji=Li.propertyIsEnumerable,qi=n.setTimeout,Ki=Mi.splice,Yi=Mi.unshift,Xi=function(){try{var e={},t=mt(t=Ti.defineProperty)&&t,n=t(e,e,e)&&t}catch(i){}return n}(),Zi=mt(Zi=Ti.create)&&Zi,Ji=mt(Ji=Ci.isArray)&&Ji,Qi=n.isFinite,er=n.isNaN,tr=mt(tr=Ti.keys)&&tr,nr=Ei.max,ir=Ei.min,rr=n.parseInt,or=Ei.random,sr={};sr[N]=Ci,sr[G]=xi,sr[H]=Ai,sr[U]=_i,sr[W]=Ti,sr[z]=$i,sr[j]=ki,sr[q]=Di;var ar={};ar[N]=ar[H]=ar[z]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ar[G]=ar[q]={constructor:!0,toString:!0,valueOf:!0},ar[V]=ar[U]=ar[j]={constructor:!0,toString:!0},ar[W]={constructor:!0},function(){for(var e=O.length;e--;){var t=O[e];for(var n in ar)zi.call(ar,n)&&!zi.call(ar[n],t)&&(ar[n][t]=!1)}}(),m.prototype=g.prototype;var lr=g.support={};!function(){var e=function(){this.x=1},t={0:1,length:1},i=[];e.prototype={valueOf:1,y:1};for(var r in new e)i.push(r);for(r in arguments);lr.argsClass=Ii.call(arguments)==B,lr.argsObject=arguments.constructor==Ti&&!(arguments instanceof Ci),lr.enumErrorProps=ji.call(Ri,"message")||ji.call(Ri,"name"),lr.enumPrototypes=ji.call(e,"prototype"),lr.funcDecomp=!mt(n.WinRTError)&&R.test(p),lr.funcNames="string"==typeof _i.name,lr.nonEnumArgs=0!=r,lr.nonEnumShadows=!/valueOf/.test(i),lr.ownLast="x"!=i[0],lr.spliceObjects=(Mi.splice.call(t,0,1),!t[0]),lr.unindexedChars="xx"!="x"[0]+Ti("x")[0];try{lr.nodeClass=!(Ii.call(document)==W&&!({toString:0}+""))}catch(o){lr.nodeClass=!0}}(1),g.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:D,variable:"",imports:{_:g}};var ur=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",lr.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):lr.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),lr.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),lr.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(lr.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),lr.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else if(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",lr.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||lr.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"};Zi||(tt=function(){function e(){}return function(t){if(It(t)){e.prototype=t;var i=new e;e.prototype=null}return i||n.Object()}}());var cr=Xi?function(e,t){X.value=t,Xi(e,"__bindData__",X),X.value=null}:li;lr.argsClass||(bt=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&zi.call(e,"callee")&&!ji.call(e,"callee")||!1});var hr=Ji||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ii.call(e)==N||!1},dr=pt({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),pr=tr?function(e){return It(e)?lr.enumPrototypes&&"function"==typeof e||lr.nonEnumArgs&&e.length&&bt(e)?dr(e):tr(e):[]}:dr,fr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:pr,loop:"if (callback(iterable[index], index, collection) === false) return result"},gr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:pr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},mr={top:"if (!objectTypes[typeof iterable]) return result;\n"+fr.top,array:!1},vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yr=kt(vr),br=ki("("+pr(yr).join("|")+")","g"),wr=ki("["+pr(vr).join("")+"]","g"),Cr=pt(fr),xr=pt(gr,{top:gr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Ar=pt(gr),Sr=pt(fr,mr,{useHas:!1}),_r=pt(fr,mr);Ot(/x/)&&(Ot=function(e){return"function"==typeof e&&Ii.call(e)==U});var Er=Ui?function(e){if(!e||Ii.call(e)!=W||!lr.argsClass&&bt(e))return!1;var t=e.valueOf,n=mt(t)&&(n=Ui(t))&&Ui(n);return n?e==n||Ui(e)==n:vt(e)}:vt,$r=ht(function(e,t,n){zi.call(e,n)?e[n]++:e[n]=1}),Tr=ht(function(e,t,n){(zi.call(e,n)?e[n]:e[n]=[]).push(t)}),kr=ht(function(e,t,n){e[n]=t}),Dr=an,Fr=en,Mr=mt(Mr=Ai.now)&&Mr||function(){return(new Ai).getTime()},Rr=8==rr(x+"08")?rr:function(e,t){return rr(Vt(e)?e.replace(F,""):e,t||0)};return g.after=Hn,g.assign=xr,g.at=Zt,g.bind=Vn,g.bindAll=Un,g.bindKey=zn,g.chain=mi,g.compact=bn,g.compose=Wn,g.constant=ni,g.countBy=$r,g.create=xt,g.createCallback=ii,g.curry=jn,g.debounce=qn,g.defaults=Ar,g.defer=Kn,g.delay=Yn,g.difference=wn,g.filter=en,g.flatten=Sn,g.forEach=rn,g.forEachRight=on,g.forIn=Sr,g.forInRight=_t,g.forOwn=_r,g.forOwnRight=Et,g.functions=$t,g.groupBy=Tr,g.indexBy=kr,g.initial=En,g.intersection=$n,g.invert=kt,g.invoke=sn,g.keys=pr,g.map=an,g.mapValues=zt,g.max=ln,g.memoize=Xn,g.merge=Wt,g.min=un,g.omit=jt,g.once=Zn,g.pairs=qt,g.partial=Jn,g.partialRight=Qn,g.pick=Kt,g.pluck=Dr,g.property=ui,g.pull=Dn,g.range=Fn,g.reject=dn,g.remove=Mn,g.rest=Rn,g.shuffle=fn,g.sortBy=vn,g.tap=vi,g.throttle=ei,g.times=pi,g.toArray=yn,g.transform=Yt,g.union=Pn,g.uniq=On,g.values=Xt,g.where=Fr,g.without=In,g.wrap=ti,g.xor=Bn,g.zip=Nn,g.zipObject=Gn,g.collect=an,g.drop=Rn,g.each=rn,g.eachRight=on,g.extend=xr,g.methods=$t,g.object=Gn,g.select=en,g.tail=Rn,g.unique=On,g.unzip=Nn,si(g),g.clone=wt,g.cloneDeep=Ct,g.contains=Jt,g.escape=ri,g.every=Qt,g.find=tn,g.findIndex=Cn,g.findKey=At,g.findLast=nn,g.findLastIndex=xn,g.findLastKey=St,g.has=Tt,g.identity=oi,g.indexOf=_n,g.isArguments=bt,g.isArray=hr,g.isBoolean=Dt,g.isDate=Ft,g.isElement=Mt,g.isEmpty=Rt,g.isEqual=Lt,g.isFinite=Pt,g.isFunction=Ot,g.isNaN=Bt,g.isNull=Nt,g.isNumber=Gt,g.isObject=It,g.isPlainObject=Er,g.isRegExp=Ht,g.isString=Vt,g.isUndefined=Ut,g.lastIndexOf=kn,g.mixin=si,g.noConflict=ai,g.noop=li,g.now=Mr,g.parseInt=Rr,g.random=ci,g.reduce=cn,g.reduceRight=hn,g.result=hi,g.runInContext=p,g.size=gn,g.some=mn,g.sortedIndex=Ln,g.template=di,g.unescape=fi,g.uniqueId=gi,g.all=Qt,g.any=mn,g.detect=tn,g.findWhere=tn,g.foldl=cn,g.foldr=hn,g.include=Jt,g.inject=cn,si(function(){var e={};return _r(g,function(t,n){g.prototype[n]||(e[n]=t)}),e}(),!1),g.first=An,g.last=Tn,g.sample=pn,g.take=An,g.head=An,_r(g,function(e,t){var n="sample"!==t;g.prototype[t]||(g.prototype[t]=function(t,i){var r=this.__chain__,o=e(this.__wrapped__,t,i);return r||null!=t&&(!i||n&&"function"==typeof t)?new m(o,r):o})}),g.VERSION="2.4.2",g.prototype.chain=yi,g.prototype.toString=bi,g.prototype.value=wi,g.prototype.valueOf=wi,Cr(["join","pop","shift"],function(e){var t=Mi[e];g.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n
}}),Cr(["push","reverse","sort","unshift"],function(e){var t=Mi[e];g.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Cr(["concat","slice","splice"],function(e){var t=Mi[e];g.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),lr.spliceObjects||Cr(["pop","shift","splice"],function(e){var t=Mi[e],n="splice"==e;g.prototype[e]=function(){var e=this.__chain__,i=this.__wrapped__,r=t.apply(i,arguments);return 0===i.length&&delete i[0],e||n?new m(r,e):r}}),g}var f,g=[],m=[],v=0,y={},b=+new Date+"",w=75,C=40,x=" 	\f\n\r\u2028\u2029",A=/\b__p \+= '';/g,S=/\b(__p \+=) '' \+/g,_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,D=/<%=([\s\S]+?)%>/g,F=RegExp("^["+x+"]*0+(?=.$)"),M=/($^)/,R=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,P=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],O=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],I=0,B="[object Arguments]",N="[object Array]",G="[object Boolean]",H="[object Date]",V="[object Error]",U="[object Function]",z="[object Number]",W="[object Object]",j="[object RegExp]",q="[object String]",K={};K[U]=!1,K[B]=K[N]=K[G]=K[H]=K[z]=K[W]=K[j]=K[q]=!0;var Y={leading:!1,maxWait:0,trailing:!1},X={configurable:!1,enumerable:!1,value:null,writable:!1},Z={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},J={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Q={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},et=J[typeof window]&&window||this,tt=J[typeof exports]&&exports&&!exports.nodeType&&exports,nt=J[typeof module]&&module&&!module.nodeType&&module,it=nt&&nt.exports===tt&&tt,rt=J[typeof global]&&global;!rt||rt.global!==rt&&rt.window!==rt||(et=rt);var ot=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(et._=ot,define(function(){return ot})):tt&&nt?it?(nt.exports=ot)._=ot:tt._=ot:et._=ot}.call(this),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,t){"use strict";var n=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];if(r===t)return n}return-1},i=e.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/i,s=i-r%i,a=s&&1>s?"round":"floor";o=Math[a](o),this.cols=Math.max(o,1)},i.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=t&&1>t?"round":"ceil",r=Math[i](e.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var o=this._getColGroup(r),s=Math.min.apply(Math,o),a=n(o,s),l={x:this.columnWidth*a,y:s},u=s+e.size.outerHeight,c=this.cols+1-o.length,h=0;c>h;h++)this.colYs[a+h]=u;return l},i.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;n>i;i++){var r=this.colYs.slice(i,i+e);t[i]=Math.max.apply(Math,r)}return t},i.prototype._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),r=this.options.isOriginLeft?i.left:i.right,o=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,u=s;a>=u;u++)this.colYs[u]=Math.max(l,this.colYs[u])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},i.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},i}),angular.module("com.2fdevs.videogular",["ngSanitize"]).run(["$templateCache",function(e){e.put("vg-templates/vg-media-video","<video></video>"),e.put("vg-templates/vg-media-audio","<audio></audio>"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r})}]),angular.module("com.2fdevs.videogular").constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).constant("VG_VOLUME_KEY","videogularVolume"),angular.module("com.2fdevs.videogular").controller("vgController",["$scope","$window","vgConfigLoader","vgFullscreen","VG_UTILS","VG_STATES","VG_VOLUME_KEY",function(e,t,n,i,r,o,s){var a=null,l=!1,u=!1;this.videogularElement=null,this.clearMedia=function(){this.mediaElement[0].src=""},this.onCanPlay=function(t){this.isBuffering=!1,e.$apply(e.vgCanPlay({$event:t}))},this.onVideoReady=function(){this.isReady=!0,this.autoPlay=e.vgAutoPlay,this.playsInline=e.vgPlaysInline,this.cuePoints=e.vgCuePoints,this.currentState=o.STOP,u=!0,r.supportsLocalStorage()&&this.setVolume(parseFloat(t.localStorage.getItem(s)||"1")),e.vgConfig?n.loadConfig(e.vgConfig).then(this.onLoadConfig.bind(this)):e.vgPlayerReady({$API:this})},this.onLoadConfig=function(t){this.config=t,e.vgTheme=this.config.theme,e.vgAutoPlay=this.config.autoPlay,e.vgPlaysInline=this.config.playsInline,e.vgCuePoints=this.config.cuePoints,e.vgPlayerReady({$API:this})},this.onLoadMetaData=function(e){this.isBuffering=!1,this.onUpdateTime(e)},this.onUpdateTime=function(t){this.currentTime=1e3*t.target.currentTime,1/0!=t.target.duration?(this.totalTime=1e3*t.target.duration,this.timeLeft=1e3*(t.target.duration-t.target.currentTime),this.isLive=!1):this.isLive=!0,this.cuePoints&&this.checkCuePoints(t.target.currentTime),e.vgUpdateTime({$currentTime:t.target.currentTime,$duration:t.target.duration}),e.$apply()},this.checkCuePoints=function(e){for(var t in this.cuePoints)for(var n=0,i=this.cuePoints[t].length;i>n;n++){var r=this.cuePoints[t][n];r.timeLapse.end||(r.timeLapse.end=r.timeLapse.start+1),e<r.timeLapse.end&&(r.$$isCompleted=!1),e>r.timeLapse.start?(r.$$isDirty=!0,e<r.timeLapse.end&&r.onUpdate&&r.onUpdate(e,r.timeLapse,r.params),e>=r.timeLapse.end&&r.onComplete&&!r.$$isCompleted&&(r.$$isCompleted=!0,r.onComplete(e,r.timeLapse,r.params))):(r.onLeave&&r.$$isDirty&&r.onLeave(e,r.timeLapse,r.params),r.$$isDirty=!1)}},this.onPlay=function(){this.setState(o.PLAY),e.$apply()},this.onPause=function(){0==this.mediaElement[0].currentTime?this.setState(o.STOP):this.setState(o.PAUSE),e.$apply()},this.onVolumeChange=function(){this.volume=this.mediaElement[0].volume,e.$apply()},this.onPlaybackChange=function(){this.playback=this.mediaElement[0].playbackRate,e.$apply()},this.seekTime=function(e,t){var n;t?(n=e*this.mediaElement[0].duration/100,this.mediaElement[0].currentTime=n):(n=e,this.mediaElement[0].currentTime=n),this.currentTime=1e3*n},this.playPause=function(){this.mediaElement[0].paused?this.play():this.pause()},this.setState=function(t){return t&&t!=this.currentState&&(e.vgUpdateState({$state:t}),this.currentState=t),this.currentState},this.play=function(){this.mediaElement[0].play(),this.setState(o.PLAY)},this.pause=function(){this.mediaElement[0].pause(),this.setState(o.PAUSE)},this.stop=function(){this.mediaElement[0].pause(),this.mediaElement[0].currentTime=0,this.currentTime=0,this.setState(o.STOP)},this.toggleFullScreen=function(){!i.isAvailable||e.vgPlaysInline?(this.isFullScreen?(this.videogularElement.removeClass("fullscreen"),this.videogularElement.css("z-index","auto")):(this.videogularElement.addClass("fullscreen"),this.videogularElement.css("z-index",r.getZIndex())),this.isFullScreen=!this.isFullScreen):this.isFullScreen?r.isMobileDevice()||i.exit():r.isMobileDevice()?r.isiOSDevice()?u?this.enterElementInFullScreen(this.mediaElement[0]):(l=!0,this.play()):this.enterElementInFullScreen(this.mediaElement[0]):this.enterElementInFullScreen(this.videogularElement[0])},this.enterElementInFullScreen=function(e){i.request(e)},this.changeSource=function(t){e.vgChangeSource({$source:t})},this.setVolume=function(n){e.vgUpdateVolume({$volume:n}),this.mediaElement[0].volume=n,this.volume=n,r.supportsLocalStorage()&&t.localStorage.setItem(s,n.toString())},this.setPlayback=function(t){e.vgUpdatePlayback({$playBack:t}),this.mediaElement[0].playbackRate=t,this.playback=t},this.updateTheme=function(e){var t,n,i=document.getElementsByTagName("link");if(a)for(t=0,n=i.length;n>t;t++)if(i[t].outerHTML.indexOf(a)>=0){i[t].parentNode.removeChild(i[t]);break}if(e){var r=angular.element(document).find("head"),o=!1;for(t=0,n=i.length;n>t&&!(o=i[t].outerHTML.indexOf(e)>=0);t++);o||r.append("<link rel='stylesheet' href='"+e+"'>"),a=e}},this.onStartBuffering=function(){this.isBuffering=!0,e.$apply()},this.onStartPlaying=function(){this.isBuffering=!1,e.$apply()},this.onComplete=function(){e.vgComplete(),this.setState(o.STOP),this.isCompleted=!0,e.$apply()},this.onVideoError=function(t){e.vgError({$event:t})},this.addListeners=function(){this.mediaElement[0].addEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].addEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].addEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].addEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].addEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].addEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].addEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].addEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].addEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].addEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].addEventListener("error",this.onVideoError.bind(this),!1)},this.init=function(){this.isReady=!1,this.isCompleted=!1,this.currentTime=0,this.totalTime=0,this.timeLeft=0,this.isLive=!1,this.isFullScreen=!1,this.isConfig=void 0!=e.vgConfig,i.isAvailable&&(this.isFullScreen=i.isFullScreen()),this.updateTheme(e.vgTheme),this.addBindings(),i.isAvailable&&document.addEventListener(i.onchange,this.onFullScreenChange.bind(this))},this.onUpdateTheme=function(e){this.updateTheme(e)},this.onUpdateAutoPlay=function(e){e&&this.play(this)},this.addBindings=function(){e.$watch("vgTheme",this.onUpdateTheme.bind(this)),e.$watch("vgAutoPlay",this.onUpdateAutoPlay.bind(this)),e.$watch("vgPlaysInline",function(e){this.playsInline=e}),e.$watch("vgCuePoints",function(e){this.cuePoints=e,this.checkCuePoints(this.currentTime)}.bind(this))},this.onFullScreenChange=function(){this.isFullScreen=i.isFullScreen(),e.$apply()},e.$on("$destroy",this.clearMedia.bind(this)),e.$on("$routeChangeStart",this.clearMedia.bind(this)),this.init()}]),angular.module("com.2fdevs.videogular").directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r;e.setLoop=function(e){e?i.mediaElement.attr("loop",e):i.mediaElement.removeAttr("loop")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setLoop(i.config.loop)}):e.$watch(n.vgLoop,function(t,n){r&&t==n||!t?e.setLoop():(r=t,e.setLoop(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgMedia",["$timeout","VG_UTILS","VG_STATES",function(e,t,n){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){var n=t.vgType||"video";return t.vgTemplate||"vg-templates/vg-media-"+n},scope:{vgSrc:"=?",vgType:"=?"},link:function(i,r,o,s){var a;o.vgType=o.vgType&&"video"!==o.vgType?"audio":"video",i.onChangeSource=function(e,t){a&&e==t||!e||(a=e,s.currentState!==n.PLAY&&(s.currentState=n.STOP),s.sources=a,i.changeSource())},i.changeSource=function(){var i="";if(s.mediaElement[0].canPlayType){for(var r=0,o=a.length;o>r;r++)if(i=s.mediaElement[0].canPlayType(a[r].type),"maybe"==i||"probably"==i){s.mediaElement.attr("src",a[r].src),s.mediaElement.attr("type",a[r].type),s.changeSource(a[r]);break}}else s.mediaElement.attr("src",a[0].src),s.mediaElement.attr("type",a[0].type),s.changeSource(a[0]);s.mediaElement[0].load(),e(function(){(s.autoPlay&&!t.isMobileDevice()||s.currentState===n.PLAY)&&s.play()}),""==i&&s.onVideoError()},s.mediaElement=r.find(o.vgType),s.sources=i.vgSrc,s.addListeners(),s.onVideoReady(),i.$watch("vgSrc",i.onChangeSource),s.isConfig&&i.$watch(function(){return s.config},function(){s.config&&(i.vgSrc=s.config.sources)})}}}]),angular.module("com.2fdevs.videogular").directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r;e.setControls=function(e){e?i.mediaElement.attr("controls",e):i.mediaElement.removeAttr("controls")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setControls(i.config.controls)}):e.$watch(n.vgNativeControls,function(t,n){r&&t==n||!t?e.setControls():(r=t,e.setControls(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r;e.setPreload=function(e){e?i.mediaElement.attr("preload",e):i.mediaElement.removeAttr("preload")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setPreload(i.config.preload)}):e.$watch(n.vgPreload,function(t,n){r&&t==n||!t?e.setPreload():(r=t,e.setPreload(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var r,o,s,a;e.changeSource=function(){var e=i.mediaElement.children();for(s=0,a=e.length;a>s;s++)e[s].remove&&e[s].remove();if(r)for(s=0,a=r.length;a>s;s++){o="",o+="<track ";for(var t in r[s])o+=t+'="'+r[s][t]+'" ';o+="></track>",i.mediaElement.append(o)}},e.setTracks=function(t){r=t,i.tracks=t,e.changeSource()},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setTracks(i.config.tracks)}):e.$watch(n.vgTracks,function(t,n){r&&t==n||e.setTracks(t)})}}}}]),angular.module("com.2fdevs.videogular").directive("videogular",[function(){return{restrict:"EA",scope:{vgTheme:"=?",vgAutoPlay:"=?",vgPlaysInline:"=?",vgCuePoints:"=?",vgConfig:"@",vgCanPlay:"&",vgComplete:"&",vgUpdateVolume:"&",vgUpdatePlayback:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&",vgError:"&"},controller:"vgController",controllerAs:"API",link:{pre:function(e,t,n,i){i.videogularElement=angular.element(t)}}}}]),angular.module("com.2fdevs.videogular").service("vgConfigLoader",["$http","$q","$sce",function(e,t,n){this.loadConfig=function(i){var r=t.defer();return e({method:"GET",url:i}).then(function(e){for(var t=e.data,i=0,o=t.sources.length;o>i;i++)t.sources[i].src=n.trustAsResourceUrl(t.sources[i].src);r.resolve(t)},function(){r.reject()}),r.promise}}]),angular.module("com.2fdevs.videogular").service("vgFullscreen",["VG_UTILS",function(e){function t(){return null!=document[n.element]}var n=null,i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var r in i)if(i[r].enabled in document){n=i[r];break}e.isiOSDevice()&&(n=i.ios),this.isAvailable=null!=n,n&&(this.onchange=n.onchange,this.onerror=n.onerror,this.isFullScreen=t,this.exit=function(){document[n.exit]()},this.request=function(e){e[n.request]()})}]),angular.module("com.2fdevs.videogular").service("VG_UTILS",["$window",function(e){this.fixEventOffset=function(e){var t=navigator.userAgent.match(/Firefox\/(\d+)/i);if(t&&Number.parseInt(t.pop())<39){var n=e.currentTarget.currentStyle||window.getComputedStyle(e.target,null),i=parseInt(n.borderLeftWidth,10),r=parseInt(n.borderTopWidth,10),o=e.currentTarget.getBoundingClientRect(),s=e.clientX-i-o.left,a=e.clientY-r-o.top;e.offsetX=s,e.offsetY=a}return e},this.getZIndex=function(){for(var e=1,t=document.getElementsByTagName("*"),n=0,i=t.length;i>n;n++)t[n].style.zIndex&&parseInt(t[n].style.zIndex)>e&&(e=parseInt(t[n].style.zIndex)+1);return e},this.isMobileDevice=function(){return"undefined"!=typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},this.isiOSDevice=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)},this.supportsLocalStorage=function(){try{return"localStorage"in e&&null!==e.localStorage}catch(t){return!1}}}]),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,i){function r(){var e,r,o,l;for(e in a)c(s[e])&&(i.cookies(e,n),delete a[e]);for(e in s)r=s[e],t.isString(r)||(r=""+r,s[e]=r),r!==a[e]&&(i.cookies(e,r),a[e]=r,l=!0);if(l){o=i.cookies();for(e in s)s[e]!==o[e]&&(c(o[e])?(delete s[e],delete a[e]):s[e]=a[e]=o[e])}}var o,s={},a={},l=!1,u=t.copy,c=t.isUndefined;return i.addPollFn(function(){var t=i.cookies();o!=t&&(o=t,u(t,a),u(t,s),l&&e.$apply())})(),l=!0,e.$watch(r),s}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var i=e[n];return i?t.fromJson(i):i},put:function(n,i){e[n]=t.toJson(i)},remove:function(t){delete e[t]}}}])}(window,window.angular),function(e,t){return"function"==typeof define&&define.amd?(define("angular-file-upload",["angular"],function(e){return t(e)}),void 0):t(e)}("undefined"==typeof angular?null:angular,function(e){var t=e.module("angularFileUpload",[]);return t.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(t,n,i,r,o){function s(n){var i=e.copy(t);e.extend(this,i,n,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function a(t){var n=e.isElement(t),i=n?t.value:t,r=e.isString(i)?"FakePath":"Object",o="_createFrom"+r;this[o](i)}function l(t,n,i){var r=e.isElement(n),o=r?e.element(n):null,a=r?null:n;e.extend(this,{url:t.url,alias:t.alias,headers:e.copy(t.headers),formData:e.copy(t.formData),removeAfterUpload:t.removeAfterUpload,withCredentials:t.withCredentials,method:t.method},i,{uploader:t,file:new s.FileLikeObject(n),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:a,_input:o}),o&&this._replaceNode(o)}function u(t){e.extend(this,t),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function c(){c.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function h(){h.super_.apply(this,arguments)}function d(){d.super_.apply(this,arguments)}return s.prototype.isHTML5=!(!r.File||!r.FormData),s.prototype.addToQueue=function(t,n,i){var r=this.isArrayLikeObject(t)?t:[t],o=this._getFilters(i),a=this.queue.length,l=[];e.forEach(r,function(e){var t=new s.FileLikeObject(e);if(this._isValidFile(t,o,n)){var i=new s.FileItem(this,e,n);l.push(i),this.queue.push(i),this._onAfterAddingFile(i)}else{var r=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(t,r,n)}},this),this.queue.length!==a&&(this._onAfterAddingAll(l),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},s.prototype.removeFromQueue=function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),n._destroy(),this.progress=this._getTotalProgress()},s.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},s.prototype.uploadItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[i](n))},s.prototype.cancelItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhr":"_form";n&&n.isUploading&&n[i].abort()},s.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(e){return!e.isUploading});t.length&&(e.forEach(t,function(e){e._prepareToUploading()}),t[0].upload())},s.prototype.cancelAll=function(){var t=this.getNotUploadedItems();e.forEach(t,function(e){e.cancel()})},s.prototype.isFile=function(e){var t=r.File;return t&&e instanceof t},s.prototype.isFileLikeObject=function(e){return e instanceof s.FileLikeObject},s.prototype.isArrayLikeObject=function(t){return e.isObject(t)&&"length"in t},s.prototype.getIndexOfItem=function(t){return e.isNumber(t)?t:this.queue.indexOf(t)},s.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},s.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},s.prototype.destroy=function(){e.forEach(this._directives,function(t){e.forEach(this._directives[t],function(e){e.destroy()},this)},this)},s.prototype.onAfterAddingAll=function(){},s.prototype.onAfterAddingFile=function(){},s.prototype.onWhenAddingFileFailed=function(){},s.prototype.onBeforeUploadItem=function(){},s.prototype.onProgressItem=function(){},s.prototype.onProgressAll=function(){},s.prototype.onSuccessItem=function(){},s.prototype.onErrorItem=function(){},s.prototype.onCancelItem=function(){},s.prototype.onCompleteItem=function(){},s.prototype.onCompleteAll=function(){},s.prototype._getTotalProgress=function(e){if(this.removeAfterUpload)return e||0;var t=this.getNotUploadedItems().length,n=t?this.queue.length-t:this.queue.length,i=100/this.queue.length,r=(e||0)*i/100;return Math.round(n*i+r)},s.prototype._getFilters=function(t){if(e.isUndefined(t))return this.filters;if(e.isArray(t))return t;var n=t.match(/[^\s,]+/g);return this.filters.filter(function(e){return-1!==n.indexOf(e.name)},this)},s.prototype._render=function(){n.$$phase||n.$apply()},s.prototype._folderFilter=function(e){return!(!e.size&&!e.type)},s.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},s.prototype._isValidFile=function(e,t,n){return this._failFilterIndex=-1,t.length?t.every(function(t){return this._failFilterIndex++,t.fn.call(this,e,n)},this):!0},s.prototype._isSuccessCode=function(e){return e>=200&&300>e||304===e},s.prototype._transformResponse=function(t,n){var r=this._headersGetter(n);return e.forEach(i.defaults.transformResponse,function(e){t=e(t,r)}),t},s.prototype._parseHeaders=function(t){var n,i,r,o={};return t?(e.forEach(t.split("\n"),function(e){r=e.indexOf(":"),n=e.slice(0,r).trim().toLowerCase(),i=e.slice(r+1).trim(),n&&(o[n]=o[n]?o[n]+", "+i:i)}),o):o},s.prototype._headersGetter=function(e){return function(t){return t?e[t.toLowerCase()]||null:e}},s.prototype._xhrTransport=function(t){var n=t._xhr=new XMLHttpRequest,i=new FormData,r=this;r._onBeforeUploadItem(t),e.forEach(t.formData,function(t){e.forEach(t,function(e,t){i.append(t,e)})}),i.append(t.alias,t._file,t.file.name),n.upload.onprogress=function(e){var n=Math.round(e.lengthComputable?100*e.loaded/e.total:0);r._onProgressItem(t,n)},n.onload=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),i=r._transformResponse(n.response,e),o=r._isSuccessCode(n.status)?"Success":"Error",s="_on"+o+"Item";r[s](t,i,n.status,e),r._onCompleteItem(t,i,n.status,e)},n.onerror=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),i=r._transformResponse(n.response,e);r._onErrorItem(t,i,n.status,e),r._onCompleteItem(t,i,n.status,e)},n.onabort=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),i=r._transformResponse(n.response,e);r._onCancelItem(t,i,n.status,e),r._onCompleteItem(t,i,n.status,e)},n.open(t.method,t.url,!0),n.withCredentials=t.withCredentials,e.forEach(t.headers,function(e,t){n.setRequestHeader(t,e)}),n.send(i),this._render()},s.prototype._iframeTransport=function(t){var n=e.element('<form style="display: none;" />'),i=e.element('<iframe name="iframeTransport'+Date.now()+'">'),r=t._input,o=this;t._form&&t._form.replaceWith(r),t._form=n,o._onBeforeUploadItem(t),r.prop("name",t.alias),e.forEach(t.formData,function(t){e.forEach(t,function(t,i){var r=e.element('<input type="hidden" name="'+i+'" />');r.val(t),n.append(r)})}),n.prop({action:t.url,method:"POST",target:i.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),i.bind("load",function(){try{var e=i[0].contentDocument.body.innerHTML}catch(n){}var r={response:e,status:200,dummy:!0},s={},a=o._transformResponse(r.response,s);o._onSuccessItem(t,a,r.status,s),o._onCompleteItem(t,a,r.status,s)}),n.abort=function(){var e,s={status:0,dummy:!0},a={};i.unbind("load").prop("src","javascript:false;"),n.replaceWith(r),o._onCancelItem(t,e,s.status,a),o._onCompleteItem(t,e,s.status,a)},r.after(n),n.append(r).append(i),n[0].submit(),this._render()},s.prototype._onWhenAddingFileFailed=function(e,t,n){this.onWhenAddingFileFailed(e,t,n)},s.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},s.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},s.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},s.prototype._onProgressItem=function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()},s.prototype._onSuccessItem=function(e,t,n,i){e._onSuccess(t,n,i),this.onSuccessItem(e,t,n,i)},s.prototype._onErrorItem=function(e,t,n,i){e._onError(t,n,i),this.onErrorItem(e,t,n,i)},s.prototype._onCancelItem=function(e,t,n,i){e._onCancel(t,n,i),this.onCancelItem(e,t,n,i)},s.prototype._onCompleteItem=function(t,n,i,r){t._onComplete(n,i,r),this.onCompleteItem(t,n,i,r);var o=this.getReadyItems()[0];return this.isUploading=!1,e.isDefined(o)?(o.upload(),void 0):(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render(),void 0)},s.isFile=s.prototype.isFile,s.isFileLikeObject=s.prototype.isFileLikeObject,s.isArrayLikeObject=s.prototype.isArrayLikeObject,s.isHTML5=s.prototype.isHTML5,s.inherit=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.super_=t},s.FileLikeObject=a,s.FileItem=l,s.FileDirective=u,s.FileSelect=c,s.FileDrop=h,s.FileOver=d,a.prototype._createFromFakePath=function(e){this.lastModifiedDate=null,this.size=null,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},a.prototype._createFromObject=function(t){this.lastModifiedDate=e.copy(t.lastModifiedDate),this.size=t.size,this.type=t.type,this.name=t.name},l.prototype.upload=function(){this.uploader.uploadItem(this)},l.prototype.cancel=function(){this.uploader.cancelItem(this)},l.prototype.remove=function(){this.uploader.removeFromQueue(this)},l.prototype.onBeforeUpload=function(){},l.prototype.onProgress=function(){},l.prototype.onSuccess=function(){},l.prototype.onError=function(){},l.prototype.onCancel=function(){},l.prototype.onComplete=function(){},l.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},l.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},l.prototype._onSuccess=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(e,t,n)},l.prototype._onError=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(e,t,n)},l.prototype._onCancel=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(e,t,n)},l.prototype._onComplete=function(e,t,n){this.onComplete(e,t,n),this.removeAfterUpload&&this.remove()},l.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},l.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},l.prototype._replaceNode=function(e){var t=o(e.clone())(e.scope());t.prop("value",null),e.css("display","none"),e.after(t)},u.prototype.events={},u.prototype.bind=function(){for(var e in this.events){var t=this.events[e];this.element.bind(e,this[t])}},u.prototype.unbind=function(){for(var e in this.events)this.element.unbind(e,this.events[e])},u.prototype.destroy=function(){var e=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(e,1),this.unbind()},u.prototype._saveLinks=function(){for(var e in this.events){var t=this.events[e];this[t]=this[t].bind(this)}},s.inherit(c,u),c.prototype.events={$destroy:"destroy",change:"onChange"},c.prototype.prop="select",c.prototype.getOptions=function(){},c.prototype.getFilters=function(){},c.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},c.prototype.onChange=function(){var e=this.uploader.isHTML5?this.element[0].files:this.element[0],t=this.getOptions(),n=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(e,t,n),this.isEmptyAfterSelection()&&this.element.prop("value",null)},s.inherit(h,u),h.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},h.prototype.prop="drop",h.prototype.getOptions=function(){},h.prototype.getFilters=function(){},h.prototype.onDrop=function(t){var n=this._getTransfer(t);if(n){var i=this.getOptions(),r=this.getFilters();this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(n.files,i,r)}},h.prototype.onDragOver=function(t){var n=this._getTransfer(t);this._haveFiles(n.types)&&(n.dropEffect="copy",this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._addOverClass,this))
},h.prototype.onDragLeave=function(t){t.currentTarget===this.element[0]&&(this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._removeOverClass,this))},h.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},h.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},h.prototype._haveFiles=function(e){return e?e.indexOf?-1!==e.indexOf("Files"):e.contains?e.contains("Files"):!1:!1},h.prototype._addOverClass=function(e){e.addOverClass()},h.prototype._removeOverClass=function(e){e.removeOverClass()},s.inherit(d,u),d.prototype.events={$destroy:"destroy"},d.prototype.prop="over",d.prototype.overClass="nv-file-over",d.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},d.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},d.prototype.getOverClass=function(){return this.overClass},s}]).directive("nvFileSelect",["$parse","FileUploader",function(e,t){return{link:function(n,i,r){var o=n.$eval(r.uploader);if(!(o instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var s=new t.FileSelect({uploader:o,element:i});s.getOptions=e(r.options).bind(s,n),s.getFilters=function(){return r.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(e,t){return{link:function(n,i,r){var o=n.$eval(r.uploader);if(!(o instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');if(o.isHTML5){var s=new t.FileDrop({uploader:o,element:i});s.getOptions=e(r.options).bind(s,n),s.getFilters=function(){return r.filters}}}}}]).directive("nvFileOver",["FileUploader",function(e){return{link:function(t,n,i){var r=t.$eval(i.uploader);if(!(r instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var o=new e.FileOver({uploader:r,element:n});o.getOverClass=function(){return i.overClass||this.overClass}}}}]),t}),function(e,t,n){"use strict";!function(){t.module("uiGmapgoogle-maps.providers",[]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}.call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,i){var r,o,s,a;return a=void 0,r=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},o=function(e){var t,n,o;return t=["transport","isGoogleMapsForWork","china"],e.isGoogleMapsForWork&&t.push("key"),n=_.map(_.omit(e,t),function(e,t){return t+"="+e}),a&&document.getElementById(a).remove(),n=n.join("&"),o=document.createElement("script"),o.id=a="ui_gmap_map_load_"+i.generate(),o.type="text/javascript",o.src=r(e)+n,document.body.appendChild(o)},s=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var i,r;return i=n.defer(),s()?(i.resolve(e.google.maps),i.promise):(r=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[r]=function(){e[r]=null,i.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE?document.addEventListener("online",function(){return s()?void 0:o(t)}):o(t),i.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",sensor:"false"},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",function(e){return function(t){return t.load(e.options)}}(this)],this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){return google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow?(google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e}),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;e=this.marker_.get("labelContent"),e&&!_.isEqual(this.oldContent,e)&&("undefined"==typeof(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0):void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){return this.intersectionObjects=function(e,t,n){var i;return null==n&&(n=void 0),i=_.map(e,function(){return function(e){return _.find(t,function(t){return null!=n?n(e,t):_.isEqual(e,t)})}}(this)),_.filter(i,function(e){return null!=e})},this.containsObject=_.includeObject=function(e,t,n){return null==n&&(n=void 0),null===e?!1:_.any(e,function(){return function(e){return null!=n?n(e,t):_.isEqual(e,t)}}(this))},this.differenceObjects=function(e,t,n){return null==n&&(n=void 0),_.filter(e,function(e){return function(i){return!e.containsObject(t,i,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,n,i){var r,o;if(null==e)return-1;if(r=0,o=e.length,i){if("number"!=typeof i)return r=_.sortedIndex(e,t),e[r]===t?r:-1;r=0>i?Math.max(0,o+i):i}for(;o>r;){if(null!=n){if(n(e[r],t))return r}else if(_.isEqual(e[r],t))return r;r++}return-1},this.isNullOrUndefined=function(e){return _.isNull(e||_.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,n,i,r,o,s){var a,l,u,c,h,d,p,f,g,m,v,y,b,w,C,x,A,S,E;return S=n.promiseTypes,v=n.isInProgress,A=n.promiseStatus,a=n.ExposedPromise,u=n.SniffedPromise,y=function(e,t){var n;return n=e.promise(),n.promiseType=e.promiseType,n.$$state&&i.debug("promiseType: "+n.promiseType+", state: "+A(n.$$state.status)),n.cancelCb=t,n},f=function(e,t){return e.promiseType===S.create&&t.promiseType!==S["delete"]&&t.promiseType!==S.init?(i.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},x=function(e,t,n){var r;return t.promiseType===S["delete"]&&n.promiseType!==S["delete"]&&null!=n.cancelCb&&_.isFunction(n.cancelCb)&&v(n)&&(i.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+n.promiseType),n.cancelCb("cancel safe"),r=e.peek(),null!=r&&v(r))?r.hasOwnProperty("cancelCb")&&_.isFunction(r.cancelCb)?(i.debug("promiseType: "+r.promiseType+", CANCELING FIRST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe")):i.warn("first promise was not cancelable"):void 0},l=function(e,t,n){var i,r;if(e.existingPieces){if(i=_.last(e.existingPieces._content),f(t,i))return;return x(e.existingPieces,t,i),r=a(i["finally"](function(){return y(t,n)})),r.cancelCb=n,r.promiseType=t.promiseType,e.existingPieces.enqueue(r),i["finally"](function(){return e.existingPieces.dequeue()})}return e.existingPieces=new o.Queue,e.existingPieces.enqueue(y(t,n))},w=function(e,t,n,r,o){var s;return null==n&&(n=""),s=function(e){return i.debug(e+": "+e),null!=r&&_.isFunction(r)?r(e):void 0},l(e,u(o,t),s)},d=80,m={value:null},E=function(e,t,n){var i;try{return e.apply(t,n)}catch(r){return i=r,m.value=i,m}},b=function(e,t,n,r){var o,s;return s=E(e,t,r),s===m&&(o="error within chunking iterator: "+m.value,i.error(o),n.reject(o)),"cancel safe"===s?!1:!0},h=function(e,t,n){var i,r;return i=e===t,r=t[n],i?r:e[r]},c=function(e,n,i,r){var o;return t.isArray(e)?o=e:(o=n?n:Object.keys(_.omit(e,["length","forEach","map"])),n=o),null==r&&(r=i),t.isArray(o)&&(void 0===o||(null!=o?o.length:void 0)<=0)&&r!==i?i():r(o,n)},p=function(n,i,r,o,s,a,l,u){return c(n,u,function(u,c){var d,f,g,m;for(d=i&&i<u.length?i:u.length,f=l,g=!0;g&&d--&&f<(u?u.length:f+1);)m=h(n,u,f),g=t.isFunction(m)?!0:b(o,void 0,a,[m,f]),++f;if(u){if(!(g&&f<u.length))return a.resolve();if(l=f,i)return null!=s&&_.isFunction(s)&&b(s,void 0,a,[]),e(function(){return p(n,i,r,o,s,a,l,c)},r,!1)}})},g=function(e,t,r,o,s,a,l){var u,h,f;return null==r&&(r=d),null==s&&(s=0),null==a&&(a=1),f=void 0,h=n.defer(),f=h.promise,a?c(e,l,function(){return h.resolve(),f},function(n,i){return p(e,r,a,t,o,h,s,i),f}):(u="pause (delay) must be set from _async!",i.error(u),h.reject(u),f)},C=function(e,t,i,r,o,s,a){var l;return l=[],c(e,a,function(){return n.resolve(l)},function(n,a){return g(e,function(e){return l.push(t(e))},i,r,o,s,a).then(function(){return l})})},{each:g,map:C,managePromiseQueue:w,promiseLock:w,defaultChunkSize:d,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),_.isNumber(e)&&(t=e),(s.isFalse(e)||e===!1)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t,n;return n=["extended","included"],t=function(){function t(){}return t.extend=function(t){var i,r,o;for(i in t)o=t[i],e.call(n,i)<0&&(this[i]=o);return null!=(r=t.extended)&&r.apply(this),this},t.include=function(t){var i,r,o;for(i in t)o=t[i],e.call(n,i)<0&&(this.prototype[i]=o);return null!=(r=t.included)&&r.apply(this),this},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return n=t.getScope(),n.deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(){var e,n;return n=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},e=function(e,t){return n(e)?e:n(t)?t:void 0},{setEvents:function(n,i,r,o){var s;return s=e(i,r),null!=s?_.compact(_.map(s.events,function(e,a){var l;return o&&(l=_(o).contains(a)),s.events.hasOwnProperty(a)&&t.isFunction(s.events[a])&&!l?google.maps.event.addListener(n,a,function(){return i.$evalAsync||(i.$evalAsync=function(){}),i.$evalAsync(e.apply(i,[n,a,r,arguments]))}):void 0})):void 0},removeEvents:function(e){return e?e.forEach(function(e){return e?google.maps.event.removeListener(e):void 0}):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","uiGmap_async",function(){return{fit:function(e,t){var n,i;return t&&e&&e.length>0&&(n=new google.maps.LatLngBounds,i=!1,e.forEach(function(){return function(e){return e?(i||(i=!0),n.extend(e.getPosition())):void 0}}(this)),i)?t.fitBounds(n):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,n){var i,r,o,s,a,l;return r=function(e,t,n){return e===t||-1!==n.indexOf(e)},i=function(e){return r(e,!1,["false","FALSE",0,"n","N","no","NO"])},s=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},a=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},o=function(e){return e?Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},l=function(e){if(t.isUndefined(e))return!1;if(_.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&_.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return e&&t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(e,n){return e?(Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e):void 0},getLabelPositionPoint:function(e){var t,n;return void 0===e?void 0:(e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0)},createWindowOptions:function(i,r,s,a){var l;return null!=s&&null!=a&&null!=n?(l=t.extend({},a,{content:this.buildContent(r,a,s),position:null!=a.position?a.position:t.isObject(i)?i.getPosition():o(r.coords)}),null!=i&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):a?a:(e.error("infoWindow defaults not defined"),s?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,i){var r,o;return null!=t.content?o=t.content:null!=n?(i=i.replace(/^\s+|\s+$/g,""),r=""===i?"":n(i)(e),r.length>0&&(o=r[0])):o=i,o},defaultDelay:50,isTrue:function(e){return r(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:i,isFalsy:function(e){return r(e,!1,[void 0,null])||i(e)},getCoords:o,validateCoords:l,equalCoords:function(e,t){return s(e)===s(t)&&a(e)===a(t)},validatePath:function(e){var n,i,r,o;if(i=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;i<e.length;){if(!(t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)||"function"==typeof e[i].lat&&"function"==typeof e[i].lng))return!1;i++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;n=e.coordinates[0]}else if("MultiPolygon"===e.type){if(o={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},o),r=e.coordinates[o.index],n=r[0],n.length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;n=e.coordinates}for(;i<n.length;){if(2!==n[i].length)return!1;i++}return!0},convertPathPoints:function(e){var n,i,r,o,s;if(i=0,o=new google.maps.MVCArray,t.isUndefined(e.type))for(;i<e.length;)t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)?r=new google.maps.LatLng(e[i].latitude,e[i].longitude):"function"==typeof e[i].lat&&"function"==typeof e[i].lng&&(r=e[i]),o.push(r),i++;else for("Polygon"===e.type?n=e.coordinates[0]:"MultiPolygon"===e.type?(s={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},s),n=e.coordinates[s.index][0]):"LineString"===e.type&&(n=e.coordinates);i<n.length;)o.push(new google.maps.LatLng(n[i][1],n[i][0])),i++;return o},extendMapBounds:function(e,t){var n,i;for(n=new google.maps.LatLngBounds,i=0;i<t.length;)n.extend(t.getAt(i)),i++;return e.fitBounds(n)},getPath:function(e,t){var n;return null!=t&&_.isString(t)?(n=e,_.each(t.split("."),function(e){return n?n=n[e]:void 0}),n):t},validateBoundPoints:function(e){return t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude)?!1:!0},convertBoundPoints:function(e){var t;return t=new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,i,r,o,s,a;return i=0,a=[],r=1,o=50,s=function(){return e.all(a)},n=function(e,a){return t(function(){return r>=o&&e.reject("Your maps are not found we have checked the maximum amount of times. :)"),r+=1,i!==a?n(e,a):e.resolve(s())},100)},{spawn:function(){var t;return t=e.defer(),a.push(t.promise),i+=1,{instance:i,deferred:t}},promises:s,instances:function(){return i},promise:function(t){var i;return null==t&&(t=1),i=e.defer(),n(i,t),i.promise},reset:function(){i=0,a.length=0},decrement:function(){i>0&&(i-=1),a.length&&(a.length-=1)}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){var n;return n=function(t){function n(e,t,n,i){this.scope=e,this.element=t,this.attrs=n,this.ctrls=i}return e(n,t),n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["$log",function(e){var t,n,i,r;return t={log:1,info:2,debug:3,warn:4,error:5,none:6},r=function(e,t,n){return e>=t?n():void 0},i=function(t,n){return null!=e?e[t](n):console[t](n)},n=function(){function n(){var e;this.doLog=!0,e={},["log","info","debug","warn","error"].forEach(function(n){return function(o){return e[o]=function(e){return n.doLog?r(t[o],n.currentLevel,function(){return i(o,e)}):void 0}}}(this)),this.LEVELS=t,this.currentLevel=t.error,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error}return n.prototype.spawn=function(){return new n},n.prototype.setLog=function(t){return e=t},n}(),new n}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(i,r){var o;return o=function(i){function o(t){this.scope=t,this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.onDestroy=e(this.onDestroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),o.__super__.constructor.call(this),this["interface"]={},this["interface"].scopeKeys=[],this.defaultIdKey="id",this.idKey=void 0}return n(o,i),o.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(_.isFunction(t)&&(t=t()),r.getPath(e,t)):void 0},o.prototype.modelKeyComparison=function(e,t){var n,i,o;if(n=_.contains(this["interface"].scopeKeys,"coords"),(n&&null!=this.scope.coords||!n)&&(o=this.scope),null==o)throw"No scope set!";return n&&(i=r.equalCoords(this.evalModelHandle(e,o.coords),this.evalModelHandle(t,o.coords)),!i)?i:i=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(i){return n.evalModelHandle(e,o[i])===n.evalModelHandle(t,o[i])}}(this))},o.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},o.prototype.setVal=function(e,t,n){var i;return i=this.modelOrKey(e,t),i=n,e},o.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?r.getPath(e,t):e:void 0},o.prototype.getProp=function(e,t){return this.modelOrKey(t,e)},o.prototype.getChanges=function(e,t,n){var i,r,o;n&&(t=_.pick(t,n),e=_.pick(e,n)),r={},o={},i={};for(o in e)t&&t[o]===e[o]||(_.isArray(e[o])?r[o]=e[o]:_.isObject(e[o])?(i=this.getChanges(e[o],t?t[o]:null),_.isEmpty(i)||(r[o]=i)):r[o]=e[o]);return r},o.prototype.scopeOrModelVal=function(e,t,n,i){var r,o,s,a;return null==i&&(i=!1),r=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},a=t[e],_.isFunction(a)?r(!0,a(n),i):_.isObject(a)?r(!0,a,i):_.isString(a)?(o=a,s=o?"self"===o?n:n[o]:n[e],_.isFunction(s)?r(!1,s(),i):r(!1,s,i)):r(!0,a,i)},o.prototype.setChildScope=function(e,t,n){return _.each(e,function(e){return function(i){var r,o;return r=e.scopeOrModelVal(i,t,n,!0),null!=(null!=r?r.value:void 0)&&(o=r.value,o!==t[i])?t[i]=o:void 0}}(this)),t.model=n},o.prototype.onDestroy=function(){},o.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(e,t){return null==t[this.idKey]?(this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."),void 0):e.updateModel(t)},o.prototype.modelsLength=function(e){var n,i;return null==e&&(e=void 0),n=0,i=e?e:this.scope.models,null==i?n:n=t.isArray(i)||null!=i.length?i.length:Object.keys(i).length},o}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,i){return{didQueueInitPromise:function(e,n){return 0===n.models.length?(t.promiseLock(e,i.promiseTypes.init,null,null,function(){return function(){return i.resolve()}}(this)),!0):!1},figureOutState:function(t,n,i,r){var o,s,a,l,u;return o=[],a={},l=[],u=[],n.models.forEach(function(n){var s;return null==n[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(a[n[t]]={},null==i.get(n[t])?o.push(n):(s=i.get(n[t]),r(n,s.clonedModel)?void 0:u.push({model:n,child:s})))}),s=i.values(),s.forEach(function(n){var i;return null==n?(e.error("child undefined in ModelsWatcher."),void 0):null==n.model?(e.error("child.model undefined in ModelsWatcher."),void 0):(i=n.model[t],null==a[i]?l.push(n):void 0)}),{adds:o,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,n){var i,r,o,s,a,l,u,c,h,d,p;return h={create:"create",update:"update","delete":"delete",init:"init"},c={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},p=function(){var e;return e={},e[""+c.IN_PROGRESS]="in-progress",e[""+c.RESOLVED]="resolved",e[""+c.REJECTED]="rejected",e}(),s=function(e){return e.$$state?e.$$state.status===c.IN_PROGRESS:e.hasOwnProperty("$$v")?void 0:!0},a=function(e){return e.$$state?e.$$state.status===c.RESOLVED:e.hasOwnProperty("$$v")?!0:void 0},u=function(e){return p[e]||"done w error"},i=function(t){var n,i,r;return n=e.defer(),i=e.all([t,n.promise]),r=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),r.notify(e)}),i.then(function(e){return r.resolve(e[0]||e[1])},function(e){return r.reject(e)}),r.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},r.promise.notify=function(e){return null==e&&(e="cancel safe"),r.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(r.promise.promiseType=t.promiseType),r.promise},r=function(e,t){return{promise:e,promiseType:t}},o=function(){return e.defer()},d=function(){var t;return t=e.defer(),t.resolve.apply(void 0,arguments),t.promise},l=function(i){var r;return _.isFunction(i)?(r=e.defer(),t(function(){var e;return e=i(),r.resolve(e)}),r.promise):(n.error("uiGmapPromise.promise() only accepts functions"),void 0)},{defer:o,promise:l,resolve:d,promiseTypes:h,isInProgress:s,isResolved:a,promiseStatus:u,ExposedPromise:i,SniffedPromise:r}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var t;return t=function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var n;return null==t&&(t=!1),t&&!this.get(e)?void 0:(n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n)},t.prototype.valuesOrKeys=function(e){var t,n;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(n=[],t=[],_.each(this.dict,function(e,i){return n.push(e),t.push(i)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map(function(e){return function(t){return e.remove(t)}}(this))},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return _.each(this.dict,function(t){return e(t)})},t.prototype.map=function(e){return _.map(this.dict,function(t){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(){var e;return e=function(e){return this.setIfChange=function(t,n){var i;return i=this.exp,_.isEqual(n,t)?void 0:e(i,t)},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(n,i,r){var o;return o=function(){function o(t,i,s,a){null==i&&(i={}),this.opt_options=null!=s?s:{},this.opt_events=a,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=o.type,this.clusterer=new NgMapMarkerClusterer(t,i,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return o.type="ClustererMarkerManager",o.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",n.error(t)):void 0},o.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},o.prototype.update=function(e){return this.remove(e),this.add(e)},o.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},o.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},o.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},o.prototype.draw=function(){return this.clusterer.repaint()},o.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},o.prototype.attachEvents=function(e,i){var r,o,s;if(t.isDefined(e)&&null!=e&&t.isObject(e)){s=[];for(o in e)r=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(i+": Attaching event: "+o+" to clusterer"),s.push(google.maps.event.addListener(this.clusterer,o,e[o]))):s.push(void 0);return s}},o.prototype.clearEvents=function(e,i){var r,o,s;if(t.isDefined(e)&&null!=e&&t.isObject(e)){s=[];for(o in e)r=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(i+": Clearing event: "+o+" to clusterer"),s.push(google.maps.event.clearListeners(this.clusterer,o))):s.push(void 0);return s}},o.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},o.prototype.fit=function(){return i.fit(this.getGMarkers(),this.clusterer.getMap())},o.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},o.prototype.checkSync=function(){},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,i){var r;return r=function(){function r(n){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=r.type,this.gMap=n,this.gMarkers=new i,this.$log=t,this.$log.info(this)}return r.type="MarkerManager",r.prototype.add=function(e,n){var i,r;if(null==n&&(n=!0),null==e.key)throw r="gMarker.key undefined and it is REQUIRED!!",t.error(r),r;return i=this.gMarkers.get(e.key),i?void 0:(this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e))},r.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},r.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},r.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},r.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},r.prototype.draw=function(){var e;return e=[],this.gMarkers.each(function(t){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)}}(this)),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},r.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new i},r.prototype.handleOptDraw=function(e,t,n){return t===!0?(n?e.setMap(this.gMap):e.setMap(null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)
},r.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},r.prototype.getGMarkers=function(){return this.gMarkers.values()},r}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n,i;return n=function(t,n,i){return google.maps.event.addListener(t,n,function(){return i.apply(this,arguments),e(function(){},!0)})},i=function(e,i,r){var o;return r?n(e,i,r):(o=[],t.forEach(i,function(t,i){return o.push(n(e,i,t))}),function(){return t.forEach(o,function(e){return google.maps.event.removeListener(e)}),o=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,i,r,o){var s,a,l,u,c,h,d,p,f;return u=!1,p=i.$eval(r),i["static"]||(c={set_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?(p[e].latitude=t.lat(),p[e].longitude=t.lng()):p[e]=t},insert_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?p.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):p.splice(e,0,t)},remove_at:function(e){return u?void 0:p.splice(e,1)}},"Polygon"===p.type?s=p.coordinates[0]:"LineString"===p.type&&(s=p.coordinates),a={set_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return s[e][1]=t.lat(),s[e][0]=t.lng()},insert_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return s.splice(e,0,[t.lng(),t.lat()])},remove_at:function(e){return u?void 0:s.splice(e,1)}},d=e(n,t.isUndefined(p.type)?c:a)),h=function(e){var t,i,r,s,a,l,c,h;if(u=!0,l=n,t=!1,e){for(i=0,c=l.getLength(),s=e.length,r=Math.min(c,s),a=void 0;r>i;)h=l.getAt(i),a=e[i],"function"==typeof a.equals?a.equals(h)||(l.setAt(i,a),t=!0):(h.lat()!==a.latitude||h.lng()!==a.longitude)&&(l.setAt(i,new google.maps.LatLng(a.latitude,a.longitude)),t=!0),i++;for(;s>i;)a=e[i],"function"==typeof a.lat&&"function"==typeof a.lng?l.push(a):l.push(new google.maps.LatLng(a.latitude,a.longitude)),t=!0,i++;for(;c>i;)l.pop(),t=!0,i++}return u=!1,t?o(l):void 0},l=function(e){var t,i,r,s,a,l,c,h,d;if(u=!0,c=n,i=!1,e){for("Polygon"===p.type?t=e.coordinates[0]:"LineString"===p.type&&(t=e.coordinates),r=0,h=c.getLength(),a=t.length,s=Math.min(h,a),l=void 0;s>r;)d=c.getAt(r),l=t[r],(d.lat()!==l[1]||d.lng()!==l[0])&&(c.setAt(r,new google.maps.LatLng(l[1],l[0])),i=!0),r++;for(;a>r;)l=t[r],c.push(new google.maps.LatLng(l[1],l[0])),i=!0,r++;for(;h>r;)c.pop(),i=!0,r++}return u=!1,i?o(c):void 0},i["static"]||(f=t.isUndefined(p.type)?i.$watchCollection(r,h):i.$watch(r,l,!0)),function(){return d&&(d(),d=null),f?(f(),f=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,n,i;return e=["length","forEach","map"],t=[],n=function(t){return t.forEach=function(n){return _.each(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(n),i=function(t){return t.map=function(n){return _.map(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(i),{slapMap:i,slapForEach:n,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(i,r,o){var s;return s=function(i){function o(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},o.prototype.buildOpts=function(e,n,i){var o,s,a;return null==e&&(e={}),null==i&&(i={}),this.scope?this.map?(o=this.getCorrectModel(this.scope),a=this.scopeOrModelVal("stroke",this.scope,o),s=t.extend(e,this.DEFAULTS,{map:this.map,strokeColor:null!=a?a.color:void 0,strokeOpacity:null!=a?a.opacity:void 0,strokeWeight:null!=a?a.weight:void 0}),t.forEach(t.extend(i,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(i,r){var a;return a=n?n[r]:e.scopeOrModelVal(r,e.scope,o),s[r]=t.isUndefined(a)?i:o[r]}}(this)),s["static"]&&(s.editable=!1),s):(r.error("this.map not defined in CommonOptionsBuilder can not buildOpts"),void 0):(r.error("this.scope not defined in CommonOptionsBuilder can not buildOpts"),void 0)},o.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){return null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0]?(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions):void 0}}(this))},o}(o)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.buildOpts=function(e,n,r){var o,s;return s=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,s),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),i.__super__.buildOpts.call(this,e,n,r)},i}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,i){return n.__super__.buildOpts.call(this,{center:e,radius:t},i)},n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,n){return _.extend(n,{createOptions:function(e,i,r,o){var s;return null==r&&(r={}),s=t.extend({},r,{position:null!=r.position?r.position:n.getCoords(e),visible:null!=r.visible?r.visible:n.validateCoords(e)}),(null!=r.icon||null!=i)&&(s=t.extend(s,{icon:null!=r.icon?r.icon:i})),null!=o&&(s.map=o),s},isLabel:function(e){return null==e?!1:null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,r,o,s,a){return function(i,r){var l;return l=function(i){function l(n,i,s,l,u){var c;this.scope=n,this.attrs=i,this.map=s,this.defaults=l,this.model=u,this.clean=e(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return _.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},c=function(e){return function(){var n,i;if(!e.isDragging)return i=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),null!=e.scope.model&&(n=e.scope),i.length>0&&(e.gObject=r(e.buildOpts(i,n))),e.gObject?(e.scope.fit&&e.extendMapBounds(e.map,i),o(e.gObject.getPath(),e.scope,"path",function(t){return e.scope.fit?e.extendMapBounds(e.map,t):void 0}),t.isDefined(e.scope.events)&&t.isObject(e.scope.events)&&(e.listeners=e.model?a.setEvents(e.gObject,e.scope,e.model):a.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?a.setEvents(e.gObject,{events:e.internalEvents},e.model):a.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0}}(this),c(),this.scope.$watch("path",function(e){return function(t,n){return _.isEqual(t,n)&&e.gObject?void 0:c()}}(this),!0),!this.scope["static"]&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setEditable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setDraggable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(e){return function(t,n){var i;return t!==n&&(t=!e.isFalse(t)),null!=(i=e.gObject)?i.setVisible(t):void 0}}(this),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(e){return function(t,n){var i;return t!==n?null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0:void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(e){return function(t,n){var i;return t!==n?null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0:void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(e){return function(t,n){var i;return t!==n?null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0:void 0}}(this),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(e){return function(t,n){var i;return t!==n?null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0:void 0}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this))}return n(l,i),l.include(s),l.prototype.clean=function(){var e;return a.removeEvents(this.listeners),a.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},l}(i)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var n,i;return n=function(e,t,n){var i,r;return r=new google.maps.Polyline({map:e,clickable:!1}),i=google.maps.event.addListener(e,"mousemove",function(e){return r.getPath().push(e.latLng)}),google.maps.event.addListenerOnce(e,"mouseup",function(){var o;return google.maps.event.removeListener(i),o=r.getPath(),r.setMap(null),t.push(new google.maps.Polygon({map:e,path:o})),r=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()}),void 0},i=function(i,r){var o,s;return this.map=i,r||(r={draggable:!0,zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!0}),s=function(e){return function(){var t;return null!=(t=e.deferred)&&t.resolve(),_.defer(function(){return e.map.setOptions(_.extend(e.oldOptions,r))})}}(this),o=function(t){return function(){return e.info("disabling map move"),t.oldOptions=map.getOptions(),t.oldOptions.center=map.getCenter(),t.map.setOptions({draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!1})}}(this),this.engage=function(i){return function(r){return i.polys=r,i.deferred=t.defer(),o(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(i.map.getDiv(),"mousedown",function(){return n(i.map,i.polys,s)}),i.deferred.promise}}(this),this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(t,i,r,o,s,a,l,u,c){var h;return h=function(t){function h(t,n,i,o,a,l,u,p,f,g){var m;this.model=n,this.keys=i,this.gMap=o,this.defaults=a,this.doClick=l,this.gManager=u,this.doDrawSelf=null!=p?p:!0,this.trackModel=null!=f?f:!0,this.needRedraw=null!=g?g:!1,this.internalEvents=e(this.internalEvents,this),this.setLabelOptions=e(this.setLabelOptions,this),this.setOptions=e(this.setOptions,this),this.setIcon=e(this.setIcon,this),this.setCoords=e(this.setCoords,this),this.isNotValid=e(this.isNotValid,this),this.maybeSetScopeValue=e(this.maybeSetScopeValue,this),this.createMarker=e(this.createMarker,this),this.setMyScope=e(this.setMyScope,this),this.updateModel=e(this.updateModel,this),this.handleModelChanges=e(this.handleModelChanges,this),this.destroy=e(this.destroy,this),this.clonedModel=_.extend({},this.model),this.deferred=c.defer(),_.each(this.keys,function(e){return function(t,n){return e[n+"Key"]=_.isFunction(e.keys[n])?e.keys[n]():e.keys[n]}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),h.__super__.constructor.call(this,t),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){return t!==n?e.handleModelChanges(t,n):void 0}}(this),!0)):(m=new s(function(e){return function(n){return e.firstTime?void 0:e.setMyScope(n,t)}}(this),!1),_.each(this.keys,function(e,n){return t.$watch(n,m.sic,!0)})),this.scope.$on("$destroy",function(e){return function(){return d(e)}}(this)),this.createMarker(this.model),r.info(this)}var d;return n(h,t),h.include(i),h.include(o),h.include(a),d=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},h.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},h.prototype.handleModelChanges=function(e,t){var n,i,r;return n=this.getChanges(e,t,l.keys),this.firstTime?void 0:(i=0,r=_.keys(n).length,_.each(n,function(n){return function(o,s){var a;return i+=1,a=r===i,n.setMyScope(s,e,t,!1,!0,a),n.needRedraw=!0}}(this)))},h.prototype.updateModel=function(e){return this.clonedModel=_.extend({},e),this.setMyScope("all",e,this.model)},h.prototype.renderGMarker=function(e,t){var n;if(null==e&&(e=!0),n=this.getProp(this.coordsKey,this.model),null!=n){if(!this.validateCoords(n))return r.debug("MarkerChild does not have coords yet. They may be defined later."),void 0;if(null!=t&&t(),e&&this.gObject)return this.gManager.add(this.gObject)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},h.prototype.setMyScope=function(e,t,n,i,r){var o;switch(null==n&&(n=void 0),null==i&&(i=!1),null==r&&(r=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,r),o=!0),e){case"all":return _.each(this.keys,function(e){return function(o,s){return e.setMyScope(s,t,n,i,r)}}(this));case"icon":return this.maybeSetScopeValue("icon",t,n,this.iconKey,this.evalModelHandle,i,this.setIcon,r);case"coords":return this.maybeSetScopeValue("coords",t,n,this.coordsKey,this.evalModelHandle,i,this.setCoords,r);case"options":if(!o)return this.createMarker(t,n,i,r)}},h.prototype.createMarker=function(e,t,n,i){return null==t&&(t=void 0),null==n&&(n=!1),null==i&&(i=!0),this.maybeSetScopeValue("options",e,t,this.optionsKey,this.evalModelHandle,n,this.setOptions,i),this.firstTime=!1},h.prototype.maybeSetScopeValue=function(e,t,n,i,r,o,s,a){return null==s&&(s=void 0),null==a&&(a=!0),null!=s?s(this.scope,a):void 0},h.doDrawSelf&&doDraw&&h.gManager.draw(),h.prototype.isNotValid=function(e,t){var n,i;return null==t&&(t=!0),i=t?void 0===this.gObject:!1,n=this.trackModel?!1:e.$id!==this.scope.$id,n||i},h.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(e){return function(){var t,n,i;return n=e.getProp(e.coordsKey,e.model),t=e.getCoords(n),i=e.gObject.getPosition(),null==i||null==t||t.lng()!==i.lng()||t.lat()!==i.lat()?(e.gObject.setPosition(t),e.gObject.setVisible(e.validateCoords(n))):void 0}}(this))},h.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(e){return function(){var t,n,i;return i=e.gObject.getIcon(),n=e.getProp(e.iconKey,e.model),i!==n?(e.gObject.setIcon(n),t=e.getProp(e.coordsKey,e.model),e.gObject.setPosition(e.getCoords(t)),e.gObject.setVisible(e.validateCoords(t))):void 0}}(this))},h.prototype.setOptions=function(e,t){var n;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(e){return function(){var t,n,i;return n=e.getProp(e.coordsKey,e.model),i=e.getProp(e.iconKey,e.model),t=e.getProp(e.optionsKey,e.model),e.opts=e.createOptions(n,i,t),e.isLabel(e.gObject)!==e.isLabel(e.opts)&&null!=e.gObject&&(e.gManager.remove(e.gObject),e.gObject=void 0),null!=e.gObject&&e.gObject.setOptions(e.setLabelOptions(e.opts)),e.gObject||(e.gObject=e.isLabel(e.opts)?new MarkerWithLabel(e.setLabelOptions(e.opts)):new google.maps.Marker(e.opts),_.extend(e.gObject,{model:e.model})),e.externalListeners&&e.removeEvents(e.externalListeners),e.internalListeners&&e.removeEvents(e.internalListeners),e.externalListeners=e.setEvents(e.gObject,e.scope,e.model,["dragend"]),e.internalListeners=e.setEvents(e.gObject,{events:e.internalEvents(),$evalAsync:function(){}},e.model),null!=e.id?e.gObject.key=e.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==u.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(n=this.gObject)?n.getMap():0)&&this.gManager.type===u.type||(r.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},h.prototype.setLabelOptions=function(e){return e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor),e},h.prototype.internalEvents=function(){return{dragend:function(e){return function(t,n,i,r){var o,s,a;return s=e.trackModel?e.scope.model:e.model,a=e.setCoordsFromEvent(e.modelOrKey(s,e.coordsKey),e.gObject.getPosition()),s=e.setVal(i,e.coordsKey,a),o=e.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(t,n,s,r),e.scope.$apply()}}(this),click:function(e){return function(t,n,i,r){var o;return o=_.isFunction(e.clickKey)?e.clickKey:e.getProp(e.clickKey,e.model),e.doClick&&null!=o?e.scope.$evalAsync(o(t,n,e.model,r)):void 0}}(this)}},h}(t)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,n){var i,r,o;return o=function(e){return new google.maps.Polygon(e)},r=new t(n,o),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(r)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,n){var i,r,o;return o=function(e){return new google.maps.Polyline(e)},r=t(n,o),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(r)}])}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,o,s,a,l,u,c,h){var d;return d=function(r){function d(e,t,i,r,o,a,l,u,c){var h;this.model=e,this.scope=t,this.opts=i,this.isIconVisibleOnClick=r,this.mapCtrl=o,this.markerScope=a,this.element=l,this.needToManualDestroy=null!=u?u:!1,this.markerIsVisibleAfterWindowClose=null!=c?c:!0,this.updateModel=n(this.updateModel,this),this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)?null!=(t=this.markerScope)?t.getGMarker():void 0:void 0},this.listeners=[],this.createGWin(),h=this.getGmarker(),null!=h&&h.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),s.info(this)}return i(d,r),d.include(o),d.include(h),d.prototype.doShow=function(e){return this.scope.show===!0||e?this.showWindow():this.hideWindow()},d.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},d.prototype.watchElement=function(){return this.scope.$watch(function(e){return function(){var t,n;if(e.element||e.html)return e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),n=e.gObject.isOpen(),e.remove(),e.createGWin(n)):void 0}}(this))},d.prototype.createGWin=function(t){var n,i,r,o,s;return null==t&&(t=!1),r=this.getGmarker(),i={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),i=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),n=this.scope.options?this.scope.options:i,this.opts=this.createWindowOptions(r,this.markerScope||this.scope,this.html,n),null!=this.opts?(this.gObject||(this.gObject=this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?new e.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return r&&(r.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&_.delay(function(){return r.setVisible(!1),r.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)?null!=(s=o.options)?s.forceClick:void 0:void 0)||t),this.doShow(this.gObject.isOpen())):void 0},d.prototype.watchCoords=function(){var e;return e=null!=this.markerScope?this.markerScope:this.scope,e.$watch("coords",function(e){return function(t,n){var i;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return s.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model)),void 0;if(i=e.getCoords(t),e.gObject.setPosition(i),e.opts)return e.opts.position=i}}}(this),!0)},d.prototype.watchOptions=function(){return this.scope.$watch("options",function(e){return function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}}(this),!0)},d.prototype.handleClick=function(e){var t,n;if(null!=this.gObject)return n=this.getGmarker(),t=function(e){return function(){return null==e.gObject&&e.createGWin(),e.showWindow(),null!=n?(e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)):void 0}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0},d.prototype.showWindow=function(){var e,n,i;return null!=this.gObject?(n=function(e){return function(){var t,n,i;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(i=e.gObject.getPosition()),n&&(i=n.getPosition()),!i)return;if(e.gObject.open(e.mapCtrl,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t}}}(this),this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then(function(e){return function(i){var r,o;return o=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(o.parameter=e.scope.templateParameter),r=a(i.data)(o),e.gObject.setContent(r[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),e=a(this.scope.template)(i),this.gObject.setContent(e[0]),n()):n()):void 0},d.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},d.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},d.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},d.prototype.destroy=function(e){var t;return null==e&&(e=!1),this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},d.prototype.updateModel=function(e){return this.clonedModel=_.extend({},e),_.extend(this.model,this.clonedModel)},d}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise",function(i,r,o,s,a,l,u){return function(i,c,h){var d;return d=function(o){function d(t,n,o,s,l){this.element=n,this.attrs=o,this.gMap=s,this.defaults=l,this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),d.__super__.constructor.call(this,t),this["interface"]=i,this.$log=r,this.plurals=new a,_.each(i.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return n(d,o),d.include(s),d.prototype.watchModels=function(e){return e.$watchCollection("models",function(t){return function(n,i){return n!==i?t.doINeedToWipe(n)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1):void 0}}(this))},d.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},d.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},d.prototype.onDestroy=function(){return d.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,u.promiseTypes["delete"],void 0,void 0,function(e){return function(){return l.each(e.plurals.values(),function(e){return e.destroy(!0)},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},d.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},d.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?(this.$log.error("No models to create "+h+"s from! I Need direct models!"),void 0):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},d.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,i){return n!==i&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},d.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,l.promiseLock(this,u.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return l.each(e.models,function(e){var i;return i=t.createChild(e,t.gMap),n&&(r.debug("createNew should fall through safely"),i.isEnabled=!1),n},l.chunkSizeFrom(e.chunk)).then(function(){return t.firstTime=!1})}}(this)))},d.prototype.pieceMeal=function(e,t){var n,i;return null==t&&(t=!0),e.$$destroyed?void 0:(n=null,i=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,u.promiseTypes.update,"pieceMeal",function(e){return n=e},function(t){return function(){return u.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(o){return i=o,i.updates.length&&r.info("polygons updates: "+i.updates.length+" will be missed"),l.each(i.removals,function(e){return null!=e?(e.destroy(),t.plurals.remove(e.model[t.idKey]),n):void 0
},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(i.adds,function(e){return n&&r.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),n},l.chunkSizeFrom(e.chunk))})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},d.prototype.createChild=function(e,t){var n,r;return r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,e),r.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(r,t):void 0}}(this),!0),r["static"]=this.scope["static"],n=new c(r,this.attrs,t,this.defaults,e),null==e[this.idKey]?(this.$log.error(h+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."),void 0):(this.plurals.put(e[this.idKey],n),n)},d}(o)}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,i,r,o,s){var a;return a=function(i){function s(e,i,o,s,a){var l,u,c;this.attrs=o,this.map=s,this.DEFAULTS=a,this.scope=e,c=null,l=function(e){return function(){return c=null,null!=e.listeners?(e.removeEvents(e.listeners),e.listeners=void 0):void 0}}(this),u=new google.maps.Circle(this.buildOpts(r.getCoords(e.center),e.radius)),this.setMyOptions=function(t){return function(n,i){return _.isEqual(n,i)?void 0:u.setOptions(t.buildOpts(r.getCoords(e.center),e.radius))}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),l(),this.listeners=this.setEvents(u,e,e,["radius_changed"]),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"radius_changed",function(){var n,i;return n=u.getRadius(),n!==c?(c=n,i=function(){var t,i;return n!==e.radius&&(e.radius=n),(null!=(t=e.events)?t.radius_changed:void 0)&&_.isFunction(null!=(i=e.events)?i.radius_changed:void 0)?e.events.radius_changed(u,"radius_changed",e,arguments):void 0},t.mock?i():e.$evalAsync(function(){return i()})):void 0})),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"center_changed",function(){return e.$evalAsync(function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=u.getCenter().lat(),e.center.coordinates[0]=u.getCenter().lng()):(e.center.latitude=u.getCenter().lat(),e.center.longitude=u.getCenter().lng())})})),e.$on("$destroy",function(){return function(){return l(),u.setMap(null)}}(this)),n.info(this)}return e(s,i),s.include(r),s.include(o),s}(s)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,n,i,r){var o;return o=function(t){function n(e,t,n,i){var r,o;this.scope=e,this.attrs=n,this.map=i,r=new google.maps.drawing.DrawingManager(this.scope.options),r.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return r}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(e){return null!=r?r.setOptions(e):void 0},!0),null!=this.scope.events&&(o=this.setEvents(r,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=o&&e.removeEvents(o),o=e.setEvents(r,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(e){return function(){return null!=o&&e.removeEvents(o),r.setMap(null),r=null}}(this))}return e(n,t),n.include(r),n}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,s,a){if(this.scope=n,this.element=i,this.attrs=s,this.map=a,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=r,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(e){return function(){return e.onDestroy(e.scope)}}(this))}return n(o,i),o.prototype.DEFAULTS={},o.prototype.validateScope=function(e){var t;return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=null!=e.coords,t?t:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(e,t,n){return null==n&&(n=!0),t.$watch(e,function(n){return function(i,r){return _.isEqual(i,r)?void 0:n.onWatch(e,t,i,r)}}(this),n)},o.prototype.onWatch=function(){},o}(i)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,n,i){var r;return r=function(t){function r(e,t,n,o,s,a,l,u){r.__super__.constructor.call(this,e),this.$log=i,this.$timeout=s,this.$compile=a,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return e(r,t),r.include(n),r.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},r}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(i,r){var o;return o=function(i){function o(n,i,o,s,a,l){return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.onLayerCreated=null!=a?a:void 0,this.$log=null!=l?l:r,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?(this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"),void 0):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.gObject.setMap(e.gMap):e.gObject.setMap(null)):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return t!==n?(e.gObject.setMap(null),e.gObject=null,e.createGoogleLayer()):void 0}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)),void 0)}return n(o,i),o.prototype.createGoogleLayer=function(){var e;return this.gObject=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&null!=this.onLayerCreated?"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0:void 0},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,o,s,a){return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.$log=null!=a?a:r,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?(this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"),void 0):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.showOverlay():e.hideOverlay()):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null}}(this)),void 0)}return n(o,i),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!"),void 0;this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(n,i){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(i))}}(this))},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger",function(i,r,o,s,a,l,u,c,h,d,p){var f,g;return g=function(e,t){return t.plurals=new o,t.scope.plurals=t.plurals,t},f=function(i){function c(t,n,i,r){this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this);var s;c.__super__.constructor.call(this,t,n,i,r),this["interface"]=h,s=this,g(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(t,n){if(!_.isEqual(t,n)||!e.modelsRendered){if(0===t.length&&0===n.length)return;return e.modelsRendered=!0,e.onWatch("models",e.scope,t,n)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return n(c,i),c.include(p),c.include(r),c.prototype.onWatch=function(e,t,n,i){return"idKey"===e&&n!==i&&(this.idKey=n),this.doRebuildAll||"doCluster"===e?this.rebuildAll(t):this.pieceMeal(t)},c.prototype.validateScope=function(e){var n;return n=t.isUndefined(e.models)||void 0===e.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,e)||n},c.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},c.prototype.createAllNew=function(e){var n,i,r,o,s;return null!=this.gManager&&(this.gManager.clear(),delete this.gManager),e.doCluster?(e.clusterEvents&&(s=this,this.origClusterEvents?t.extend(e.clusterEvents,this.origClusterEvents):this.origClusterEvents={click:null!=(i=e.clusterEvents)?i.click:void 0,mouseout:null!=(r=e.clusterEvents)?r.mouseout:void 0,mouseover:null!=(o=e.clusterEvents)?o.mouseover:void 0},t.extend(e.clusterEvents,{click:function(e){return s.maybeExecMappedEvent(e,"click")},mouseout:function(e){return s.maybeExecMappedEvent(e,"mouseout")},mouseover:function(e){return s.maybeExecMappedEvent(e,"mouseover")}})),this.gManager=new l(this.map,void 0,e.clusterOptions,e.clusterEvents)):this.gManager=new u(this.map),this.didQueueInitPromise(this,e)?void 0:(n=null,a.promiseLock(this,d.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return a.each(e.models,function(i){return t.newChildMarker(i,e),n},a.chunkSizeFrom(e.chunk)).then(function(){return t.modelsRendered=!0,e.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},a.chunkSizeFrom(e.chunk))}}(this)))},c.prototype.rebuildAll=function(e){var t;if(e.doRebuild||void 0===e.doRebuild)return(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e)},c.prototype.pieceMeal=function(e){var t,n;if(!e.$$destroyed)return t=null,n=null,this.modelsLength()&&this.scope.plurals.length?a.promiseLock(this,d.promiseTypes.update,"pieceMeal",function(e){return t=e},function(i){return function(){return d.promise(function(){return i.figureOutState(i.idKey,e,i.scope.plurals,i.modelKeyComparison)}).then(function(r){return n=r,a.each(n.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),i.scope.plurals.remove(e.id),t):void 0},a.chunkSizeFrom(e.chunk))}).then(function(){return a.each(n.adds,function(n){return i.newChildMarker(n,e),t},a.chunkSizeFrom(e.chunk))}).then(function(){return a.each(n.updates,function(e){return i.updateChild(e.child,e.model),t},a.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(e.plurals=i.scope.plurals,e.fit&&i.gManager.fit(),i.gManager.draw()),i.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(e))},c.prototype.newChildMarker=function(e,t){var n,i,r,o;return null==e[this.idKey]?(this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."),void 0):(this.$log.info("child",n,"markers",this.scope.plurals),i=t.$new(!0),i.events=t.events,o={},h.scopeKeys.forEach(function(e){return o[e]=t[e]}),n=new s(i,e,o,this.map,this.DEFAULTS,this.doClick,this.gManager,r=!1),this.scope.plurals.put(e[this.idKey],n),n)},c.prototype.onDestroy=function(e){return c.__super__.onDestroy.call(this,e),a.promiseLock(this,d.promiseTypes["delete"],void 0,void 0,function(e){return function(){return a.each(e.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},a.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return null!=e.gManager&&e.gManager.clear(),e.plurals.removeAll(),e.plurals!==e.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),e.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(e,t){var n,i;return _.isFunction(null!=(i=this.scope.clusterEvents)?i[t]:void 0)&&(n=this.mapClusterToPlurals(e),this.origClusterEvents[t])?this.origClusterEvents[t](n.cluster,n.mapped):void 0},c.prototype.mapClusterToPlurals=function(e){var t;return t=e.getMarkers().map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)),{cluster:e,mapped:t}},c.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},c}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,n,i){return t(i,n,e)}])})}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,n,i,r){var o;return o=function(r){function o(e,n,i,r,o){var s,a,l,u,c,h,d,p,f,g,m;this.scope=e,this.attrs=i,this.map=r,this.DEFAULTS=o,s=void 0,u=!1,f=[],p=void 0,c=function(e){return function(){return e.isTrue(e.attrs.fit)?e.fitMapBounds(e.map,s):void 0}}(this),l=function(e){return function(){var n,i,r;return null!=e.scope.bounds&&null!=(null!=(n=e.scope.bounds)?n.sw:void 0)&&null!=(null!=(i=e.scope.bounds)?i.ne:void 0)&&e.validateBoundPoints(e.scope.bounds)?(s=e.convertBoundPoints(e.scope.bounds),t.info("new new bounds created: "+JSON.stringify(s))):null!=e.scope.bounds.getNorthEast&&null!=e.scope.bounds.getSouthWest?s=e.scope.bounds:null!=e.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(r=e.scope)?r.bounds:void 0)):void 0}}(this),l(),h=new google.maps.Rectangle(this.buildOpts(s)),t.info("gObject (rectangle) created: "+h),g=!1,m=function(e){return function(){var t,n,i;return t=h.getBounds(),n=t.getNorthEast(),i=t.getSouthWest(),g?void 0:e.scope.$evalAsync(function(e){return null!=e.bounds&&null!=e.bounds.sw&&null!=e.bounds.ne&&(e.bounds.ne={latitude:n.lat(),longitude:n.lng()},e.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=e.bounds.getNorthEast&&null!=e.bounds.getSouthWest?e.bounds=t:void 0})}}(this),d=function(e){return function(){return c(),e.removeEvents(f),f.push(google.maps.event.addListener(h,"dragstart",function(){return u=!0})),f.push(google.maps.event.addListener(h,"dragend",function(){return u=!1,m()})),f.push(google.maps.event.addListener(h,"bounds_changed",function(){return u?void 0:m()}))}}(this),a=function(e){return function(){return e.removeEvents(f),null!=p&&e.removeEvents(p),h.setMap(null)}}(this),null!=s&&d(),this.scope.$watch("bounds",function(e,t){var n;if(!(_.isEqual(e,t)&&null!=s||u))return g=!0,null==e?(a(),void 0):(null==s?n=!0:c(),l(),h.setBounds(s),g=!1,n&&null!=s?d():void 0)},!0),this.setMyOptions=function(e){return function(t,n){return _.isEqual(t,n)||null==s||null==t?void 0:h.setOptions(e.buildOpts(s))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(p=this.setEvents(h,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=p&&e.removeEvents(p),p=e.setEvents(h,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(){return function(){return a()}}(this)),t.info(this)}return e(o,r),o.include(n),o.include(i),o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(i,r,o){var s;return s=function(i){function s(n,i,o,s,a,l,u){var c;return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.ctrlPosition=a,this.template=l,this.$log=null!=u?u:r,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?(this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"),void 0):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=t.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],this.init(),void 0)}return n(s,i),s.include(o),s.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(e){return function(n){return t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible)?e.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this))},s.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},s.prototype.addToParentDiv=function(){return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},s.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},s.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(e.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(e)},s.prototype.getBounds=function(){return this.gObject.getBounds()},s.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?e===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):e===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},s}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,r,o,s,a,l,u,c,h,d,p,f,g,m,v){var y;return y=function(i){function y(t,n,i,r,s,l){this.gMap=s,this.markersScope=l,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),y.__super__.constructor.call(this,t,n,i,r,c,h,d,p),this["interface"]=m,this.plurals=new o,_.each(m.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new a(t,n,i,r),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return n(y,i),y.include(r),y.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,e.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.createChildScopes()},y.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,function(t){return function(n,i){var r;return!_.isEqual(n,i)||t.firstWatchModels?(t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(r=0===t.plurals.length,null!=t.existingPieces?_.last(t.existingPieces._content).then(function(){return t.createChildScopes(r)}):t.createChildScopes(r))):void 0}}(this),!0)},y.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},y.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},y.prototype.onDestroy=function(){return y.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,g.promiseTypes["delete"],void 0,void 0,function(e){return function(){return l.each(e.plurals.values(),function(e){return e.destroy()},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},y.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}}(this))},y.prototype.watchOurScope=function(e){return _.each(m.scopeKeys,function(t){return function(n){var i;return i=n+"Key",t[i]="function"==typeof e[n]?e[n]():e[n]}}(this))},y.prototype.createChildScopes=function(e){var n,i,r;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=t.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(i=this.markersScope)?i.plurals:void 0)&&void 0!==(null!=(r=this.markersScope)?r.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:(this.$log.error("No models to create windows from! Need direct models or models derived from markers!"),void 0)},y.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,i){return n!==i&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},y.prototype.createAllNew=function(e,t,n,i){var r;return null==n&&(n="models"),null==i&&(i=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(r=null,l.promiseLock(this,g.promiseTypes.create,"createAllNew",function(e){return r=e},function(i){return function(){return l.each(e.models,function(o){var s,a;return s=t?null!=(a=i.getItem(e,n,o[i.idKey]))?a.gObject:void 0:void 0,r||(!s&&i.markersScope&&u.error("Unable to get gMarker from markersScope!"),i.createWindow(o,s,i.gMap)),r},l.chunkSizeFrom(e.chunk)).then(function(){return i.firstTime=!1})}}(this)))},y.prototype.pieceMeal=function(e,t,n,i){var r,o;return null==n&&(n="models"),null==i&&(i=!0),e.$$destroyed?void 0:(r=null,o=null,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,g.promiseTypes.update,"pieceMeal",function(e){return r=e},function(t){return function(){return g.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return o=n,l.each(o.removals,function(e){return null!=e?(t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),r):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(o.adds,function(i){var o,s;if(o=null!=(s=t.getItem(e,n,i[t.idKey]))?s.gObject:void 0,!o)throw"Gmarker undefined";return t.createWindow(i,o,t.gMap),r})}).then(function(){return l.each(o.updates,function(e){return t.updateChild(e.child,e.model),r},l.chunkSizeFrom(e.chunk))})}}(this)):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},y.prototype.setContentKeys=function(e){return this.modelsLength(e)?this.contentKeys=Object.keys(e[0]):void 0},y.prototype.createWindow=function(e,t,n){var i,r,o,a,l,u;return r=this.linked.scope.$new(!1),this.setChildScope(r,e),r.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(r,t):void 0}}(this),!0),o={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},a=this.createWindowOptions(t,r,o.html(),this.DEFAULTS),i=new s(e,r,a,this.isIconVisibleOnClick,n,null!=(l=this.markersScope)?null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0:void 0,o,!1,!0),null==e[this.idKey]?(this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."),void 0):(this.plurals.put(e[this.idKey],i),i)},y.prototype.setChildScope=function(e,t){return _.each(m.scopeKeys,function(n){return function(i){var r,o;return r=i+"Key",o="self"===n[r]?t:t[n[r]],o!==e[i]?e[i]=o:void 0}}(this)),e.model=t},y.prototype.interpolateContent=function(e,t){var n,i,r,o,s,a;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=f(e),r={},a=this.contentKeys,i=0,s=a.length;s>i;i++)o=a[i],r[o]=t[o];return n(r)}},y.prototype.modelKeyComparison=function(e,t){var n,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(e,i.coords),this.evalModelHandle(t,i.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(r){return n.evalModelHandle(e,i[r])===n.evalModelHandle(t,i[r])}}(this)):n},y}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return _.extend(e,{link:function(e,n,i,r){return r.getScope().deferred.promise.then(function(){return function(r){return new t(e,n,i,r)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(i,r,o,s,a,l){var u;return u=function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.link=function(e,n,u,c){return l.then(function(n){return function(l){var u,h;return t.isUndefined(e.template)?(n.$log.error("mapControl: could not find a valid template property"),void 0):(u=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,h=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[h]?i.mapPromise(e,c).then(function(i){var l,c;return l=void 0,c=t.element("<div></div>"),r.get(e.template,{cache:o}).success(function(n){var i,r;return r=e.$new(),c.append(n),t.isDefined(e.controller)&&(i=a(e.controller,{$scope:r}),c.children().data("$ngControllerController",i)),l=s(c.children())(r),u?l[0].index=u:void 0}).error(function(){return n.$log.error("mapControl: template could not be found")}).then(function(){return i.controls[google.maps.ControlPosition[h]].push(l[0])})}):(n.$log.error("mapControl: invalid position property"),void 0))}}(this))},c}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,n){return t.ctrlType="uiGmapDragZoom",_.extend(this,e.handle(t,n))}],link:function(n,i,r,o){return e.mapPromise(n,o).then(function(e){var i,r,o;return i=function(t){return e.enableKeyDragZoom(t),n.spec?n.spec.enableKeyDragZoom(t):void 0},r=new t(function(e,t){return t?i({key:t}):i()}),o=new t(function(e,t){return t?i(t):void 0}),n.$watch("keyboardkey",r.sic),r.sic(n.keyboardkey),n.$watch("options",o.sic),o.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return _.extend(e,{link:function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return new t(e,n,i,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,i,r,o,s){var a;return a=function(i){function a(){return this.link=e(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,i),a.include(r),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope={polygons:"=",draw:"=",revertmapoptions:"="},a.prototype.link=function(e,n,i,r){return this.mapPromise(e,r).then(function(){return function(n){var i,r;return e.polygons?_.isArray(e.polygons)?(i=new o(n,e.revertmapoptions),r=void 0,e.draw=function(){return"function"==typeof r&&r(),i.engage(e.polygons).then(function(){var t;return t=!0,r=e.$watchCollection("polygons",function(e,n){var i;return t||e===n?(t=!1,void 0):(i=s.differenceObjects(n,e),i.forEach(function(e){return e.setMap(null)}))})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},a}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var e;return e={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,i){var r;return r=function(t){function r(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return e(r,t),r.extend(i),r.prototype.link=function(){throw new Exception("Not implemented!!")},r}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,n){var i;return i=function(t){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return e(i,t),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=_.keys(i.scope),i.keys=i.scopeKeys,i.extend(n),i}(t)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,i,r){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,i,r){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var e;return e={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,n,i){var r;return r=function(t){function r(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return e(r,t),r.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},r.scopeKeys=_.keys(r.scope),r.include(n),r.extend(i),r}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(r,o,s,a,l,u,c,h,d,p,f,g,m){var v,y,b;return v=void 0,b=[f,d,p],y=function(o){function l(){this.link=e(this.link,this);var t,n;t=function(e){var t,n;return n=void 0,e.$on("$destroy",function(){return c.decrement()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return b.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},n=_.extend(this,t)},this.controller=["$scope",t],n=this}return i(l,o),l.include(a),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container"></div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(e,i,o){var a,l;return a=[],e.$on("$destroy",function(){return m.removeEvents(a)}),e.idleAndZoomChanged=!1,null==e.center?(l=e.$watch("center",function(t){return function(){return e.center?(l(),t.link(e,i,o)):void 0}}(this)),void 0):g.then(function(l){return function(u){var d,p,f,g,y,b,w,C,x,A,S,E,$,T,k,D,F;if(v={mapTypeId:u.MapTypeId.ROADMAP},T=c.spawn(),E=function(){return T.deferred.resolve({instance:T.instance,map:d})},!l.validateCoords(e.center))return s.error("angular-google-maps: could not find a valid center property"),void 0;if(!t.isDefined(e.zoom))return s.error("angular-google-maps: map zoom property not set"),void 0;if(y=t.element(i),y.addClass("angular-google-map"),A={options:{}},o.options&&(A.options=e.options),o.styles&&(A.styles=e.styles),o.type&&(k=o.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(k)?A.mapTypeId=google.maps.MapTypeId[o.type.toUpperCase()]:s.error("angular-google-maps: invalid map type '"+o.type+"'")),C=t.extend({},v,A,{center:l.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),d=new google.maps.Map(y.find("div")[1],C),d.uiGmap_id=h.generate(),g=!1,a.push(google.maps.event.addListenerOnce(d,"idle",function(){return e.deferred.resolve(d),E()})),f=o.events&&null!=(null!=(S=e.events)?S.blacklist:void 0)?e.events.blacklist:[],_.isString(f)&&(f=[f]),x=function(t,n,i){return _.contains(f,t)?void 0:(i&&i(),a.push(google.maps.event.addListener(d,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:n()})))},_.contains(f,"all")||(x("dragstart",function(){return g=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),x("dragend",function(){return g=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),D=function(n,i){if(null==n&&(n=d.center),null==i&&(i=e),!_.contains(f,"center"))if(t.isDefined(i.center.type)){if(i.center.coordinates[1]!==n.lat()&&(i.center.coordinates[1]=n.lat()),i.center.coordinates[0]!==n.lng())return i.center.coordinates[0]=n.lng()}else if(i.center.latitude!==n.lat()&&(i.center.latitude=n.lat()),i.center.longitude!==n.lng())return i.center.longitude=n.lng()},$=!1,x("idle",function(){var t,i,r;return t=d.getBounds(),i=t.getNorthEast(),r=t.getSouthWest(),$=!0,e.$evalAsync(function(t){return D(),null===t.bounds||t.bounds===n||void 0===t.bounds||_.contains(f,"bounds")||(t.bounds.northeast={latitude:i.lat(),longitude:i.lng()},t.bounds.southwest={latitude:r.lat(),longitude:r.lng()}),_.contains(f,"zoom")||(t.zoom=d.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),$=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){w=function(t){return function(){return e.events[t].apply(e,[d,t,arguments])}},p=[];for(b in e.events)e.events.hasOwnProperty(b)&&t.isFunction(e.events[b])&&p.push(google.maps.event.addListener(d,b,w(b)));a.concat(p)}return d.getOptions=function(){return C},e.map=d,null!=o.control&&null!=e.control&&(e.control.refresh=function(e){var t,n,i;if(null!=d)return null!=("undefined"!=typeof google&&null!==google?null!=(n=google.maps)?null!=(i=n.event)?i.trigger:void 0:void 0:void 0)&&null!=d&&google.maps.event.trigger(d,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=l.getCoords(e),l.isTrue(o.pan)?d.panTo(t):d.setCenter(t)):void 0},e.control.getGMap=function(){return d},e.control.getMapOptions=function(){return C},e.control.getCustomEventListeners=function(){return p},e.control.removeEvents=function(e){return m.removeEvents(e)}),e.$watch("center",function(t,n){var i,r;if(t!==n&&!$&&(i=l.getCoords(e.center),i.lat()!==d.center.lat()||i.lng()!==d.center.lng()))return r=!0,g||(l.validateCoords(t)||s.error("Invalid center for newValue: "+JSON.stringify(t)),l.isTrue(o.pan)&&e.zoom===d.zoom?d.panTo(i):d.setCenter(i)),r=!1},!0),F=null,e.$watch("zoom",function(t,n){var i,o,s;if(null!=t&&!_.isEqual(t,n)&&(null!=d?d.getZoom():void 0)!==(null!=e?e.zoom:void 0)&&!$)return s=!0,null!=F&&r.cancel(F),F=r(function(){return d.setZoom(t),s=!1},(null!=(i=e.eventOpts)?null!=(o=i.debounce)?o.zoomMs:void 0:void 0)+20,!1)}),e.$watch("bounds",function(e,t){var n,i,r,o,a,l,u;if(e!==t)return null==(null!=e?null!=(r=e.northeast)?r.latitude:void 0:void 0)||null==(null!=e?null!=(o=e.northeast)?o.longitude:void 0:void 0)||null==(null!=e?null!=(a=e.southwest)?a.latitude:void 0:void 0)||null==(null!=e?null!=(l=e.southwest)?l.longitude:void 0:void 0)?(s.error("Invalid map bounds for new value: "+JSON.stringify(e)),void 0):(i=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),u=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(u,i),d.fitBounds(n))}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,t){var n;return n=this.exp,_.isEqual(e,t)?void 0:("options"===n?A.options=e:A.options[n]=e,null!=d?d.setOptions(A):void 0)},!0)})}}(this))},l}(l)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,i,r,o){var s;return s=function(s){function a(){this.link=e(this.link,this),a.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return n(a,s),a.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Marker",_.extend(this,t.handle(e,n))}],a.prototype.link=function(e,n,o,s){var a;return a=t.mapPromise(e,s),a.then(function(){return function(n){var o,s,a,l,u,c;return a=new r(n),l=_.object(t.keys,t.keys),u=new i(e,e,l,n,{},o=!0,a,s=!1,c=!1),u.deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=a.getGMarkers:void 0}}(this)),e.$on("$destroy",function(){return function(){var e;return"undefined"!=typeof e&&null!==e&&e.clear(),e=null}}(this))},a}(t)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,n,i,r,o){var s;return s=function(r){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',n.extend(this,{doCluster:"=docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref"}),o.info(this)}return e(s,r),s.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Markers",_.extend(this,t.handle(e,n))}],s.prototype.link=function(e,r,o,s){var a,l;return a=void 0,l=function(){return e.deferred.resolve()},t.mapPromise(e,s).then(function(t){var u;return u=s.getScope(),u.$watch("idleAndZoomChanged",function(){return _.defer(a.gManager.draw)}),a=new i(e,r,o,t),n.link(e,a),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=a.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return a.plurals}),_.last(a.existingPieces._content).then(function(){return l()})})},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==!0},e.control.managerDraw=function(){var t;return e.control.hasManager()?null!=(t=e.control.getManager())?t.draw():void 0:void 0}):void 0},{extend:function(e,t){return _.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonChildModel",function(t,i,r,o){var s;return s=function(i){function r(){return this.link=e(this.link,this),r.__super__.constructor.apply(this,arguments)}return n(r,i),r.prototype.link=function(e,n,i,r){var s,a;return s=[],a=t.mapPromise(e,r),null!=e.control&&(e.control.getInstance=this,e.control.polygons=s,e.control.promise=a),a.then(function(t){return function(n){return s.push(new o(e,i,n,t.DEFAULTS))}}(this))},r}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonsParentModel","uiGmapPlural",function(i,r,o,s,a){var l;return l=function(i){function r(){this.link=e(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(o){return(t.isUndefined(e.path)||null===e.path)&&r.$log.warn("polygons: no valid path attribute found"),e.models||r.$log.warn("polygons: no models found to create from"),a.link(e,new s(e,n,i,o,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylineChildModel",function(i,r,o,s){var a;return a=function(r){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,r),o.prototype.link=function(e,n,r,o){return i.mapPromise(e,o).then(function(n){return function(i){return(t.isUndefined(e.path)||null===e.path||!n.validatePath(e.path))&&n.$log.warn("polyline: no valid path attribute found"),new s(e,r,i,n.DEFAULTS)}}(this))},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylinesParentModel","uiGmapPlural",function(i,r,o,s,a){var l;return l=function(i){function r(){this.link=e(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(o){return(t.isUndefined(e.path)||null===e.path)&&r.$log.warn("polylines: no valid path attribute found"),e.models||r.$log.warn("polylines: no models found to create from"),a.link(e,new s(e,n,i,o,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,n,i){return _.extend(n,{link:function(e,t,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return new i(e,t,n,r)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(i,r,o,s,a){var l;return l=function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',a.debug(this),this.childWindows=[]}return n(u,l),u.include(r),u.prototype.link=function(e,n,r,o){var s,a;return s=o.length>1&&null!=o[1]?o[1]:void 0,a=null!=s?s.getScope():void 0,this.mapPromise=i.mapPromise(e,o[0]),this.mapPromise.then(function(i){return function(o){var l;return l=!0,t.isDefined(r.isiconvisibleonclick)&&(l=e.isIconVisibleOnClick),s?a.deferred.promise.then(function(){return i.init(e,n,l,o,a)}):(i.init(e,n,l,o),void 0)}}(this))},u.prototype.init=function(e,t,n,i,r){var a,l,u,c,h;return l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=r?r.getGMarker:void 0)&&(u=r.getGMarker()),h=c?this.createWindowOptions(u,e,t.html(),l):l,null!=i&&(a=new o({},e,h,n,i,r,t),this.childWindows.push(a),e.$on("$destroy",function(e){return function(){return e.childWindows=s.withoutObjects(e.childWindows,[a],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=a?this.onChildCreation(a):void 0},u}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,i,r,o,s){var a;return a=function(t){function a(){this.init=e(this.init,this),this.link=e(this.link,this),a.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',i.extend(this),s.debug(this)}return n(a,t),a.prototype.link=function(e,t,n,i){var r,s,a;return r=i[0].getScope(),s=i.length>1&&null!=i[1]?i[1]:void 0,a=null!=s?s.getScope():void 0,r.deferred.promise.then(function(r){return function(s){var l,u;return l=(null!=a?null!=(u=a.deferred)?u.promise:void 0:void 0)||o.resolve(),l.then(function(){var o,l;return o=null!=(l=r.parentModel)?l.existingPieces:void 0,o?o.then(function(){return r.init(e,t,n,i,s,a)}):r.init(e,t,n,i,s,a)})}}(this))},a.prototype.init=function(e,t,n,o,s,a){var l;return l=new r(e,t,n,o,s,a),i.link(e,l),null!=e.control?(e.control.getGWindows=function(){return function(){return l.plurals.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(){return function(){return l.plurals}}(this)):void 0},a}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,i,r){return new r(e,t,n,i)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,i,r,o){return new o(e,t,n,i,r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,i){var r;return r=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return null!=e.onCreated?new i(e,t,n,r,e.onCreated):new i(e,t,n,r)}}(this))},t}(),new r}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,i){var r;return r=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return new i(e,t,n,r)}}(this))},t}(),new r}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,i,r,o,s,a){var l;return l=function(){function l(){this.link=e(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,i,l,u){return n.then(function(n){return function(c){return o.get(e.template,{cache:s}).success(function(o){return t.isUndefined(e.events)?(n.$log.error("searchBox: the events property is required"),void 0):u.getScope().deferred.promise.then(function(s){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new r(e,i,l,s,u,a(o)(e)):(n.$log.error("searchBox: invalid position property"),void 0)})})}}(this))},l}(),new l}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(i,r){var o,s,a;return o=function(t,n){return e[t](r,"ng-hide").then(function(){return n()})},s=function(t,n){return e[t](r,"ng-hide",n)},a=function(e,i){return t.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?s(e,i):o(e,i)},i.$watch("uiGmapShow",function(e){return e&&a("removeClass",i.uiGmapAfterShow),e?void 0:a("addClass",i.uiGmapAfterHide)})}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?0/0:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):0/0},e._ha=function(e,t){for(var n=e.toString(16),i=t-n.length,r="0";i>0;i>>>=1,r+=r)1&i&&(n=r+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){function t(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&(e.visible="undefined"==typeof e.isHidden?!0:!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null
}function i(e,t){e.getMarkerClusterer().extend(i,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function r(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new i(this,e.getStyles())}function o(e,t,i){this.extend(o,google.maps.OverlayView),t=t||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,i.zoomOnClick!==n&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,i.averageCenter!==n&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,i.ignoreHidden!==n&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,i.enableRetinaIcons!==n&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.imagePath_=i.imagePath||o.IMAGE_PATH,this.imageExtension_=i.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||o.IMAGE_SIZES,this.calculator_=i.calculator||o.CALCULATOR,this.batchSize_=i.batchSize||o.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function s(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=a.getSharedCross(t)}function l(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new a(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}function u(e){var t=e||{};this.ready_=!1,this.dragging_=!1,e.visible==n&&(e.visible=!0),e.shadow==n&&(e.shadow="7px -3px 5px rgba(88,88,88,0.7)"),e.anchor==n&&(e.anchor=c.BOTTOM),this.setValues(t)}t.prototype=new google.maps.OverlayView,t.prototype.createInfoBoxDiv_=function(){var e,t,n,i=this,r=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},o=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),i.enableEventPropagation_||r(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},t.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},t.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},t.prototype.panBox_=function(e){var t,n,i=0,r=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),n=t.getBounds();var o=t.getDiv(),s=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,h=this.div_.offsetHeight,d=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);f.x<-l+d?i=f.x+l-d:f.x+c+l+d>s&&(i=f.x+c+l+d-s),this.alignBottom_?f.y<-u+p+h?r=f.y+u-p-h:f.y+u+p>a&&(r=f.y+u+p-a):f.y<-u+p?r=f.y+u-p:f.y+h+u+p>a&&(r=f.y+h+u+p-a),(0!==i||0!==r)&&(t.getCenter(),t.panBy(i,r))}},t.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},t.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},t.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},t.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},t.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},t.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},t.prototype.getContent=function(){return this.content_},t.prototype.getPosition=function(){return this.position_},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},t.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},t.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},t.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},t.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function t(e,t){var n=this,i=new google.maps.OverlayView;i.onAdd=function(){n.init_(e,t)},i.draw=function(){},i.onRemove=function(){},i.setMap(e),this.prjov_=i}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},i=function(e){var t,i={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return i.top=parseInt(t.borderTopWidth,10)||0,i.bottom=parseInt(t.borderBottomWidth,10)||0,i.left=parseInt(t.borderLeftWidth,10)||0,i.right=parseInt(t.borderRightWidth,10)||0,i}else if(document.documentElement.currentStyle&&e.currentStyle)return i.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,i.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,i.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,i.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,i;return i.top=parseInt(e.style["border-top-width"],10)||0,i.bottom=parseInt(e.style["border-bottom-width"],10)||0,i.left=parseInt(e.style["border-left-width"],10)||0,i.right=parseInt(e.style["border-right-width"],10)||0,i},r={x:0,y:0},o=function(){r.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,r.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var s=function(t){var n=0,i=0;return t=t||e.event,"undefined"!=typeof t.pageX?(n=t.pageX,i=t.pageY):"undefined"!=typeof t.clientX&&(n=t.clientX+r.x,i=t.clientY+r.y),{left:n,top:i}},a=function(t){for(var n=t.offsetLeft,i=t.offsetTop,r=t.offsetParent;null!==r;){r!==document.body&&r!==document.documentElement&&(n-=r.scrollLeft,i-=r.scrollTop);var o=r,s=o.offsetLeft,a=o.offsetTop;if(!s&&!a&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");s+=parseInt(u[4],10)||0,a+=parseInt(u[5],10)||0}}n+=s,i+=a,r=r.offsetParent}return{left:n,top:i}},l=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e,t){"undefined"!=typeof t&&(e.style.opacity=t),"undefined"!=typeof e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var r,s=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=i(this.map_.getDiv()),this.veilDiv_=[],r=0;4>r;r++)this.veilDiv_[r]=document.createElement("div"),this.veilDiv_[r].onselectstart=function(){return!1},l(this.veilDiv_[r].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[r].style,n.paneStyle),l(this.veilDiv_[r].style,n.veilStyle),l(this.veilDiv_[r].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[r].style.MozUserSelect="none"),u(this.veilDiv_[r]),"transparent"===this.veilDiv_[r].style.backgroundColor&&(this.veilDiv_[r].style.backgroundColor="white",u(this.veilDiv_[r],0)),this.map_.getDiv().appendChild(this.veilDiv_[r]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=i(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){s.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){s.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){s.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){s.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){s.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,i=this;return t=document.createElement("div"),t.className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){i.hotKeyDown_=!i.hotKeyDown_,i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on,i.activatedByControl_=!0,google.maps.event.trigger(i,"activate")):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off,google.maps.event.trigger(i,"deactivate")),i.onMouseMove_(e)},t.onmouseover=function(){i.buttonDiv_.firstChild.style.left=-(1*i.visualSize_.width)+"px"},t.onmouseout=function(){i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(t=t||e.event,n=t.shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_,!n)switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,i=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,r=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+o)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=a(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=s(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=a(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),n=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},t.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=s(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,i-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,r-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+r+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+r)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+r),new google.maps.Point(t+i,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=a(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return this.onKeyUp_(e),void 0;var i=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),s=Math.abs(this.startPt_.y-this.endPt_.y),a=!0;a&&(i+=this.borderWidths_.left,r+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(i,r+s)),c=l.fromContainerPixelToLatLng(new google.maps.Point(i+o,r)),h=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(h),this.map_.getZoom()<t&&this.map_.setZoom(t);var d=l.fromLatLngToContainerPixel(u),p=l.fromLatLngToContainerPixel(c);a&&(d.x-=this.borderWidths_.left,d.y-=this.borderWidths_.top,p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top),this.boxDiv_.style.left=d.x+"px",this.boxDiv_.style.top=p.y+"px",this.boxDiv_.style.width=Math.abs(p.x-d.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(p.y-d.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",h),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(){var e,t,n,i,r,o,s,a,l=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=this.prjov_.getProjection(),s=o.fromContainerPixelToLatLng(new google.maps.Point(t,n+r)),a=o.fromContainerPixelToLatLng(new google.maps.Point(t+i,n)),l=new google.maps.LatLngBounds(s,a)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",l)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),i.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(e=!1,!t){var r,o,s=n.cluster_.getMarkerClusterer();google.maps.event.trigger(s,"click",n.cluster_),google.maps.event.trigger(s,"clusterclick",n.cluster_),s.getZoomOnClick()&&(o=s.getMaxZoom(),r=n.cluster_.getBounds(),s.getMap().fitBounds(r),setTimeout(function(){s.getMap().fitBounds(r),null!==o&&s.getMap().getZoom()>o&&s.getMap().setZoom(o+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},i.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},i.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},i.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},i.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='"+"position: absolute;"+"top: "+this.anchorText_[0]+"px;"+"left: "+this.anchorText_[1]+"px;"+"color: "+this.textColor_+";"+"font-size: "+this.textSize_+"px;"+"font-family: "+this.fontFamily_+";"+"font-weight: "+this.fontWeight_+";"+"font-style: "+this.fontStyle_+";"+"text-decoration: "+this.textDecoration_+";"+"text-align: center;"+"width: "+this.width_+"px;"+"line-height:"+this.height_+"px;"+"'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},i.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},i.prototype.setCenter=function(e){this.center_=e},i.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},i.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},r.prototype.getSize=function(){return this.markers_.length},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getCenter=function(){return this.center_},r.prototype.getMap=function(){return this.map_},r.prototype.getMarkerClusterer=function(){return this.markerClusterer_},r.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},r.prototype.addMarker=function(e){var t,n,i;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,s=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,s),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,i=this.markerClusterer_.getMaxZoom(),null!==i&&this.map_.getZoom()>i)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},r.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},r.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},r.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return this.clusterIcon_.hide(),void 0;if(e<this.minClusterSize_)return this.clusterIcon_.hide(),void 0;var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()},r.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},o.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},o.prototype.onRemove=function(){var e;
for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},o.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(e){this.gridSize_=e},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(e){this.maxZoom_=e},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(e){this.styles_=e},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(e){this.title_=e},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(e){this.averageCenter_=e},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(e){this.imageExtension_=e},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(e){this.imagePath_=e},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(e){this.imageSizes_=e},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(e){this.calculator_=e},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(e){this.clusterClass_=e},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},o.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},o.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},o.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},o.prototype.removeMarkers=function(e,t){var n,i,r=!1;for(n=0;n<e.length;n++)i=this.removeMarker_(e[n]),r=r||i;return!t&&r&&this.repaint(),r},o.prototype.removeMarker_=function(e){var t,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){n=t;break}return-1===n?!1:(e.setMap(null),this.markers_.splice(n,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},o.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),r=t.fromLatLngToDivPixel(n);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(i);o.x-=this.gridSize_,o.y+=this.gridSize_;var s=t.fromDivPixelToLatLng(r),a=t.fromDivPixelToLatLng(o);return e.extend(s),e.extend(a),e},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null)},o.prototype.distanceBetweenPoints_=function(e,t){var n=6371,i=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),s=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),a=n*s;return a},o.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},o.prototype.addToClosestCluster_=function(e){var t,n,i,o,s=4e4,a=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],o=i.getCenter(),o&&(n=this.distanceBetweenPoints_(o,e.getPosition()),s>n&&(s=n,a=i));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(i=new r(this),i.addMarker(e),this.clusters_.push(i))},o.prototype.createClusters_=function(e){var t,n,i,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;s>t;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);s<this.markers_.length?this.timerRefStatic=setTimeout(function(){r.createClusters_(s)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},o.CALCULATOR=function(e,t){for(var n=0,i="",r=e.length.toString(),o=r;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,t),{text:r,index:n,title:i}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],s(a,google.maps.OverlayView),a.getSharedCross=function(e){var t;return"undefined"==typeof a.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,a.getSharedCross.crossDiv=t),a.getSharedCross.crossDiv},a.prototype.onAdd=function(){var e,t,n,i,r,o,s,l=this,u=!1,c=!1,h=20,d="url("+this.handCursorURL_+")",p=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},f=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof a.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),a.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=d),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),p(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(r){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=h,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(o){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),i=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(i){var a;u&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-t,i.latLng.lng()-n),a=l.getProjection().fromLatLngToDivPixel(i.latLng),r&&(l.crossDiv_.style.left=a.x+"px",l.crossDiv_.style.top=a.y+"px",l.crossDiv_.style.display="",a.y-=h),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(a)),r&&(l.eventDiv_.style.top=a.y+h+"px"),google.maps.event.trigger(l.marker_,"drag",i)):(t=i.latLng.lat()-l.marker_.getPosition().lat(),n=i.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),o=l.marker_.getPosition(),s=l.marker_.getMap().getCenter(),r=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),i.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",i)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(r=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(s),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(l.marker_,"click",e),p(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),p(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(){c||(r=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){c||r&&(l.setPosition(h),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){c||r&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},a.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},a.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},a.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},a.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},a.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},a.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},a.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},a.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},a.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},a.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")?this.marker_.getVisible()?"block":"none":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},s(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},u.prototype=new google.maps.OverlayView,e.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(e){this.set("visible",e)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(e){this.set("flat",!!e)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(e){this.set("shadow",e),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(e){this.set("zIndex",e)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(e){this.set("draggable",!!e)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(e){this.set("position",e)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(e){this.set("anchor",e)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(e){var t=document.createElement("DIV");if(t.innerHTML=e,1==t.childNodes.length)return t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},u.prototype.removeChildren_=function(e){if(e)for(var t;t=e.firstChild;)e.removeChild(t)},u.prototype.setContent=function(e){this.set("content",e)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var e=this.getContent();if(e){"string"==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),e=this.htmlToDocumentFragment_(e)),this.markerContent_.appendChild(e);for(var t,n=this,i=this.markerContent_.getElementsByTagName("IMG"),r=0;t=i[r];r++)google.maps.event.addDomListener(t,"mousedown",function(e){n.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}),google.maps.event.addDomListener(t,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(e){if(this.ready_){var t="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==e&&(t="-moz-grabbing"),"dragready"==e&&(t="-moz-grab"),"draggable"==e&&(t="pointer")):(("dragging"==e||"dragready"==e)&&(t="move"),"draggable"==e&&(t="pointer")),this.markerWrapper_.style.cursor!=t&&(this.markerWrapper_.style.cursor=t)}},u.prototype.startDrag=function(e){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var t=this.getMap();this.mapDraggable_=t.get("draggable"),t.set("draggable",!1),this.mouseX_=e.clientX,this.mouseY_=e.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(e){if(!this.getDraggable()||!this.dragging_)return this.stopDrag(),void 0;var t=this.mouseX_-e.clientX,n=this.mouseY_-e.clientY;this.mouseX_=e.clientX,this.mouseY_=e.clientY;var i=parseInt(this.markerWrapper_.style.left,10)-t,r=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=i+"px",this.markerWrapper_.style.top=r+"px";var o=this.getOffset_(),s=new google.maps.Point(i-o.width,r-o.height),a=this.getProjection();this.setPosition(a.fromDivPixelToLatLng(s)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(e){if(e){var t=this;this.draggableListener_=google.maps.event.addDomListener(e,"mousedown",function(e){t.startDrag(e)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var t=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){t.stopDrag(),t.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(e,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(e,"mouseup",function(){t.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var e,t=0;e=this.draggingListeners_[t];t++)google.maps.event.removeListener(e);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var e=this.getAnchor();if("object"==typeof e)return e;var t=new google.maps.Size(0,0);if(!this.markerContent_)return t;var n=this.markerContent_.offsetWidth,i=this.markerContent_.offsetHeight;switch(e){case c.TOP_LEFT:break;case c.TOP:t.width=-n/2;break;case c.TOP_RIGHT:t.width=-n;break;case c.LEFT:t.height=-i/2;break;case c.MIDDLE:t.width=-n/2,t.height=-i/2;break;case c.RIGHT:t.width=-n,t.height=-i/2;break;case c.BOTTOM_LEFT:t.height=-i;break;case c.BOTTOM:t.width=-n/2,t.height=-i;break;case c.BOTTOM_RIGHT:t.width=-n,t.height=-i}return t},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var e=this;google.maps.event.addDomListener(this.markerContent_,"click",function(){google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(){google.maps.event.trigger(e,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var e=this.getProjection();if(e){var t=this.get("position"),n=e.fromLatLngToDivPixel(t),i=this.getOffset_();this.markerWrapper_.style.top=n.y+i.height+"px",this.markerWrapper_.style.left=n.x+i.width+"px";var r=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),r!=this.get("height")&&this.set("height",r)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};e.RichMarkerPosition=c,e.InfoBox=t,e.Cluster=r,e.ClusterIcon=i,e.MarkerClusterer=o,e.MarkerLabel_=a,e.MarkerWithLabel=l})}}),function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,i){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:i(1).Graph,Queue:i(1).Queue}})},function(e,t,n){!function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}.call(this)},function(e){!function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,i,r,o,s;if(i=this._nodes[e]){o=i._outEdges;for(r in o)n.call(o,r)&&this.removeEdge(e,r);s=i._inEdges;for(t in s)n.call(s,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],i}},e.prototype.addEdge=function(e,t,n){var i,r,o;return null==n&&(n=1),!this.getEdge(e,t)&&(r=this._nodes[e],o=this._nodes[t],r&&o)?(i={weight:n},r._outEdges[t]=i,o._inEdges[e]=i,this.edgeSize++,i):void 0},e.prototype.getEdge=function(e,t){var n,i;return n=this._nodes[e],i=this._nodes[t],n&&i?n._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var n,i,r;return i=this._nodes[e],r=this._nodes[t],(n=this.getEdge(e,t))?(delete i._outEdges[t],delete r._inEdges[e],this.edgeSize--,n):void 0},e.prototype.getInEdgesOf=function(e){var t,i,r,o;r=this._nodes[e],i=[],o=null!=r?r._inEdges:void 0;for(t in o)n.call(o,t)&&i.push(this.getEdge(t,e));return i},e.prototype.getOutEdgesOf=function(e){var t,i,r,o;t=this._nodes[e],i=[],o=null!=t?t._outEdges:void 0;for(r in o)n.call(o,r)&&i.push(this.getEdge(e,r));return i},e.prototype.getAllEdgesOf=function(e){var t,n,i,r,o,s,a;if(n=this.getInEdgesOf(e),i=this.getOutEdgesOf(e),0===n.length)return i;for(r=this.getEdge(e,e),t=o=0,s=n.length;s>=0?s>o:o>s;t=s>=0?++o:--o)if(n[t]===r){a=[n[n.length-1],n[t]],n[t]=a[0],n[n.length-1]=a[1],n.pop();break}return n.concat(i)},e.prototype.forEachNode=function(e){var t,i,r;r=this._nodes;for(t in r)n.call(r,t)&&(i=r[t],e(i,t))},e.prototype.forEachEdge=function(e){var t,i,r,o,s,a;s=this._nodes;for(i in s)if(n.call(s,i)){r=s[i],a=r._outEdges;for(o in a)n.call(a,o)&&(t=a[o],e(t))}},e}(),e.exports=t}.call(this)},function(e){!function(){var t,n,i,r;t=function(){function e(e){var t,n,i,r,o,s;for(null==e&&(e=[]),this._data=[void 0],i=0,o=e.length;o>i;i++)n=e[i],null!=n&&this._data.push(n);if(this._data.length>1)for(t=r=2,s=this._data.length;s>=2?s>r:r>s;t=s>=2?++r:--r)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t,n;for(t=this._data[e];this._data[e]<this._data[i(e)]&&e>1;)n=[this._data[i(e)],this._data[e]],this._data[e]=n[0],this._data[i(e)]=n[1],e=i(e)},e.prototype._downHeap=function(){var e,t,i;for(e=1;n(e<this._data.length)&&(t=n(e),t<this._data.length-1&&this._data[r(e)]<this._data[t]&&(t=r(e)),this._data[t]<this._data[e]);)i=[this._data[e],this._data[t]],this._data[t]=i[0],this._data[e]=i[1],e=t},e}(),i=function(e){return e>>1},n=function(e){return e<<1},r=function(e){return(e<<1)+1},e.exports=t}.call(this)},function(e){!function(){var t;t=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,i=e.length;i>n;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,i,r,o;if(-this.size<=e&&e<this.size){if(e=this._adjust(e),2*e<this.size)for(t=this.head,n=i=1;e>=i;n=i+=1)t=t.next;else for(t=this.tail,n=r=1,o=this.size-e-1;o>=r;n=r+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,i,r,o,s;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(i={value:e},t=this._adjust(t),0===this.size?this.head=i:0===t?(r=[i,this.head,i],this.head.prev=r[0],i.next=r[1],this.head=r[2]):(n=this.at(t-1),o=[n.next,i,i,n],i.next=o[0],null!=(s=n.next)?s.prev=o[1]:void 0,n.next=o[2],i.prev=o[3]),t===this.size&&(this.tail=i),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,n,i;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(e),n=t.value,t.prev.next=t.next,null!=(i=t.next)&&(i.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,i;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),i=t;n&&n.value!==e;)n=n.next,i++;return i===this.size?-1:i},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}.call(this)},function(e){!function(){var t,n,i,r,o={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,i;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(n in t)o.call(t,n)&&(i=t[n],this.set(n,i))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var o,s;return null==t&&(t=!1),s=i(e),r(e)?(o=n+this._id,t&&!e[o]&&(e[o]=this._itemId++),o+"_"+e[o]):s+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype["delete"]=function(e){var t;return t=this.hash(e),t in this._content?(delete this._content[t],r(e)&&delete e[n+this._id],this.size--,!0):!1},e.prototype.forEach=function(e){var t,n,i;i=this._content;for(t in i)o.call(i,t)&&(n=i[t],e(n[1],n[0]))},e}(),r=function(e){var t,n,r,o,s;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],r=i(e),o=0,s=t.length;s>o;o++)if(n=t[o],r===n)return!1;return!0},i=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}.call(this)},function(e){!function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;if(0!==this.size)return this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}.call(this)},function(e){!function(){var t,n,i,r,o,s,a,l,u,c,h,d,p,f,g;n=0,i=1,r=2,a=3,o=1,t=2,s=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root,this.size=0,n=0,i=e.length;i>n;n++)t=e[n],null!=t&&this.add(t)}return e.prototype.add=function(e){var s,h,d,p;if(null!=e){if(this.size++,d={value:e,_color:o},this._root){if(h=l(this._root,function(t){return e===t.value?n:e<t.value?t._left?i:(d._parent=t,t._left=d,a):t._right?r:(d._parent=t,t._right=d,a)
}),null!=h)return}else this._root=d;for(s=d;;){if(s===this._root){s._color=t;break}if(s._parent._color===t)break;{if((null!=(p=g(s))?p._color:void 0)!==o){!c(s)&&c(s._parent)?(this._rotateLeft(s._parent),s=s._left):c(s)&&!c(s._parent)&&(this._rotateRight(s._parent),s=s._right),s._parent._color=t,u(s)._color=o,c(s)?this._rotateRight(u(s)):this._rotateLeft(u(s));break}s._parent._color=t,g(s)._color=t,u(s)._color=o,s=u(s)}}return e}},e.prototype.has=function(e){var t;return t=l(this._root,function(t){return e===t.value?n:e<t.value?i:r}),t?!0:!1},e.prototype.peekMin=function(){var e;return null!=(e=p(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=d(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=l(this._root,function(t){return e===t.value?n:e<t.value?i:r}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=p(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=d(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,n){var i,r,s,a,l,u,d,g,m,v;if(n._left&&n._right&&(r=p(n._right),n.value=r.value,n=r),r=n._left||n._right,r||(r={color:t,_right:void 0,_left:void 0,isLeaf:!0}),r._parent=n._parent,null!=(s=n._parent)&&(s[h(n)]=r),n._color===t)if(r._color===o)r._color=t,r._parent||(this._root=r);else for(;;){if(!r._parent){this._root=r.isLeaf?void 0:r;break}if(i=f(r),(null!=i?i._color:void 0)===o&&(r._parent._color=o,i._color=t,c(r)?this._rotateLeft(r._parent):this._rotateRight(r._parent)),i=f(r),r._parent._color!==t||i&&(i._color!==t||i._left&&i._left._color!==t||i._right&&i._right._color!==t)){if(!(r._parent._color!==o||i&&(i._color!==t||i._left&&(null!=(a=i._left)?a._color:void 0)!==t||i._right&&(null!=(l=i._right)?l._color:void 0)!==t))){null!=i&&(i._color=o),r._parent._color=t;break}if((null!=i?i._color:void 0)===t){!c(r)||i._right&&i._right._color!==t||(null!=(u=i._left)?u._color:void 0)!==o?c(r)||i._left&&i._left._color!==t||(null!=(g=i._right)?g._color:void 0)!==o||(i._color=o,null!=(m=i._right)&&(m._color=t),this._rotateLeft(i)):(i._color=o,null!=(d=i._left)&&(d._color=t),this._rotateRight(i));break}i=f(r),i._color=r._parent._color,c(r)?(i._right._color=t,this._rotateRight(r._parent)):(i._left._color=t,this._rotateLeft(r._parent))}else null!=i&&(i._color=o),r.isLeaf&&(r._parent[h(r)]=void 0),r=r._parent}return r.isLeaf?null!=(v=r._parent)?v[h(r)]=void 0:void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;return null!=(t=e._parent)&&(t[h(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e.prototype._rotateRight=function(e){var t,n;return null!=(t=e._parent)&&(t[h(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),c=function(e){return e===e._parent._left},h=function(e){return c(e)?"_left":"_right"},l=function(e,t){var o,s,l;for(s=e,l=void 0;s;){if(o=t(s),o===n){l=s;break}if(o===i)s=s._left;else if(o===r)s=s._right;else if(o===a)break}return l},p=function(e){return l(e,function(e){return e._left?i:n})},d=function(e){return l(e,function(e){return e._right?r:n})},u=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},g=function(e){return u(e)?c(e._parent)?u(e)._right:u(e)._left:void 0},f=function(e){return c(e)?e._parent._right:e._parent._left},e.exports=s}.call(this)},function(e,t,n){!function(){var t,i,r,o,s={}.hasOwnProperty;t=n(6),r="end",i=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root={},this.size=0,n=0,i=e.length;i>n;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,i,o;if(null!=e){for(this.size++,t=this._root,i=0,o=e.length;o>i;i++)n=e[i],null==t[n]&&(t[n]={}),t=t[n];return t[r]=!0,e}},e.prototype.has=function(e){var t,n,i,o;if(null==e)return!1;for(t=this._root,i=0,o=e.length;o>i;i++){if(n=e[i],null==t[n])return!1;t=t[n]}return t[r]?!0:!1},e.prototype.longestPrefixOf=function(e){var t,n,i,r,o;if(null==e)return"";for(t=this._root,i="",r=0,o=e.length;o>r&&(n=e[r],null!=t[n]);r++)i+=n,t=t[n];return i},e.prototype.wordsWithPrefix=function(e){var n,i,o,a,l,u,c,h,d,p;if(null==e)return[];for(null!=e||(e=""),c=[],i=this._root,h=0,d=e.length;d>h;h++)if(o=e[h],i=i[o],null==i)return[];for(l=new t,l.enqueue([i,""]);0!==l.size;){p=l.dequeue(),a=p[0],n=p[1],a[r]&&c.push(e+n);for(o in a)s.call(a,o)&&(u=a[o],l.enqueue([u,n+o]))}return c},e.prototype.remove=function(e){var t,n,i,s,a,l,u,c;if(null!=e){for(t=this._root,s=[],a=0,u=e.length;u>a;a++){if(i=e[a],null==t[i])return;t=t[i],s.push([i,t])}if(t[r]){if(this.size--,delete t[r],o(t,1))return e;for(n=l=c=s.length-1;(1>=c?1>=l:l>=1)&&!o(s[n][1],1);n=1>=c?++l:--l)delete s[n-1][1][s[n][0]];return o(this._root[s[0][0]],1)||delete this._root[s[0][0]],e}}},e}(),o=function(e,t){var n,i;if(0===t)return!0;i=0;for(n in e)if(s.call(e,n)&&(i++,i>=t))return!0;return!1},e.exports=i}.call(this)}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,n){return{init:_.once(function(){!function(){var i={}.hasOwnProperty,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function i(e){i.__super__.constructor.call(this,e),this.markers_=new n}return r(i,e),i.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var i=this.markers_.get(e.key);if(i.getPosition().lat()==e.getPosition().lat()&&i.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,s=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,s),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},i.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},i.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new n,delete this.markers_},i}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,i,r){t.__super__.constructor.call(this,e,i,r),this.markers_=new n}return r(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new n},t.prototype.removeMarker_=function(e){return this.markers_.get(e.key)?(e.setMap(null),this.markers_.remove(e.key),!0):!1},t.prototype.createClusters_=function(e){var t,n,i,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize_,this.markers_.length),a=this.markers_.values();for(t=e;s>t;t++)n=a[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(s<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(s)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,n,i,r,o=4e4,s=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],r=i.getCenter(),r&&(n=this.distanceBetweenPoints_(r,e.getPosition()),o>n&&(o=n,s=i));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(i=new NgMapCluster(this),i.addMarker(e),this.clusters_.push(i))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;"+"height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='"+"position: absolute;"+"top: "+this.anchorText_[0]+"px;"+"left: "+this.anchorText_[1]+"px;"+"color: "+this.textColor_+";"+"font-size: "+this.textSize_+"px;"+"font-family: "+this.fontFamily_+";"+"font-weight: "+this.fontWeight_+";"+"font-style: "+this.fontStyle_+";"+"text-decoration: "+this.textDecoration_+";"+"text-align: center;"+"width: "+this.width_+"px;"+"line-height:"+this.height_+"px;"+"'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}.call(this)})}}])}(window,angular),angular.module("google.places",[]).factory("googlePlacesApi",["$window",function(e){if(!e.google)throw"Global `google` var missing. Did you forget to include the places API script?";return e.google}]).directive("gPlacesAutocomplete",["$parse","$compile","$timeout","$document","googlePlacesApi",function(e,t,n,i,r){return{restrict:"A",require:"^ngModel",scope:{model:"=ngModel",options:"=?",forceSelection:"=?",customPlaces:"=?"},controller:["$scope",function(){}],link:function(e,o,s,a){function l(){o.bind("keydown",h),o.bind("blur",d),o.bind("submit",d),e.$watch("selected",p)}function u(){var n,r=angular.element("<div g-places-autocomplete-drawer></div>"),o=angular.element(i[0].body);r.attr({input:"input",query:"query",predictions:"predictions",active:"active",selected:"selected"}),n=t(r)(e),o.append(n)}function c(){a.$parsers.push(f),a.$formatters.push(g),a.$render=m}function h(t){0!==e.predictions.length&&-1!==x(E,t.which)&&(t.preventDefault(),t.which===_.down?(e.active=(e.active+1)%e.predictions.length,e.$digest()):t.which===_.up?(e.active=(e.active?e.active:e.predictions.length)-1,e.$digest()):13===t.which||9===t.which?(e.forceSelection&&(e.active=-1===e.active?0:e.active),e.$apply(function(){e.selected=e.active,-1===e.selected&&v()})):27===t.which&&e.$apply(function(){t.stopPropagation(),v()}))}function d(){0!==e.predictions.length&&(e.forceSelection&&(e.selected=-1===e.selected?0:e.selected),e.$digest(),e.$apply(function(){-1===e.selected&&v()}))}function p(){var t;t=e.predictions[e.selected],t&&(t.is_custom?e.$apply(function(){e.model=t.place,e.$emit("g-places-autocomplete:select",t.place),n(function(){a.$viewChangeListeners.forEach(function(e){e()})})}):T.getDetails({placeId:t.place_id},function(t,i){i==r.maps.places.PlacesServiceStatus.OK&&e.$apply(function(){e.model=t,e.$emit("g-places-autocomplete:select",t),n(function(){a.$viewChangeListeners.forEach(function(e){e()})})})}),v())}function f(t){var n;return t&&w(t)?(e.query=t,n=angular.extend({input:t},e.options),$.getPlacePredictions(n,function(t,n){e.$apply(function(){var i;v(),e.customPlaces&&(i=y(e.query),e.predictions.push.apply(e.predictions,i)),n==r.maps.places.PlacesServiceStatus.OK&&e.predictions.push.apply(e.predictions,t),e.predictions.length>5&&(e.predictions.length=5)})}),e.forceSelection?a.$modelValue:t):t}function g(e){var t="";return w(e)?t=e:C(e)&&(t=e.formatted_address),t}function m(){return o.val(a.$viewValue)}function v(){e.active=-1,e.selected=-1,e.predictions=[]}function y(t){var n,i,r,o=[];for(r=0;r<e.customPlaces.length;r++)n=e.customPlaces[r],i=b(t,n),i.matched_substrings.length>0&&o.push({is_custom:!0,custom_prediction_label:n.custom_prediction_label||"(Custom Non-Google Result)",description:n.formatted_address,place:n,matched_substrings:i.matched_substrings,terms:i.terms});return o}function b(e,t){var n,i,r,o=e+"",s=[],a=[];for(i=t.formatted_address.split(","),r=0;r<i.length;r++)n=i[r].trim(),o.length>0&&(n.length>=o.length?(A(n,o)&&a.push({length:o.length,offset:r}),o=""):A(o,n)?(a.push({length:n.length,offset:r}),o=o.replace(n,"").trim()):o=""),s.push({value:n,offset:t.formatted_address.indexOf(n)});return{matched_substrings:a,terms:s}}function w(e){return"[object String]"==Object.prototype.toString.call(e)}function C(e){return"[object Object]"==Object.prototype.toString.call(e)}function x(e,t){var n,i;if(null==e)return-1;for(i=e.length,n=0;i>n;n++)if(e[n]===t)return n;return-1}function A(e,t){return 0===S(e).lastIndexOf(S(t),0)}function S(e){return null==e?"":e.toLowerCase()}var _={tab:9,enter:13,esc:27,up:38,down:40},E=[_.tab,_.enter,_.esc,_.up,_.down],$=new r.maps.places.AutocompleteService,T=new r.maps.places.PlacesService(o[0]);!function(){e.query="",e.predictions=[],e.input=o,e.options=e.options||{},u(),l(),c()}()}}}]).directive("gPlacesAutocompleteDrawer",["$window","$document",function(e,t){var n=['<div class="pac-container" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\', width: position.width+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">','  <div class="pac-item" g-places-autocomplete-prediction index="$index" prediction="prediction" query="query"','       ng-repeat="prediction in predictions track by $index" ng-class="{\'pac-item-selected\': isActive($index) }"','       ng-mouseenter="selectActive($index)" ng-click="selectPrediction($index)" role="option" id="{{prediction.id}}">',"  </div>","</div>"];return{restrict:"A",scope:{input:"=",query:"=",predictions:"=",active:"=",selected:"="},template:n.join(""),link:function(n,i){function r(n){var i=n[0],r=i.getBoundingClientRect(),o=t[0].documentElement,s=t[0].body,a=e.pageYOffset||o.scrollTop||s.scrollTop,l=e.pageXOffset||o.scrollLeft||s.scrollLeft;return{width:r.width,height:r.height,top:r.top+r.height+a,left:r.left+l}}i.bind("mousedown",function(e){e.preventDefault()}),e.onresize=function(){n.$apply(function(){n.position=r(n.input)})},n.isOpen=function(){return n.predictions.length>0},n.isActive=function(e){return n.active===e},n.selectActive=function(e){n.active=e},n.selectPrediction=function(e){n.selected=e},n.$watch("predictions",function(){n.position=r(n.input)},!0)}}}]).directive("gPlacesAutocompletePrediction",[function(){var e=['<span class="pac-icon pac-icon-marker"></span>','<span class="pac-item-query" ng-bind-html="prediction | highlightMatched"></span>','<span ng-repeat="term in prediction.terms | unmatchedTermsOnly:prediction">{{term.value | trailingComma:!$last}}&nbsp;</span>','<span class="custom-prediction-label" ng-if="prediction.is_custom">&nbsp;{{prediction.custom_prediction_label}}</span>'];return{restrict:"A",scope:{index:"=",prediction:"=",query:"="},template:e.join("")}}]).filter("highlightMatched",["$sce",function(e){return function(t){var n,i="",r="";return t.matched_substrings.length>0&&t.terms.length>0&&(n=t.matched_substrings[0],i=t.terms[0].value.substr(n.offset,n.length),r=t.terms[0].value.substr(n.offset+n.length)),e.trustAsHtml('<span class="pac-matched">'+i+"</span>"+r)}}]).filter("unmatchedTermsOnly",[function(){return function(e,t){var n,i,r=[];for(n=0;n<e.length;n++)i=e[n],t.matched_substrings.length>0&&i.offset>t.matched_substrings[0].length&&r.push(i);return r}}]).filter("trailingComma",[function(){return function(e,t){return t?e+",":e}}]),angular.module("google.places",[]).factory("googlePlacesApi",["$window",function(e){if(!e.google)throw"Global `google` var missing. Did you forget to include the places API script?";return e.google}]).directive("gPlacesAutocomplete",["$parse","$compile","$timeout","$document","googlePlacesApi",function(e,t,n,i,r){return{restrict:"A",require:"^ngModel",scope:{model:"=ngModel",options:"=?",forceSelection:"=?",customPlaces:"=?"},controller:["$scope",function(){}],link:function(e,o,s,a){function l(){o.bind("keydown",h),o.bind("blur",d),o.bind("submit",d),e.$watch("selected",p)}function u(){var n,r=angular.element("<div g-places-autocomplete-drawer></div>"),o=angular.element(i[0].body);r.attr({input:"input",query:"query",predictions:"predictions",active:"active",selected:"selected"}),n=t(r)(e),o.append(n)}function c(){a.$parsers.push(f),a.$formatters.push(g),a.$render=m}function h(t){0!==e.predictions.length&&-1!==x(E,t.which)&&(t.preventDefault(),t.which===_.down?(e.active=(e.active+1)%e.predictions.length,e.$digest()):t.which===_.up?(e.active=(e.active?e.active:e.predictions.length)-1,e.$digest()):13===t.which||9===t.which?(e.forceSelection&&(e.active=-1===e.active?0:e.active),e.$apply(function(){e.selected=e.active,-1===e.selected&&v()})):27===t.which&&e.$apply(function(){t.stopPropagation(),v()}))}function d(){0!==e.predictions.length&&(e.forceSelection&&(e.selected=-1===e.selected?0:e.selected),e.$digest(),e.$apply(function(){-1===e.selected&&v()}))}function p(){var t;t=e.predictions[e.selected],t&&(t.is_custom?e.$apply(function(){e.model=t.place,e.$emit("g-places-autocomplete:select",t.place),n(function(){a.$viewChangeListeners.forEach(function(e){e()})})}):T.getDetails({placeId:t.place_id},function(t,i){i==r.maps.places.PlacesServiceStatus.OK&&e.$apply(function(){e.model=t,e.$emit("g-places-autocomplete:select",t),n(function(){a.$viewChangeListeners.forEach(function(e){e()})})})}),v())}function f(t){var n;return t&&w(t)?(e.query=t,n=angular.extend({input:t},e.options),$.getPlacePredictions(n,function(t,n){e.$apply(function(){var i;v(),e.customPlaces&&(i=y(e.query),e.predictions.push.apply(e.predictions,i)),n==r.maps.places.PlacesServiceStatus.OK&&e.predictions.push.apply(e.predictions,t),e.predictions.length>5&&(e.predictions.length=5)})}),e.forceSelection?a.$modelValue:t):t}function g(e){var t="";return w(e)?t=e:C(e)&&(t=e.formatted_address),t}function m(){return o.val(a.$viewValue)}function v(){e.active=-1,e.selected=-1,e.predictions=[]}function y(t){var n,i,r,o=[];for(r=0;r<e.customPlaces.length;r++)n=e.customPlaces[r],i=b(t,n),i.matched_substrings.length>0&&o.push({is_custom:!0,custom_prediction_label:n.custom_prediction_label||"(Custom Non-Google Result)",description:n.formatted_address,place:n,matched_substrings:i.matched_substrings,terms:i.terms});return o}function b(e,t){var n,i,r,o=e+"",s=[],a=[];for(i=t.formatted_address.split(","),r=0;r<i.length;r++)n=i[r].trim(),o.length>0&&(n.length>=o.length?(A(n,o)&&a.push({length:o.length,offset:r}),o=""):A(o,n)?(a.push({length:n.length,offset:r}),o=o.replace(n,"").trim()):o=""),s.push({value:n,offset:t.formatted_address.indexOf(n)});return{matched_substrings:a,terms:s}}function w(e){return"[object String]"==Object.prototype.toString.call(e)}function C(e){return"[object Object]"==Object.prototype.toString.call(e)}function x(e,t){var n,i;if(null==e)return-1;for(i=e.length,n=0;i>n;n++)if(e[n]===t)return n;return-1}function A(e,t){return 0===S(e).lastIndexOf(S(t),0)}function S(e){return null==e?"":e.toLowerCase()}var _={tab:9,enter:13,esc:27,up:38,down:40},E=[_.tab,_.enter,_.esc,_.up,_.down],$=new r.maps.places.AutocompleteService,T=new r.maps.places.PlacesService(o[0]);!function(){e.query="",e.predictions=[],e.input=o,e.options=e.options||{},u(),l(),c()}()}}}]).directive("gPlacesAutocompleteDrawer",["$window","$document",function(e,t){var n=['<div class="pac-container" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\', width: position.width+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">','  <div class="pac-item" g-places-autocomplete-prediction index="$index" prediction="prediction" query="query"','       ng-repeat="prediction in predictions track by $index" ng-class="{\'pac-item-selected\': isActive($index) }"','       ng-mouseenter="selectActive($index)" ng-click="selectPrediction($index)" role="option" id="{{prediction.id}}">',"  </div>","</div>"];return{restrict:"A",scope:{input:"=",query:"=",predictions:"=",active:"=",selected:"="},template:n.join(""),link:function(n,i){function r(n){var i=n[0],r=i.getBoundingClientRect(),o=t[0].documentElement,s=t[0].body,a=e.pageYOffset||o.scrollTop||s.scrollTop,l=e.pageXOffset||o.scrollLeft||s.scrollLeft;return{width:r.width,height:r.height,top:r.top+r.height+a,left:r.left+l}}i.bind("mousedown",function(e){e.preventDefault()}),e.onresize=function(){n.$apply(function(){n.position=r(n.input)})},n.isOpen=function(){return n.predictions.length>0},n.isActive=function(e){return n.active===e},n.selectActive=function(e){n.active=e},n.selectPrediction=function(e){n.selected=e},n.$watch("predictions",function(){n.position=r(n.input)},!0)}}}]).directive("gPlacesAutocompletePrediction",[function(){var e=['<span class="pac-icon pac-icon-marker"></span>','<span class="pac-item-query" ng-bind-html="prediction | highlightMatched"></span>','<span ng-repeat="term in prediction.terms | unmatchedTermsOnly:prediction">{{term.value | trailingComma:!$last}}&nbsp;</span>','<span class="custom-prediction-label" ng-if="prediction.is_custom">&nbsp;{{prediction.custom_prediction_label}}</span>'];return{restrict:"A",scope:{index:"=",prediction:"=",query:"="},template:e.join("")}}]).filter("highlightMatched",["$sce",function(e){return function(t){var n,i="",r="";return t.matched_substrings.length>0&&t.terms.length>0&&(n=t.matched_substrings[0],i=t.terms[0].value.substr(n.offset,n.length),r=t.terms[0].value.substr(n.offset+n.length)),e.trustAsHtml('<span class="pac-matched">'+i+"</span>"+r)}}]).filter("unmatchedTermsOnly",[function(){return function(e,t){var n,i,r=[];for(n=0;n<e.length;n++)i=e[n],t.matched_substrings.length>0&&i.offset>t.matched_substrings[0].length&&r.push(i);return r}}]).filter("trailingComma",[function(){return function(e,t){return t?e+",":e}}]),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,t,n){this.loadScript=function(i){var r=t.defer(),o=e[0].createElement("script");return o.onload=o.onreadystatechange=function(e){n(function(){r.resolve(e)})},o.onerror=function(e){n(function(){r.reject(e)})},o.src=i,e[0].body.appendChild(o),r.promise},this.loadCSS=function(i){var r=t.defer(),o=e[0].createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=i,o.onload=o.onreadystatechange=function(e){n(function(){r.resolve(e)})},o.onerror=function(e){n(function(){r.reject(e)})},e[0].head.appendChild(o),r.promise}}])}(),function(){"use strict";angular.module("wu.masonry",[]).controller("MasonryCtrl",["$scope","$element","$timeout",function(e,t,n){function i(e){e.addClass("loaded")}var r={},o=[],s=!1,a=this,l=null;this.preserveOrder=!1,this.loadImages=!0,this.scheduleMasonryOnce=function(){var e=arguments,t=o.filter(function(t){return t[0]===e[0]}).length>0;t||this.scheduleMasonry.apply(null,arguments)},this.scheduleMasonry=function(){l&&n.cancel(l),o.push([].slice.call(arguments)),l=n(function(){s||(o.forEach(function(e){t.masonry.apply(t,e)}),o=[])},30)},this.appendBrick=function(e,n){function o(){0===Object.keys(r).length&&t.masonry("resize"),void 0===r[n]&&(r[n]=!0,i(e),t.masonry("appended",e,!0))}function l(){a.scheduleMasonryOnce("layout")}s||(a.loadImages?a.preserveOrder?(o(),e.imagesLoaded(l)):e.imagesLoaded(function(){o(),l()}):(o(),l()))},this.removeBrick=function(e,n){s||(delete r[e],t.masonry("remove",n),this.scheduleMasonryOnce("layout"))},this.destroy=function(){s=!0,t.data("masonry")&&t.masonry("destroy"),e.$emit("masonry.destroyed"),r=[]},this.reload=function(){t.masonry(),e.$emit("masonry.reloaded")}}]).directive("masonry",function(){return{restrict:"AE",controller:"MasonryCtrl",link:{pre:function(e,t,n,i){var r=e.$eval(n.masonry||n.masonryOptions),o=angular.extend({itemSelector:n.itemSelector||".masonry-brick",columnWidth:parseInt(n.columnWidth,10)||n.columnWidth},r||{});t.masonry(o);var s=e.$eval(n.loadImages);i.loadImages=s!==!1;var a=e.$eval(n.preserveOrder);i.preserveOrder=a!==!1&&void 0!==n.preserveOrder;var l=e.$eval(n.reloadOnShow);l!==!1&&void 0!==n.reloadOnShow&&e.$watch(function(){return t.prop("offsetParent")},function(e,t){e&&!t&&i.reload()}),e.$emit("masonry.created",t),e.$on("$destroy",i.destroy)}}}}).directive("masonryBrick",function(){return{restrict:"AC",require:"^masonry",scope:!0,link:{pre:function(e,t,n,i){var r,o=e.$id;i.appendBrick(t,o),t.on("$destroy",function(){i.removeBrick(o,t)}),e.$on("masonry.reload",function(){i.scheduleMasonryOnce("reloadItems"),i.scheduleMasonryOnce("layout")}),e.$watch("$index",function(){void 0!==r&&r!==e.$index&&(i.scheduleMasonryOnce("reloadItems"),i.scheduleMasonryOnce("layout")),r=e.$index})}}}})}(),function(e,t,n){"use strict";function i(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&a.test("."+e)}function r(e,t){if(!i(t))throw s("badmember",'Dotted member path "@{0}" is invalid.',t);for(var r=t.split("."),o=0,a=r.length;a>o&&e!==n;o++){var l=r[o];e=null!==e?e[l]:n}return e}function o(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var s=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(i,a){function l(e){return u(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function u(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function c(t,n){this.template=t,this.defaults=f({},e.defaults,n),this.urlParams={}}function h(l,u,v,y){function b(e,t){var n={};return t=f({},u,t),p(t,function(t,i){m(t)&&(t=t()),n[i]=t&&t.charAt&&"@"==t.charAt(0)?r(e,t.substr(1)):t}),n}function w(e){return e.resource}function C(e){o(e||{},this)}var x=new c(l,y);return v=f({},e.defaults.actions,v),C.prototype.toJSON=function(){var e=f({},this);return delete e.$promise,delete e.$resolved,e},p(v,function(e,r){var l=/^(POST|PUT|PATCH)$/i.test(e.method);C[r]=function(u,c,h,v){var y,A,S,_={};switch(arguments.length){case 4:S=v,A=h;case 3:case 2:if(!m(c)){_=u,y=c,A=h;break}if(m(u)){A=u,S=c;break}A=c,S=h;case 1:m(u)?A=u:l?y=u:_=u;break;case 0:break;default:throw s("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var E=this instanceof C,$=E?y:e.isArray?[]:new C(y),T={},k=e.interceptor&&e.interceptor.response||w,D=e.interceptor&&e.interceptor.responseError||n;p(e,function(e,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(T[t]=g(e))}),l&&(T.data=y),x.setUrlParams(T,f({},b(y,e.params||{}),_),e.url);var F=i(T).then(function(n){var i=n.data,a=$.$promise;if(i){if(t.isArray(i)!==!!e.isArray)throw s("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",r,e.isArray?"array":"object",t.isArray(i)?"array":"object");e.isArray?($.length=0,p(i,function(e){"object"==typeof e?$.push(new C(e)):$.push(e)})):(o(i,$),$.$promise=a)}return $.$resolved=!0,n.resource=$,n},function(e){return $.$resolved=!0,(S||d)(e),a.reject(e)});return F=F.then(function(e){var t=k(e);return(A||d)(t,e.headers),t},D),E?F:($.$promise=F,$.$resolved=!1,$)},C.prototype["$"+r]=function(e,t,n){m(e)&&(n=t,t=e,e={});var i=C[r].call(this,e,this,t,n);return i.$promise||i}}),C.bind=function(e){return h(l,f({},u,e),v)},C}var d=t.noop,p=t.forEach,f=t.extend,g=t.copy,m=t.isFunction;return c.prototype={setUrlParams:function(e,n,i){var r,o,a=this,u=i||a.template,c=a.urlParams={};p(u.split(/\W/),function(e){if("hasOwnProperty"===e)throw s("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(u)&&(c[e]=!0)}),u=u.replace(/\\:/g,":"),n=n||{},p(a.urlParams,function(e,i){r=n.hasOwnProperty(i)?n[i]:a.defaults[i],t.isDefined(r)&&null!==r?(o=l(r),u=u.replace(new RegExp(":"+i+"(\\W|$)","g"),function(e,t){return o+t})):u=u.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),a.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),e.url=u.replace(/\/\\\./,"/."),p(n,function(t,n){a.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},h}]})}(window,window.angular),function(e,t){"use strict";function n(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){var o="?"===i?i:null,s="*"===i?i:null;return r.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(s&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,r){var o=t.copy(r);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(o,e&&n(e,o)),e){var s="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[s]=t.extend({redirectTo:e},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,o,s,l,u,c){function h(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,s=r.length;s>o;++o){var a=n[o-1],l=r[o];a&&l&&(i[a.name]=l)}return i}function d(e){var i=b.current;m=f(),v=m&&i&&m.$$route===i.$$route&&t.equals(m.pathParams,i.pathParams)&&!m.reloadOnSearch&&!y,v||!i&&!m||n.$broadcast("$routeChangeStart",m,i).defaultPrevented&&e&&e.preventDefault()}function p(){var e=b.current,i=m;v?(e.params=i.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(i||e)&&(y=!1,b.current=i,i&&i.redirectTo&&(t.isString(i.redirectTo)?r.path(g(i.redirectTo,i.params)).search(i.params).replace():r.url(i.redirectTo(i.pathParams,r.path(),r.search())).replace()),s.when(i).then(function(){if(i){var e,n,r=t.extend({},i.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?l.get(e):l.invoke(e,null,null,n)}),t.isDefined(e=i.template)?t.isFunction(e)&&(e=e(i.params)):t.isDefined(n=i.templateUrl)&&(t.isFunction(n)&&(n=n(i.params)),n=c.getTrustedResourceUrl(n),t.isDefined(n)&&(i.loadedTemplateUrl=n,e=u(n))),t.isDefined(e)&&(r.$template=e),s.all(r)}}).then(function(r){i==b.current&&(i&&(i.locals=r,t.copy(i.params,o)),n.$broadcast("$routeChangeSuccess",i,e))},function(t){i==b.current&&n.$broadcast("$routeChangeError",i,e,t)}))}function f(){var n,o;return t.forEach(i,function(i){!o&&(n=h(r.path(),i))&&(o=e(i,{params:t.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&e(i[null],{params:{},pathParams:{}})}function g(e,n){var i=[];
return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var m,v,y=!1,b={routes:i,reload:function(){y=!0,n.$evalAsync(function(){d(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw a("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),r.path(g(this.current.$$route.originalPath,e)),r.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",p),b}]}function i(){this.$get=function(){return{}}}function r(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,s,a,l){function u(){p&&(i.cancel(p),p=null),h&&(h.$destroy(),h=null),d&&(p=i.leave(d),p.then(function(){p=null}),d=null)}function c(){var s=e.current&&e.current.locals,a=s&&s.$template;if(t.isDefined(a)){var c=r.$new(),p=e.current,m=l(c,function(e){i.enter(e,null,d||o).then(function(){!t.isDefined(f)||f&&!r.$eval(f)||n()}),u()});d=m,h=p.scope=c,h.$emit("$viewContentLoaded"),h.$eval(g)}else u()}var h,d,p,f=s.autoscroll,g=s.onload||"";r.$on("$routeChangeSuccess",c),c()}}}function o(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,s=o.locals;r.html(s.$template);var a=e(r.contents());if(o.controller){s.$scope=i;var l=t(o.controller,s);o.controllerAs&&(i[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}a(i)}}}var s=t.module("ngRoute",["ng"]).provider("$route",n),a=t.$$minErr("ngRoute");s.provider("$routeParams",i),s.directive("ngView",r),s.directive("ngView",o),r.$inject=["$route","$anchorScroll","$animate"],o.$inject=["$compile","$controller","$route"]}(window,window.angular);var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset",function(e,t,n,i,r,o,s){"use strict";var a={},l=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},c=function(e){return u(e)||l(e)?e:e[0]};a.duScrollTo=function(t,n,i){var r;if(angular.isElement(t)?r=this.duScrollToElement:angular.isDefined(i)&&(r=this.duScrollToAnimated),r)return r.apply(this,arguments);var o=c(this);return l(o)?e.scrollTo(t,n):(o.scrollLeft=t,o.scrollTop=n,void 0)};var h,d;a.duScrollToAnimated=function(e,o,s,a){s&&!a&&(a=r);var l=this.duScrollLeft(),u=this.duScrollTop(),c=Math.round(e-l),p=Math.round(o-u),f=null,g=0,m=this,v="scroll mousedown mousewheel touchmove keydown",y=function(e){(!e||g&&e.which>0)&&(m.unbind(v,y),n(h),d.reject(),h=null)};if(h&&y(),d=t.defer(),0===s||!c&&!p)return 0===s&&m.duScrollTo(e,o),d.resolve(),d.promise;var b=function(e){null===f&&(f=e),g=e-f;var t=g>=s?1:a(g/s);m.scrollTo(l+Math.ceil(c*t),u+Math.ceil(p*t)),1>t?h=i(b):(m.unbind(v,y),h=null,d.resolve())};return m.duScrollTo(l,u),m.bind(v,y),h=i(b),d.promise},a.duScrollToElement=function(e,t,n,i){var r=c(this);(!angular.isNumber(t)||isNaN(t))&&(t=s);var o=this.duScrollTop()+c(e).getBoundingClientRect().top-t;return u(r)&&(o-=r.getBoundingClientRect().top),this.duScrollTo(0,o,n,i)},a.duScrollLeft=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,i);var r=c(this);return l(r)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},a.duScrollTop=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,i);var r=c(this);return l(r)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},a.duScrollToElementAnimated=function(e,t,n,i){return this.duScrollToElement(e,t,n||o,i)},a.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||o,n)},a.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||o,n)},angular.forEach(a,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,i){if(e[n])return e[n];for(var r,o=n.substr(0,1).toUpperCase()+n.substr(1),s=0;s<t.length;s++)if(r=t[s]+o,e[r])return e[r];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,i=function(e){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=t(function(){e(i+r)},r);return n=i+r,o};return e("requestAnimationFrame",i)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait",function(e,t,n,i,r,o,s){"use strict";var a=function(r){var a=!1,l=!1,u=function(){l=!1;var t,s=r.container,a=s[0],u=0;"undefined"!=typeof HTMLElement&&a instanceof HTMLElement||a.nodeType&&a.nodeType===a.ELEMENT_NODE?(u=a.getBoundingClientRect().top,t=Math.round(a.scrollTop+a.clientHeight)>=a.scrollHeight):t=Math.round(n.pageYOffset+n.innerHeight)>=i[0].body.scrollHeight;var c,h,d,p,f,g,m=t?"bottom":"top";for(p=r.spies,h=r.currentlyActive,d=void 0,c=0;c<p.length;c++)f=p[c],g=f.getTargetPosition(),g&&(t||g.top+f.offset-u<20&&(o||-1*g.top+u)<g.height)&&(!d||d[m]<g[m])&&(d={spy:f},d[m]=g[m]);d&&(d=d.spy),h===d||o&&!d||(h&&(h.$element.removeClass("active"),e.$broadcast("duScrollspy:becameInactive",h.$element)),d&&(d.$element.addClass("active"),e.$broadcast("duScrollspy:becameActive",d.$element)),r.currentlyActive=d)};return s?function(){a?l=!0:(u(),a=t(function(){a=!1,l&&u()},s,!1))}:u},l={},u=function(e){var t=e.$id,n={spies:[]};return n.handler=a(n),l[t]=n,e.$on("$destroy",function(){c(e)}),t},c=function(e){var t=e.$id,n=l[t],i=n.container;i&&i.off("scroll",n.handler),delete l[t]},h=u(e),d=function(e){return l[e.$id]?l[e.$id]:e.$parent?d(e.$parent):l[h]},p=function(e){var t,n,i=e.$scope;if(i)return d(i);for(n in l)if(t=l[n],-1!==t.spies.indexOf(e))return t},f=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},g=function(e){var t=p(e);t&&(t.spies.push(e),t.container&&f(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=r.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},m=function(e){var t=p(e);e===t.currentlyActive&&(t.currentlyActive=null);var n=t.spies.indexOf(e);-1!==n&&t.spies.splice(n,1),e.$element=null};return{addSpy:g,removeSpy:m,createContext:u,destroyContext:c,getContextForScope:d}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var i=e.$id;return t[i]=n,i},i=function(e){return t[e.$id]?e.$id:e.$parent?i(e.$parent):void 0},r=function(n){var r=i(n);return r?t[r]:e},o=function(e){var n=i(e);n&&delete t[n]};return{getContainerId:i,getContainer:r,setContainer:n,removeContainer:o}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(i,r,o){r.on("click",function(r){if(o.href&&-1!==o.href.indexOf("#")){var s=document.getElementById(o.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(s&&s.getBoundingClientRect){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var a=o.offset?parseInt(o.offset,10):t,l=o.duration?parseInt(o.duration,10):e,u=n.getContainer(i);u.duScrollToElement(angular.element(s),isNaN(a)?0:a,isNaN(l)?0:l)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,n,i){i.$observe("duScrollContainer",function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,e.setContainer(t,i),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,i){"use strict";var r=function(e,t,n,i){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=i};return r.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)),this.target},r.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},r.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(o,s,a){var l,u=a.ngHref||a.href;u&&-1!==u.indexOf("#")?l=u.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duScrollspy&&(l=a.duScrollspy),l&&n(function(){var n=new r(l,o,s,-(a.offset?parseInt(a.offset,10):t));e.addSpy(n),o.$on("$destroy",function(){e.removeSpy(n)}),o.$on("$locationChangeSuccess",n.flushTargetCache.bind(n)),i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n))},0,!1)}}}]),angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(e,t,n){if(angular.isDefined(n.workerPath)){var i=window.ace.require("ace/config");i.set("workerPath",n.workerPath)}angular.isDefined(n.require)&&n.require.forEach(function(e){window.ace.require(e)}),angular.isDefined(n.showGutter)&&e.renderer.setShowGutter(n.showGutter),angular.isDefined(n.useWrapMode)&&t.setUseWrapMode(n.useWrapMode),angular.isDefined(n.showInvisibles)&&e.renderer.setShowInvisibles(n.showInvisibles),angular.isDefined(n.showIndentGuides)&&e.renderer.setDisplayIndentGuides(n.showIndentGuides),angular.isDefined(n.useSoftTabs)&&t.setUseSoftTabs(n.useSoftTabs),angular.isDefined(n.showPrintMargin)&&e.setShowPrintMargin(n.showPrintMargin),angular.isDefined(n.disableSearch)&&n.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(n.theme)&&e.setTheme("ace/theme/"+n.theme),angular.isString(n.mode)&&t.setMode("ace/mode/"+n.mode),angular.isDefined(n.firstLineNumber)&&(angular.isNumber(n.firstLineNumber)?t.setOption("firstLineNumber",n.firstLineNumber):angular.isFunction(n.firstLineNumber)&&t.setOption("firstLineNumber",n.firstLineNumber()));var r,o;if(angular.isDefined(n.advanced))for(r in n.advanced)o={name:r,value:n.advanced[r]},e.setOption(o.name,o.value);if(angular.isDefined(n.rendererOptions))for(r in n.rendererOptions)o={name:r,value:n.rendererOptions[r]},e.renderer.setOption(o.name,o.value);angular.forEach(n.callbacks,function(t){angular.isFunction(t)&&t(e)})};return{restrict:"EA",require:"?ngModel",link:function(n,i,r,o){var s,a,l=e.ace||{},u=angular.extend({},l,n.$eval(r.uiAce)),c=window.ace.edit(i[0]),h=c.getSession(),d=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(e)&&n.$evalAsync(function(){if(!angular.isFunction(e))throw new Error("ui-ace use a function as callback.");e(t)})},p={onChange:function(e){return function(t){var i=h.getValue();!o||i===o.$viewValue||n.$$phase||n.$root.$$phase||n.$evalAsync(function(){o.$setViewValue(i)}),d(e,t,c)}},onBlur:function(e){return function(){d(e,c)}}};r.$observe("readonly",function(e){c.setReadOnly(!!e||""===e)}),o&&(o.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),o.$render=function(){h.setValue(o.$viewValue)});var f=function(e,i){e!==i&&(u=angular.extend({},l,n.$eval(r.uiAce)),u.callbacks=[u.onLoad],u.onLoad!==l.onLoad&&u.callbacks.unshift(l.onLoad),h.removeListener("change",s),s=p.onChange(u.onChange),h.on("change",s),c.removeListener("blur",a),a=p.onBlur(u.onBlur),c.on("blur",a),t(c,h,u))};n.$watch(r.uiAce,f,!0),f(l),i.on("$destroy",function(){c.session.$stopWorker(),c.destroy()}),n.$watch(function(){return[i[0].offsetWidth,i[0].offsetHeight]},function(){c.resize(),c.renderer.updateFull()},!0)}}}]),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["","$","","$","","","","","","",""],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,i){var r={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,s){function a(){var e=t.col.compiledElementFn;e(t,function(e){r.append(e)})}if(s&&t.col.compiledElementFn)a();else if(s&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e){r.append(e)})});else{var l=t.col.cellTemplate.replace(i.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(i.COL_FIELD,"grid.getCellValue(row, col)"),u=e(l)(t);r.append(u)}},post:function(e,t){var n=e.col.getColClass(!1);t.addClass(n);var r,o=function(){var n=t;r&&(n.removeClass(r),r=null),r=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,n.addClass(r)};e.col.cellClass&&o();var s=e.grid.registerDataChangeCallback(o,[i.dataChange.COLUMN,i.dataChange.EDIT]),a=function(i,s){if(i!==s){(r||e.col.cellClass)&&o();var a=e.col.getColClass(!1);a!==n&&(t.removeClass(n),t.addClass(a),n=a)}},l=e.$watch("row",a),u=function(){s(),l()};e.$on("$destroy",u),t.on("$destroy",u)}}}};return r}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var i={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting?!0:!1},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return e.col&&e.col.suppressRemoveSort?!0:!1},hideable:function(e){return"undefined"!=typeof e.col&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return i.sortable(n)&&"undefined"!=typeof n.col&&"undefined"!=typeof n.col.sort&&"undefined"!=typeof n.col.sort.direction&&null!==n.col.sort.direction&&!i.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,i){var r={};return r.left=i[0].offsetLeft,r.top=i[0].offsetTop,r.parentLeft=i[0].offsetParent.offsetLeft,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=n.elementHeight(i,!0),r.width=n.elementWidth(i,!0),r},repositionMenu:function(e,t,i,r,o){var s=r[0].querySelectorAll(".ui-grid-menu"),a=t.renderContainer?t.renderContainer:"body";t.grid.renderContainers[a];var l=n.closestElm(o,".ui-grid-render-container"),u=l.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=l.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,h=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,d=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==s.length){var p=s[0].querySelectorAll(".ui-grid-menu-mid");0===p.length||angular.element(p).hasClass("ng-hide")||(h=n.elementWidth(s,!0),e.lastMenuWidth=h,t.lastMenuWidth=h,d=parseInt(n.getStyles(angular.element(s)[0]).paddingRight,10),e.lastMenuPaddingRight=d,t.lastMenuPaddingRight=d)}var f=i.left+u-c+i.parentLeft+i.width-h+d;f<i.offset&&(f=i.offset),r.css("left",f+"px"),r.css("top",i.top+i.height+"px")}};return i}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(e,t,n,i){var r={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(t,r,o,s){var a=this;i.initialize(t,s),t.defaultMenuItems=i.getDefaultMenuItems(t),t.menuItems=t.defaultMenuItems,i.setColMenuItemWatch(t),t.showMenu=function(e,n,o){t.col=e;var s=i.getColumnElementPosition(t,e,n);t.menuShown?(t.colElement=n,t.colElementPosition=s,t.hideThenShow=!0,t.$broadcast("hide-menu",{originalEvent:o})):(a.shown=t.menuShown=!0,i.repositionMenu(t,e,s,r,n),t.colElement=n,t.colElementPosition=s,t.$broadcast("show-menu",{originalEvent:o}))},t.hideMenu=function(e){t.menuShown=!1,e||t.$broadcast("hide-menu")},t.$on("menu-hidden",function(){t.hideThenShow?(delete t.hideThenShow,i.repositionMenu(t,t.col,t.colElementPosition,r,t.colElement),t.$broadcast("show-menu"),t.menuShown=!0):t.hideMenu(!0)}),t.$on("menu-shown",function(){e(function(){i.repositionMenu(t,t.col,t.colElementPosition,r,t.colElement),delete t.colElementPosition,delete t.columnElement},200)}),t.sortColumn=function(e,n){e.stopPropagation(),t.grid.sortColumn(t.col,n,!0).then(function(){t.grid.refresh(),t.hideMenu()})},t.unsortColumn=function(){t.col.unsort(),t.grid.refresh(),t.hideMenu()},t.hideColumn=function(){t.col.colDef.visible=!1,t.col.visible=!1,t.grid.queueGridRefresh(),t.hideMenu(),t.grid.api.core.notifyDataChange(n.dataChange.COLUMN),t.grid.api.core.raise.columnVisibilityChanged(t.col)}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return r}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache",function(e){return{compile:function(){return{pre:function(t,n){t.col.updateFilters=function(i){if(n.children().remove(),i){var r=t.col.filterHeaderTemplate;n.append(e(r)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,i){var r={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,t){var n=i(e.col.footerCellTemplate)(e);t.append(n)},post:function(e,t,i,r){e.grid=r.grid;var o=e.col.getColClass(!1);t.addClass(o);var s,a=function(){var n=t;s&&(n.removeClass(s),s=null),s=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,n.addClass(s)};e.col.footerCellClass&&a(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(a,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.$on("$destroy",l)}}}};return r}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,n,r,o){var s=o[0],a=o[1];e.grid=s.grid,e.colContainer=a.colContainer,a.footer=n;var l=e.grid.options.footerTemplate;i.getTemplate(l).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.append(o),a){var s=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}})},post:function(e,t,n,r){var o=r[0],s=r[1];o.grid,i.disableAnimations(t),s.footer=t;var a=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(e,n,r,o){e.grid=o.grid;var s=e.grid.options.gridFooterTemplate;i.getTemplate(s).then(function(i){var r=angular.element(i),o=t(r)(e);n.append(o)})},post:function(){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){var i="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(t,r){var o=t.grid.options.groupPanelTemplate||i;n.getTemplate(o).then(function(n){var i=angular.element(n),o=e(i)(t);r.append(o)})},post:function(e,t){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o){var s=500,a=500,l={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n){var i=e(t.col.headerCellTemplate)(t);n.append(i)},post:function(e,n,r,l){var u=l[0],c=l[1];e.grid=u.grid,e.renderContainer=u.grid.renderContainers[c.containerId];var h=e.col.getColClass(!1);n.addClass(h),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC,angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu"));var d,p,f=angular.element(n[0].querySelectorAll(".ui-grid-cell-contents")),g=[];e.downFn=function(r){r.stopPropagation(),"undefined"!=typeof r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(p=r.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},s),e.mousedownTimeout.then(function(){e.colMenu&&u.columnMenuScope.showMenu(e.col,n,r)}),u.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===r.type?(i.on("touchend",e.upFn),i.on("touchmove",e.moveFn)):"mousedown"===r.type&&(i.on("mouseup",e.upFn),i.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type);var i=(new Date).getTime(),r=i-e.mousedownStartTime;r>s||e.sortable&&e.handleClick(n)},e.moveFn=function(n){var i=n.pageX-p;0!==i&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),f.off("click",e.clickFn)},e.offAllEvents=function(){f.off("touchstart",e.downFn),f.off("mousedown",e.downFn),i.off("touchend",e.upFn),i.off("mouseup",e.upFn),i.off("touchmove",e.moveFn),i.off("mousemove",e.moveFn),f.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":f.on("click",e.clickFn),f.on("touchstart",e.downFn),t(function(){f.on("mousedown",e.downFn)},a);break;case"mousemove":case"mouseup":f.on("click",e.clickFn),f.on("mousedown",e.downFn),t(function(){f.on("touchstart",e.downFn)},a);break;default:f.on("click",e.clickFn),f.on("touchstart",e.downFn),f.on("mousedown",e.downFn)}};var m=function(){var t=n;d&&(t.removeClass(d),d=null),d=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,t.addClass(d);var i=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===i.visibleColumnCache[i.visibleColumnCache.length-1],e.sortable=u.grid.options.enableSorting&&e.col.enableSorting?!0:!1;var r=e.filterable;e.filterable=u.grid.options.enableFiltering&&e.col.enableFiltering?!0:!1,r!==e.filterable&&("undefined"!=typeof e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){g.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(u.grid.api.core.raise.filterChanged(),u.grid.api.core.notifyDataChange(o.dataChange.COLUMN),u.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){g.forEach(function(e){e()})})):g.forEach(function(e){e()})),e.colMenu=e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?!0:!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};m();var v=e.grid.registerDataChangeCallback(m,[o.dataChange.COLUMN]);e.$on("$destroy",v),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),u.grid.sortColumn(e.col,n).then(function(){u.columnMenuScope&&u.columnMenuScope.hideMenu(),u.grid.refresh()})},e.toggleMenu=function(t){t.stopPropagation(),u.columnMenuScope.menuShown?u.columnMenuScope.col===e.col?u.columnMenuScope.hideMenu():u.columnMenuScope.showMenu(e.col,n):u.columnMenuScope.showMenu(e.col,n)}}}}};return l}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,i,r,o){var s="ui-grid/ui-grid-header",a="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,n,r,l){function u(){d.header=d.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");d.headerCanvas=e.length>0?d.colContainer.headerCanvas=e[0]:null}function c(){if(!h.grid.isScrollingHorizontally){var e=i.normalizeScrollLeft(d.headerViewport,h.grid),t=d.colContainer.scrollHorizontal(e),n=new o(h.grid,null,d.colContainer,o.Sources.ViewPortScroll);n.newScrollLeft=e,t>-1&&(n.x={percentage:t}),h.grid.scrollContainers(null,n)}}var h=l[0],d=l[1];e.grid=h.grid,e.colContainer=d.colContainer,u();var p;p=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:s:a,i.getTemplate(p).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.replaceWith(o),n=o,u(),d){var s=n[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(d.headerViewport=s,angular.element(s).on("scroll",c),e.$on("$destroy",function(){angular.element(s).off("scroll",c)}))}e.grid.queueRefresh()})},post:function(e,t,n,r){function o(){var e=a.colContainer.visibleColumnCache,t="",n=0;return e.forEach(function(e){t+=e.getColClassDefinition(),n+=e.drawnWidth}),a.colContainer.canvasWidth=n,t}var s=r[0],a=r[1];s.grid,i.disableAnimations(t),a.header=t;var l=t[0].getElementsByClassName("ui-grid-header-viewport")[0];l&&(a.headerViewport=l),s&&s.grid.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var i={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",i.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",i.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var i=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===n&&(i>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=r)}),i>-1&&t.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(t){var n=[];return t.grid.options.gridMenuCustomItems&&(angular.isArray(t.grid.options.gridMenuCustomItems)?n=n.concat(t.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),n=n.concat(t.registeredMenuItems),t.grid.options.gridMenuShowHideColumns!==!1&&(n=n.concat(i.showHideColumns(t))),n.sort(function(e,t){return e.order-t.order}),n},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,r){if(t.enableHiding!==!1){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r};i.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)
},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r+1},i.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,i){var r=i.options.gridMenuTitleFilter(n.displayName||n.name||n.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return i}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(e,t,n){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,t,i,r){var o=r[0];n.initialize(e,o.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=n.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,t,n,i,r,o){var s={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,i,r,s){var a=this;a.showMenu=e.showMenu=function(n,i){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,t(function(){e.shownMid=!0,e.$emit("menu-shown")}));var r="click";i&&i.originalEvent&&i.originalEvent.type&&"touchstart"===i.originalEvent.type&&(r=i.originalEvent.type),angular.element(document).off("click touchstart",l),t(function(){angular.element(document).on(r,l)})},a.hideMenu=e.hideMenu=function(){e.shown&&(e.shownMid=!1,t(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",l)},e.$on("hide-menu",function(t,n){e.hideMenu(t,n)}),e.$on("show-menu",function(t,n){e.showMenu(t,n)});var l=function(){e.shown&&e.$apply(function(){e.hideMenu()})};("undefined"==typeof e.autoHide||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(n).on("resize",l),e.$on("$destroy",function(){angular.element(document).off("click touchstart",l)}),e.$on("$destroy",function(){angular.element(n).off("resize",l)}),s&&e.$on("$destroy",s.grid.api.core.on.scrollBegin(e,l)),e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,l))},controller:["$scope","$element","$attrs",function(){}]};return s}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){var i={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(){return{pre:function(n,i,r,o){o[0],o[1],n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(n);i.replaceWith(o)})},post:function(e,t,i,r){var o=r[0];r[1],("undefined"==typeof e.shown||null===e.shown)&&(e.shown=function(){return!0}),e.itemShown=function(){var t={};return e.context&&(t.context=e.context),"undefined"!=typeof o&&o&&(t.grid=o.grid),e.shown.call(t)},e.itemAction=function(t,n){if(t.stopPropagation(),"function"==typeof e.action){var i={};e.context&&(i.context=e.context),"undefined"!=typeof o&&o&&(i.grid=o.grid),e.action.call(i,t,n),e.leaveOpen||e.$emit("hide-menu")}},e.i18n=n.get()}}}};return i}])}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,i,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,i){var r=i[0],o=i[1],s=e.grid=r.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!s.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!s.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var a=e.rowContainer=s.renderContainers[e.rowContainerName],l=e.colContainer=s.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=a,o.colContainer=l},post:function(e,t,n,o){function s(){var t="",n=h.canvasWidth,i=h.getViewportWidth(),r=c.getCanvasHeight();"body"!==e.containerId&&(r+=u.scrollbarHeight);var o,s,l=c.getViewportHeight();return o=s=h.getHeaderViewportWidth(),t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+r+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+u.scrollbarWidth)+"px; }",t+=f.explicitHeaderCanvasHeight?"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+f.explicitHeaderCanvasHeight+"px; }":"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+i+"px; height: "+l+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+o+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(n+u.scrollbarWidth)+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+s+"px; }"}var a=o[0],l=o[1],u=a.grid,c=l.rowContainer,h=l.colContainer,d=null,p=null,f=u.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),i.on.mousewheel(t,function(e){var t=new r(u,c,h,r.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;d=l.viewport[0].scrollTop;var o=(d+n)/c.getVerticalScrollLength();0>o?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var s=e.deltaX*e.deltaFactor;p=i.normalizeScrollLeft(l.viewport,u);var a=(p+s)/(h.getCanvasWidth()-h.getViewportWidth());0>a?a=0:a>1&&(a=1),t.x={percentage:a,pixels:s}}0!==e.deltaY&&(t.atTop(d)||t.atBottom(d))||0!==e.deltaX&&(t.atLeft(p)||t.atRight(p))||(e.preventDefault(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),a.grid.registerStyleComputation({priority:6,func:s})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,i){function r(){e.row.getRowTemplateFn.then(function(n){var i=e.$new();n(i,function(e){a&&(a.remove(),l.$destroy()),t.empty().append(e),a=e,l=i})})}var o=i[0],s=i[1];o.grid,e.grid=o.grid,e.colContainer=s.colContainer;var a,l;r(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&r()})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n){var i=t(n.text(),!0);i&&e.$watch(i,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,i,r,o){function s(){var r=i[0].scrollTop,o=e.normalizeScrollLeft(i,g),s=p.scrollVertical(r),a=f.scrollHorizontal(o),l=new t(g,p,f,t.Sources.ViewPortScroll);l.newScrollLeft=o,l.newScrollTop=r,a>-1&&(l.x={percentage:a}),s>-1&&(l.y={percentage:s}),g.scrollContainers(n.$parent.containerId,l)}function a(e){d.prevScrollArgs=e;var t=e.getNewScrollTop(p,d.viewport);i[0].scrollTop=t}function l(t){d.prevScrollArgs=t;var n=t.getNewScrollLeft(f,d.viewport);i[0].scrollLeft=e.denormalizeScrollLeft(d.viewport,n,g)}function u(t){var n=t.getNewScrollLeft(f,d.viewport);d.headerViewport&&(d.headerViewport.scrollLeft=e.denormalizeScrollLeft(d.viewport,n,g))}function c(t){var n=t.getNewScrollLeft(f,d.viewport);d.footerViewport&&(d.footerViewport.scrollLeft=e.denormalizeScrollLeft(d.viewport,n,g))}var h=o[0],d=o[1];n.containerCtrl=d;var p=d.rowContainer,f=d.colContainer,g=h.grid;n.grid=h.grid,n.rowContainer=d.rowContainer,n.colContainer=d.colContainer,d.viewport=i,i.on("scroll",s),n.$parent.bindScrollVertical&&g.addVerticalScrollSync(n.$parent.containerId,a),n.$parent.bindScrollHorizontal&&(g.addHorizontalScrollSync(n.$parent.containerId,l),g.addHorizontalScrollSync(n.$parent.containerId+"header",u),g.addHorizontalScrollSync(n.$parent.containerId+"footer",c))},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,i=e.colContainer,r={};if(0===t&&0!==n.currentTopRow){var o=n.currentTopRow*n.grid.options.rowHeight;r["margin-top"]=o+"px"}return 0!==i.currentFirstColumn&&(i.grid.isRTL()?r["margin-right"]=i.columnOffset+"px":r["margin-left"]=i.columnOffset+"px"),r}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function e(e,t,n,i,r,o){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,s,a){function l(){t[0].offsetWidth<=0&&g>m?(setTimeout(l,f),m++):n(c)}function u(){angular.element(i).on("resize",d),t.on("$destroy",function(){angular.element(i).off("resize",d)}),e.$watch(function(){return p.hasLeftContainer()},function(e,t){e!==t&&p.refreshCanvas(!0)}),e.$watch(function(){return p.hasRightContainer()},function(e,t){e!==t&&p.refreshCanvas(!0)})}function c(){p.gridWidth=e.gridWidth=r.elementWidth(t),p.canvasWidth=a.grid.gridWidth,p.gridHeight=e.gridHeight=r.elementHeight(t),p.gridHeight<p.options.rowHeight&&p.options.enableMinHeightCheck&&h(),p.refreshCanvas(!0)}function h(){var n=p.options.minRowsToShow*p.options.rowHeight,i=p.options.showHeader?p.options.headerRowHeight:0,s=p.calcFooterHeight(),a=0;p.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(a=r.getScrollbarWidth());var l=0;angular.forEach(p.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>l&&(l=1):e.hasOwnProperty("filters")&&l<e.filters.length&&(l=e.filters.length)});var u=l*i,c=i+n+s+a+u;t.css("height",c+"px"),p.gridHeight=e.gridHeight=r.elementHeight(t)}function d(){p.gridWidth=e.gridWidth=r.elementWidth(t),p.gridHeight=e.gridHeight=r.elementHeight(t),p.refreshCanvas(!0)}var p=a.grid;a.scrollbars=[],p.element=t;var f=100,g=20,m=0;u(),c(),p.renderingComplete(),l()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,n,i,r,o,s,a,l,u,c){function h(e,t){e&&e!==t&&(p.grid.options.columnDefs=e,p.grid.buildColumns({orderByColumnDefs:!0}).then(function(){p.grid.preCompileCellTemplates(),p.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function d(t){var i=[];p.grid.options.fastWatch&&(t=angular.isString(e.uiGrid.data)?p.grid.appScope[e.uiGrid.data]:e.uiGrid.data),t&&(p.grid.columns.length===(p.grid.rowHeaderColumns?p.grid.rowHeaderColumns.length:0)&&!n.uiGridColumns&&0===p.grid.options.columnDefs.length&&t.length>0&&p.grid.buildColumnDefsFromData(t),(p.grid.options.columnDefs.length>0||t.length>0)&&i.push(p.grid.buildColumns().then(function(){p.grid.preCompileCellTemplates()})),r.all(i).then(function(){p.grid.modifyRows(t).then(function(){p.grid.redrawInPlace(!0),e.$evalAsync(function(){p.grid.refreshCanvas(!0),p.grid.callDataChangeCallbacks(o.dataChange.ROW)})})}))}var p=this;p.grid=a.createGrid(e.uiGrid),p.grid.appScope=p.grid.appScope||e.$parent,t.addClass("grid"+p.grid.id),p.grid.rtl="rtl"===i.getStyles(t[0]).direction,e.grid=p.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){p.grid.options.columnDefs=e,p.grid.buildColumns().then(function(){p.grid.preCompileCellTemplates(),p.grid.refreshCanvas(!0)})});var f=[];p.grid.options.fastWatch?(p.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(f.push(e.$parent.$watch(e.uiGrid.data,d)),f.push(e.$parent.$watch(function(){return p.grid.appScope[e.uiGrid.data]?p.grid.appScope[e.uiGrid.data].length:void 0},d))):(f.push(e.$parent.$watch(function(){return e.uiGrid.data},d)),f.push(e.$parent.$watch(function(){return e.uiGrid.data.length},d))),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},h)),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs.length},h))):(angular.isString(e.uiGrid.data)?f.push(e.$parent.$watchCollection(e.uiGrid.data,d)):f.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},d)),f.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},h)));var g=e.$watch(function(){return p.grid.styleComputations},function(){p.grid.refreshCanvas(!0)});e.$on("$destroy",function(){f.forEach(function(e){e()}),g()}),p.fireEvent=function(t,n){("undefined"==typeof n||void 0===n)&&(n={}),("undefined"==typeof n.grid||void 0===n.grid)&&(n.grid=p.grid),e.$broadcast(t,n)},p.innerCompile=function(t){c(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,i){function r(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var n=e.getViewportAdjustment();return t+=n.width}function o(){if("left"===e.side||"right"===e.side){for(var t=a.renderContainers[e.side].visibleColumnCache,n=0,i=0;i<t.length;i++){var r=t[i];n+=r.drawnWidth||r.width||0}return n}}function s(){var n="";if("left"===e.side||"right"===e.side){l=o(),t.attr("style",null);var i=a.renderContainers.body.getViewportHeight();n+=".grid"+a.id+" .ui-grid-pinned-container-"+e.side+", .grid"+a.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+l+"px; height: "+i+"px; } "}return n}var a=i.grid,l=0;t.addClass("ui-grid-pinned-container-"+e.side),("left"===e.side||"right"===e.side)&&(a.renderContainers[e.side].getViewportWidth=r),a.renderContainers.body.registerViewportAdjuster(function(t){return l=o(),t.width-=l,t.side=e.side,t}),a.registerStyleComputation({priority:15,func:s})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,i,r,o,s,a,l,u,c,h,d,p){function f(){}var g=function(e){function t(e){s.isScrollingVertically=!1,s.api.core.raise.scrollEnd(e),s.scrollDirection=r.scrollDirection.NONE}function n(e){s.isScrollingHorizontally=!1,s.api.core.raise.scrollEnd(e),s.scrollDirection=r.scrollDirection.NONE}var s=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');s.id=e.id,delete e.id,s.options=o.initialize(e),s.appScope=s.options.appScopeProvider,s.headerHeight=s.options.headerRowHeight,s.footerHeight=s.calcFooterHeight(),s.columnFooterHeight=s.calcColumnFooterHeight(),s.rtl=!1,s.gridHeight=0,s.gridWidth=0,s.columnBuilders=[],s.rowBuilders=[],s.rowsProcessors=[],s.columnsProcessors=[],s.styleComputations=[],s.viewportAdjusters=[],s.rowHeaderColumns=[],s.dataChangeCallbacks={},s.verticalScrollSyncCallBackFns={},s.horizontalScrollSyncCallBackFns={},s.renderContainers={},s.renderContainers.body=new h("body",s),s.cellValueGetterCache={},s.getRowTemplateFn=null,s.rows=[],s.columns=[],s.isScrollingVertically=!1,s.isScrollingHorizontally=!1,s.scrollDirection=r.scrollDirection.NONE,s.disableScrolling=!1;var a=i.debounce(t,s.options.scrollDebounce),c=i.debounce(t,0),d=i.debounce(n,s.options.scrollDebounce),p=i.debounce(n,0);s.flagScrollingVertically=function(e){s.isScrollingVertically||s.isScrollingHorizontally||s.api.core.raise.scrollBegin(e),s.isScrollingVertically=!0,0!==s.options.scrollDebounce&&e.withDelay?a(e):c(e)},s.flagScrollingHorizontally=function(e){s.isScrollingVertically||s.isScrollingHorizontally||s.api.core.raise.scrollBegin(e),s.isScrollingHorizontally=!0,0!==s.options.scrollDebounce&&e.withDelay?d(e):p(e)},s.scrollbarHeight=0,s.scrollbarWidth=0,s.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(s.scrollbarHeight=i.getScrollbarWidth()),s.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(s.scrollbarWidth=i.getScrollbarWidth()),s.api=new l(s),s.api.registerMethod("core","refresh",this.refresh),s.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),s.api.registerMethod("core","refreshRows",this.refreshRows),s.api.registerMethod("core","refreshRows",this.queueRefresh),s.api.registerMethod("core","handleWindowResize",this.handleWindowResize),s.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),s.api.registerMethod("core","scrollToIfNecessary",function(e,t){return s.scrollToIfNecessary(e,t)}),s.api.registerMethod("core","scrollTo",function(e,t){return s.scrollTo(e,t)}),s.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),s.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),s.api.registerMethod("core","sortHandleNulls",u.handleNulls),s.api.registerEvent("core","sortChanged"),s.api.registerEvent("core","columnVisibilityChanged"),s.api.registerMethod("core","notifyDataChange",this.notifyDataChange),s.api.registerMethod("core","clearAllFilters",this.clearAllFilters),s.registerDataChangeCallback(s.columnRefreshCallback,[r.dataChange.COLUMN]),s.registerDataChangeCallback(s.processRowsCallback,[r.dataChange.EDIT]),s.registerDataChangeCallback(s.updateFooterHeightCallback,[r.dataChange.OPTIONS]),s.registerStyleComputation({priority:10,func:s.getFooterStyles})};return g.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},g.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},g.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},g.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},g.prototype.isRTL=function(){return this.rtl},g.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},g.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=i.getColumnsFromData(e,this.options.excludeProperties)},g.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},g.prototype.registerDataChangeCallback=function(e,t,n){var o=i.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||i.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var s=this,a=function(){delete s.dataChangeCallbacks[o]};return a},g.prototype.callDataChangeCallbacks=function(e){angular.forEach(this.dataChangeCallbacks,function(t){(-1!==t.types.indexOf(r.dataChange.ALL)||-1!==t.types.indexOf(e)||e===r.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},g.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):i.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},g.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.queueGridRefresh()},g.prototype.processRowsCallback=function(e){e.queueGridRefresh()},g.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},g.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},g.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},g.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var r=new s(t,n,e),o=e.rows.length>0?e.rows[0]:null;o?t.type=i.guessType(e.getCellValue(o,r)):(i.logWarn("Unable to assign type from data, so defaulting to string"),t.type="string")}})},g.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},g.prototype.addRowHeaderColumn=function(e){var t=this,n=new s(e,i.nextUid(),t);n.isRowHeader=!0,t.isRTL()?(t.createRightContainer(),n.renderContainer="right"):(t.createLeftContainer(),n.renderContainer="left"),t.columnBuilders[0](e,n,t.options).then(function(){n.enableFiltering=!1,n.enableSorting=!1,n.enableHiding=!1,t.rowHeaderColumns.push(n),t.buildColumns().then(function(){t.preCompileCellTemplates(),t.queueGridRefresh()})})},g.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){-1===e.rowHeaderColumns.indexOf(n)&&t.push(n)}),t},g.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var r,o=this,a=[],l=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);if(o.rowHeaderColumns.forEach(function(e){o.columns.unshift(e)}),o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new s(e,i.nextUid(),o),o.columns.splice(t+l,0,n)),o.columnBuilders.forEach(function(t){a.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var u=o.columns.slice(0),c=Math.min(o.options.columnDefs.length,o.columns.length);for(r=0;c>r;r++)u[r+l]=o.columns[r+l].name!==o.options.columnDefs[r].name?o.getColumn(o.options.columnDefs[r].name):o.columns[r+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(u))}return e.all(a).then(function(){o.rows.length>0&&o.assignTypes()})},g.prototype.preCompileCellTemplates=function(){var e=this,n=function(n){var i=n.cellTemplate.replace(r.MODEL_COL_FIELD,e.getQualifiedColField(n));i=i.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var o=t(i);n.compiledElementFn=o,n.compiledElementFnDefer&&n.compiledElementFnDefer.resolve(n.compiledElementFn)};this.columns.forEach(function(e){e.cellTemplate?n(e):e.cellTemplatePromise&&e.cellTemplatePromise.then(function(){n(e)})})},g.prototype.getQualifiedColField=function(e){return"row.entity."+i.preEval(e.field)},g.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new h("left",this,{disableColumnOffset:!0}))},g.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new h("right",this,{disableColumnOffset:!0}))},g.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},g.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},g.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var n=e.field,i=2;t.getColumn(n);)n=e.field+i.toString(),i++;e.name=n}},g.prototype.newInN=function(e,t,n,i){for(var r=this,o=[],s=0;s<t.length;s++){for(var a=i?t[s][i]:t[s],l=!1,u=0;u<e.length;u++){var c=n?e[u][n]:e[u];if(r.options.rowEquality(a,c)){l=!0;break}}l||o.push(a)}return o},g.prototype.getRow=function(e,t){var n=this;t="undefined"==typeof t?n.rows:t;var i=t.filter(function(t){return n.options.rowEquality(t.entity,e)});return i.length>0?i[0]:null},g.prototype.modifyRows=function(t){var n=this,i=n.rows.slice(0),r=n.rowHashMap||n.createRowHashMap();n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var o;o=n.options.enableRowHashing?r.get(e):n.getRow(e,i),o||(o=n.processRowBuilders(new a(e,t,n))),n.rows.push(o),n.rowHashMap.put(e,o)}),n.assignTypes();var o=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}),s=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)});return e.all([o,s])},g.prototype.addRows=function(e){for(var t=this,n=t.rows.length,i=0;i<e.length;i++){var r=t.processRowBuilders(new a(e[i],i+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(r.entity);o&&(o.row=r)}t.rows.push(r)}},g.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},g.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},g.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,i){n.processor===e&&(t=i)}),-1!==t&&this.rowsProcessors.splice(t,1)},g.prototype.processRowsProcessors=function(t){function n(t,r){var s=i.rowsProcessors[t].processor;return e.when(s.call(i,r,i.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=i.rowsProcessors.length-1?n(t,e):(o.resolve(e),void 0)})}var i=this,r=t.slice(0);if(0===i.rowsProcessors.length)return e.when(r);var o=e.defer();return n(0,r),o.promise},g.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.canvasHeightShouldUpdate=!0,"undefined"==typeof i.visibleRowCache?i.visibleRowCache=[]:i.visibleRowCache.length=0}for(var r=0;r<e.length;r++){var o=e[r],s="undefined"!=typeof o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[s].visibleRowCache.push(o)}t.api.core.raise.rowsRendered(this.api)},g.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},g.prototype.processColumnsProcessors=function(t){function n(t,s){var a=i.columnsProcessors[t].processor;return e.when(a.call(i,s,i.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=i.columnsProcessors.length-1?n(t,r):(o.resolve(r),void 0)})}var i=this,r=t.slice(0);if(0===i.columnsProcessors.length)return e.when(r);var o=e.defer();return n(0,r),o.promise},g.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.visibleColumnCache.length=0}for(var r=0;r<e.length;r++){var o=e[r];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},g.prototype.handleWindowResize=function(){var e=this;e.gridWidth=i.elementWidth(e.element),e.gridHeight=i.elementHeight(e.element),e.queueRefresh()},g.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&d.cancel(e.refreshCanceller),e.refreshCanceller=d(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},g.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&d.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=d(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}),e.gridRefreshCanceller},g.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},g.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},g.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,i=0;return e.columns.forEach(function(r,o){if(t>i)i+=r.drawnWidth,n++;else{for(var s=0,a=o;a>=o-n;a--)s+=e.columns[a].drawnWidth;t>s&&n++}}),n},g.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},g.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,n=e.getViewportAdjustment();return t+=n.height},g.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,n=e.getViewportAdjustment();return t+=n.width},g.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},g.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},g.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},g.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var i=0;i<n.length;i++){var r=n[i];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var s=0;s<o.length;s++){var a=o[s];this.horizontalScrollSyncCallBackFns[a]&&this.horizontalScrollSyncCallBackFns[a](t)}}},g.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},g.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},g.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},g.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},g.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},g.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},g.prototype.searchRows=function(e){return c.search(this,e,this.columns)
},g.prototype.sortByColumn=function(e){return u.sort(this,e,this.columns)},g.prototype.getCellValue=function(e,t){return"undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},g.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>t&&(t=e.sort.priority)}),t+1},g.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},g.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(u.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===r.ASC||e.sort.direction===r.DESC)&&n.push(e)}),n},g.prototype.sortColumn=function(t,n,i){var o=this,s=null;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");return"boolean"==typeof n?i=n:s=n,i?t.sort.priority||(t.sort.priority=o.getNextColumnSortPriority()):(o.resetColumnSorting(t),t.sort.priority=0,t.sort.priority=o.getNextColumnSortPriority()),s?t.sort.direction=s:t.sort.direction&&t.sort.direction===r.ASC?t.sort.direction=r.DESC:t.sort.direction&&t.sort.direction===r.DESC?t.colDef&&t.suppressRemoveSort?t.sort.direction=r.ASC:t.sort={}:t.sort.direction=r.ASC,o.api.core.raise.sortChanged(o,o.getColumnSorting()),e.when(t)},g.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},g.prototype.createRowHashMap=function(){var e=this,t=new f;return t.grid=e,t},g.prototype.refresh=function(t){var n=this,i=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}),r=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)});return e.all([i,r]).then(function(){n.redrawInPlace(t),n.refreshCanvas(!0)})},g.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},g.prototype.refreshCanvas=function(t){var n=this;t&&n.buildStyles();var r=e.defer(),o=[];for(var s in n.renderContainers)if(n.renderContainers.hasOwnProperty(s)){var a=n.renderContainers[s];if(null===a.canvasWidth||isNaN(a.canvasWidth))continue;(a.header||a.headerCanvas)&&(a.explicitHeaderHeight=a.explicitHeaderHeight||null,a.explicitHeaderCanvasHeight=a.explicitHeaderCanvasHeight||null,o.push(a))}return o.length>0?(t&&n.buildStyles(),d(function(){var e,s,a=!1,l=0,u=0,c=function(e,t){return e!==t&&(a=!0),t};for(e=0;e<o.length;e++)if(s=o[e],null!==s.canvasWidth&&!isNaN(s.canvasWidth)){if(s.header){var h=s.headerHeight=c(s.headerHeight,parseInt(i.outerElementHeight(s.header),10)),d=i.getBorderSize(s.header,"top"),p=i.getBorderSize(s.header,"bottom"),f=parseInt(h-d-p,10);f=0>f?0:f,s.innerHeaderHeight=f,!s.explicitHeaderHeight&&f>l&&(l=f)}if(s.headerCanvas){var g=s.headerCanvasHeight=c(s.headerCanvasHeight,parseInt(i.outerElementHeight(s.headerCanvas),10));!s.explicitHeaderCanvasHeight&&g>u&&(u=g)}}for(e=0;e<o.length;e++)s=o[e],l>0&&"undefined"!=typeof s.headerHeight&&null!==s.headerHeight&&(s.explicitHeaderHeight||s.headerHeight<l)&&(s.explicitHeaderHeight=c(s.explicitHeaderHeight,l)),u>0&&"undefined"!=typeof s.headerCanvasHeight&&null!==s.headerCanvasHeight&&(s.explicitHeaderCanvasHeight||s.headerCanvasHeight<u)&&(s.explicitHeaderCanvasHeight=c(s.explicitHeaderCanvasHeight,u));t&&a&&n.buildStyles(),r.resolve()})):d(function(){r.resolve()}),r.promise},g.prototype.redrawInPlace=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];e?(i.adjustRows(i.prevScrollTop,null),i.adjustColumns(i.prevScrollLeft,null)):(i.adjustRows(null,i.prevScrolltopPercentage),i.adjustColumns(null,i.prevScrollleftPercentage))}},g.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},g.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},g.prototype.scrollToIfNecessary=function(t,n){var i=this,r=new p(i,"uiGrid.scrollToIfNecessary"),o=i.renderContainers.body.visibleRowCache,s=i.renderContainers.body.visibleColumnCache,a=i.renderContainers.body.prevScrollTop+i.headerHeight;a=0>a?0:a;var l=i.renderContainers.body.prevScrollLeft,u=i.renderContainers.body.prevScrollTop+i.gridHeight-i.renderContainers.body.headerHeight-i.footerHeight-i.scrollbarWidth,c=i.renderContainers.body.prevScrollLeft+Math.ceil(i.gridWidth);if(null!==t){var h=o.indexOf(t),d=i.renderContainers.body.getCanvasHeight()-i.renderContainers.body.getViewportHeight(),f=(h+1)*i.options.rowHeight;f=0>f?0:f;var g,m;a>f?(g=i.renderContainers.body.prevScrollTop-(a-f),m=g/d,r.y={percentage:m}):f>u&&(g=f-u+i.renderContainers.body.prevScrollTop,m=g/d,r.y={percentage:m})}if(null!==n){for(var v=s.indexOf(n),y=i.renderContainers.body.getCanvasWidth()-i.renderContainers.body.getViewportWidth(),b=0,w=0;v>w;w++){var C=s[w];b+=C.drawnWidth}b=0>b?0:b;var x=b+n.drawnWidth;x=0>x?0:x;var A,S;l>b?(A=i.renderContainers.body.prevScrollLeft-(l-b),S=A/y,S=S>1?1:S,r.x={percentage:S}):x>c&&(A=x-c+i.renderContainers.body.prevScrollLeft,S=A/y,S=S>1?1:S,r.x={percentage:S})}var _=e.defer();if(r.y||r.x){r.withDelay=!1,i.scrollContainers("",r);var E=i.api.core.on.scrollEnd(null,function(){_.resolve(r),E()})}else _.resolve();return _.promise},g.prototype.scrollTo=function(e,t){var n=null,i=null;return null!==e&&"undefined"!=typeof e&&(n=this.getRow(e)),null!==t&&"undefined"!=typeof t&&(i=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,i)},g.prototype.clearAllFilters=function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e?this.refreshRows():void 0},f.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},g}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,i,r){function o(e,n,i,r){return t.$on(e,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),n.apply(r?r:i.api,e)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged")};return s.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=[];i.forEach(function(e){r=n.listeners.filter(function(t){return e===t.handler})}),r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=o(e.eventId,e.handler,n.grid,e._this)})},s.prototype.registerEvent=function(e,i){var r=this;r[e]||(r[e]={});var s=r[e];s.on||(s.on={},s.raise={});var a=r.grid.id+e+i;s.raise[i]=function(){t.$emit.apply(t,[a].concat(Array.prototype.slice.call(arguments)))},s.on[i]=function(t,s,l){if(null!==t&&"undefined"==typeof t.$on)return n.logError("asked to listen on "+e+".on."+i+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering"),void 0;var u=o(a,s,r.grid,l),c={handler:s,dereg:u,eventId:a,scope:t,_this:l};r.listeners.push(c);var h=function(){c.dereg();var e=r.listeners.indexOf(c);r.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){h()}),h}},s.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var i={name:t,events:[]};angular.forEach(e,function(e,t){i.events.push(t)}),n.push(i)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},s.prototype.registerMethod=function(e,t,i,r){this[e]||(this[e]={});var o=this[e];o[t]=n.createBoundedWrapper(r||this.grid,i)},s.prototype.registerMethodsFromObject=function(e,t){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(i){n.registerMethod(e.name,i.name,i.fn,t)})})},s}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function i(e,n,r){var o=this;o.grid=r,o.uid=n,o.updateColumnDef(e,!0),i.prototype.hideColumn=function(){this.colDef.visible=!1},o.aggregationValue=void 0,o.updateAggregationValue=function(){if(!o.aggregationType)return o.aggregationValue=void 0,void 0;var e=0,n=o.grid.getVisibleRows(),i=function(){var e=[];return n.forEach(function(t){var n=o.grid.getCellValue(t,o),i=Number(n);isNaN(i)||e.push(i)}),e};angular.isFunction(o.aggregationType)?o.aggregationValue=o.aggregationType(n,o):o.aggregationType===t.aggregationTypes.count?o.aggregationValue=o.grid.getVisibleRowCount():o.aggregationType===t.aggregationTypes.sum?(i().forEach(function(t){e+=t}),o.aggregationValue=e):o.aggregationType===t.aggregationTypes.avg?(i().forEach(function(t){e+=t}),e/=i().length,o.aggregationValue=e):o.aggregationValue=o.aggregationType===t.aggregationTypes.min?Math.min.apply(null,i()):o.aggregationType===t.aggregationTypes.max?Math.max.apply(null,i()):""},this.getAggregationValue=function(){return o.aggregationValue}}return i.prototype.setPropertyOrDefault=function(e,t,n){var i=this;i[t]="undefined"!=typeof e[t]&&e[t]?e[t]:"undefined"!=typeof i[t]?i[t]:n?n:{}},i.prototype.updateColumnDef=function(t,n){var r=this;if(r.colDef=t,void 0===t.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(t));r.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName;var o="Cannot parse column width '"+t.width+"' for column named '"+t.name+"'";if(e.isNullOrUndefined(r.width)||!angular.isNumber(r.width))if(e.isNullOrUndefined(t.width))r.width="*";else if(angular.isNumber(t.width))r.width=t.width;else if(e.endsWith(t.width,"%")){var s=t.width.replace(/%/g,""),a=parseInt(s,10);if(isNaN(a))throw new Error(o);r.width=t.width}else if(t.width.match(/^(\d+)$/))r.width=parseInt(t.width.match(/^(\d+)$/)[1],10);else{if(!t.width.match(/^\*+$/))throw new Error(o);r.width=t.width}r.minWidth=t.minWidth?t.minWidth:30,r.maxWidth=t.maxWidth?t.maxWidth:9e3,r.field=void 0===t.field?t.name:t.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=t.name,r.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName,r.aggregationType=angular.isDefined(t.aggregationType)?t.aggregationType:null,r.footerCellTemplate=angular.isDefined(t.footerCellTemplate)?t.footerCellTemplate:null,r.cellTooltip="undefined"==typeof t.cellTooltip||t.cellTooltip===!1?!1:t.cellTooltip===!0?function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof t.cellTooltip?t.cellTooltip:function(e,t){return t.colDef.cellTooltip},r.headerTooltip="undefined"==typeof t.headerTooltip||t.headerTooltip===!1?!1:t.headerTooltip===!0?function(e){return e.displayName}:"function"==typeof t.headerTooltip?t.headerTooltip:function(e){return e.colDef.headerTooltip},r.footerCellClass=t.footerCellClass,r.cellClass=t.cellClass,r.headerCellClass=t.headerCellClass,r.cellFilter=t.cellFilter?t.cellFilter:"",r.headerCellFilter=t.headerCellFilter?t.headerCellFilter:"",r.footerCellFilter=t.footerCellFilter?t.footerCellFilter:"",r.visible=e.isNullOrUndefined(t.visible)||t.visible,r.headerClass=t.headerClass,r.enableSorting="undefined"!=typeof t.enableSorting?t.enableSorting:!0,r.sortingAlgorithm=t.sortingAlgorithm,"undefined"==typeof r.suppressRemoveSort&&(r.suppressRemoveSort="undefined"!=typeof t.suppressRemoveSort?t.suppressRemoveSort:!1),r.enableFiltering="undefined"!=typeof t.enableFiltering?t.enableFiltering:!0,r.setPropertyOrDefault(t,"menuItems",[]),n&&r.setPropertyOrDefault(t,"sort");var l=[];t.filter?l.push(t.filter):t.filters?l=t.filters:l.push({}),n?(r.setPropertyOrDefault(t,"filter"),r.setPropertyOrDefault(t,"filters",l)):r.filters.length===l.length&&r.filters.forEach(function(e,t){"undefined"!=typeof l[t].placeholder&&(e.placeholder=l[t].placeholder),"undefined"!=typeof l[t].flags&&(e.flags=l[t].flags),"undefined"!=typeof l[t].type&&(e.type=l[t].type),"undefined"!=typeof l[t].selectOptions&&(e.selectOptions=l[t].selectOptions)}),i.prototype.unsort=function(){this.sort={},r.grid.api.core.raise.sortChanged(r.grid,r.grid.getColumnSorting())}},i.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},i.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},i.prototype.isPinnedRight=function(){return"right"===this.renderContainer},i.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},i.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},i.prototype.showColumn=function(){this.colDef.visible=!0},i.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},i.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},i.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},i}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=n.enableRowHashing!==!1,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=n.flatEntityAccess===!0,n.showHeader="undefined"!=typeof n.showHeader?n.showHeader:!0,n.headerRowHeight=n.showHeader?"undefined"!=typeof n.headerRowHeight?n.headerRowHeight:30:0,n.rowHeight=n.rowHeight||30,n.minRowsToShow="undefined"!=typeof n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=n.showGridFooter===!0,n.showColumnFooter=n.showColumnFooter===!0,n.columnFooterHeight="undefined"!=typeof n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight="undefined"!=typeof n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth="undefined"!=typeof n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount="undefined"!=typeof n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold="undefined"!=typeof n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold="undefined"!=typeof n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows="undefined"!=typeof n.excessRows?n.excessRows:4,n.scrollThreshold="undefined"!=typeof n.scrollThreshold?n.scrollThreshold:4,n.excessColumns="undefined"!=typeof n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold="undefined"!=typeof n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle="undefined"!=typeof n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle="undefined"!=typeof n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce="undefined"!=typeof n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=n.enableSorting!==!1,n.enableFiltering=n.enableFiltering===!0,n.enableColumnMenus=n.enableColumnMenus!==!1,n.enableVerticalScrollbar="undefined"!=typeof n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar="undefined"!=typeof n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=n.enableMinHeightCheck!==!1,n.minimumColumnSize="undefined"!=typeof n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],i.canvasHeightShouldUpdate=!0,i.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.updateColumnWidths(),i.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,i=e.getViewportHeight(),r=e.visibleRowCache.length-1;i>n&&r>=0;r--)n+=e.visibleRowCache[r].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,i=0,r=0;r<e.visibleColumnCache.length;r++){var o=e.visibleColumnCache[r];if(t>i)i+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var s=0,a=r;a>=r-n;a--)s+=e.visibleColumnCache[a].drawnWidth?e.visibleColumnCache[a].drawnWidth:0;t>s&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getMargin=function(e){var t=this,n=0;return t.viewportAdjusters.forEach(function(t){var i=t.call(this,{height:0,width:0});i.side&&i.side===e&&(n+=-1*i.width)}),n},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight,i=e.getViewportAdjustment();return n+=i.height},n.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,n=e.getViewportAdjustment();return t+=n.width},n.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},n.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var i=e-this.prevScrollTop;i>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>i&&(this.grid.scrollDirection=t.scrollDirection.UP);var r=this.getVerticalScrollLength();return n=e/r,n>1&&(n=1),0>n&&(n=0),this.adjustScrollVertical(e,n),n}},n.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var i=e-this.prevScrollLeft;i>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>i&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var r=this.canvasWidth-this.getViewportWidth();return n=0!==r?e/r:0,this.adjustScrollHorizontal(e,n),n}},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,t){var n=this,i=n.minRowsToRender(),r=n.visibleRowCache,o=r.length-i;"undefined"!=typeof t&&null!==t||!e||(t=e/n.getVerticalScrollLength());var s=Math.ceil(Math.min(o,o*t));s>o&&(s=o);var a=[];if(r.length>n.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(!n.grid.suppressParentScrollDown&&n.prevScrollTop<e&&s<n.prevRowScrollIndex+n.grid.options.scrollThreshold&&o>s)return;if(!n.grid.suppressParentScrollUp&&n.prevScrollTop>e&&s>n.prevRowScrollIndex-n.grid.options.scrollThreshold&&o>s)return}var l={},u={};l=Math.max(0,s-n.grid.options.excessRows),u=Math.min(r.length,s+i+n.grid.options.excessRows),a=[l,u]}else{var c=n.visibleRowCache.length;a=[0,Math.max(c,i+n.grid.options.excessRows)]}n.updateViewableRowRange(a),n.prevRowScrollIndex=s},n.prototype.adjustColumns=function(e,t){var n=this,i=n.minColumnsToRender(),r=n.visibleColumnCache,o=r.length-i;"undefined"!=typeof t&&null!==t||!e||(t=e/n.getCanvasWidth());var s=Math.ceil(Math.min(o,o*t));s>o&&(s=o);var a=[];if(r.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){var l=Math.max(0,s-n.grid.options.excessColumns),u=Math.min(r.length,s+i+n.grid.options.excessColumns);a=[l,u]}else{var c=n.visibleColumnCache.length;a=[0,Math.max(c,i+n.grid.options.excessColumns)]}n.updateViewableColumnRange(a),n.prevColumnScrollIndex=s},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},n.prototype.updateColumnWidths=function(){var t=this,n=[],i=0,r=0,o="",s=t.grid.getViewportWidth()-t.grid.scrollbarWidth,a=[];angular.forEach(t.grid.renderContainers,function(e){a=a.concat(e.visibleColumnCache)}),a.forEach(function(t){var o=0;t.visible&&(angular.isNumber(t.width)?(o=parseInt(t.width,10),r+=o,t.drawnWidth=o):e.endsWith(t.width,"%")?(o=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*s),o>t.maxWidth&&(o=t.maxWidth),o<t.minWidth&&(o=t.minWidth),r+=o,t.drawnWidth=o):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(i+=t.width.length,n.push(t)))});var l=s-r;if(n.length>0){var u=l/i;n.forEach(function(e){var t=parseInt(e.width.length*u,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),r+=t,e.drawnWidth=t})}for(var c=function(e){e.drawnWidth<e.maxWidth&&h>0&&(e.drawnWidth++,r++,h--,d=!0)},h=s-r,d=!0;h>0&&d;)d=!1,n.forEach(c);var p=function(e){e.drawnWidth>e.minWidth&&f>0&&(e.drawnWidth--,r--,f--,d=!0)},f=r-s;for(d=!0;f>0&&d;)d=!1,n.forEach(p);var g=0;t.visibleColumnCache.forEach(function(e){e.visible&&(g+=e.drawnWidth)}),a.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=g,this.columnStyles=o},n.prototype.getViewportStyle=function(){var e=this,n={};return e.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===e.name?(n["overflow-x"]=e.grid.options.enableHorizontalScrollbar===t.scrollbars.NEVER?"hidden":"scroll",n["overflow-y"]=e.grid.isRTL()?e.grid.hasLeftContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":e.grid.hasRightContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"):"left"===e.name?(n["overflow-x"]="hidden",n["overflow-y"]=e.grid.isRTL()?e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":"hidden"):(n["overflow-x"]="hidden",n["overflow-y"]=e.grid.isRTL()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"),n)},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,n,i){this.grid=i,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=i.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},t.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},t.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},t.prototype.clearThisRowInvisible=function(e,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},t.prototype.evaluateRowVisibility=function(e){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(e){e&&(t=!1)}),("undefined"==typeof this.visible||this.visible!==t)&&(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},t}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,i,r){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=r,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=i,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,n){var i=this;if(!i.newScrollLeft){var r,o=t.getCanvasWidth()-t.getViewportWidth(),s=e.normalizeScrollLeft(n,i.grid);if("undefined"!=typeof i.x.percentage&&void 0!==i.x.percentage)r=i.x.percentage;else{if("undefined"==typeof i.x.pixels||void 0===i.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");r=i.x.percentage=(s+i.x.pixels)/o}return Math.max(0,r*o)}return i.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var i,r=e.getVerticalScrollLength(),o=t[0].scrollTop;if("undefined"!=typeof n.y.percentage&&void 0!==n.y.percentage)i=n.y.percentage;else{if("undefined"==typeof n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");i=n.y.percentage=(o+n.y.pixels)/r}return Math.max(0,i*r)}return n.newScrollTop},t.prototype.atTop=function(e){return this.y&&0===this.y.percentage&&0===e},t.prototype.atBottom=function(e){return this.y&&1===this.y.percentage&&e>0},t.prototype.atLeft=function(e){return this.x&&0===this.x.percentage&&0===e},t.prototype.atRight=function(e){return this.x&&1===this.x.percentage&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,i,r,o){var s={createGrid:function(i){i="undefined"!=typeof i?i:{},i.id=e.newId();var r=new o(i);if(r.options.rowTemplate){var a=t.defer();r.getRowTemplateFn=a.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")})}return r.registerColumnBuilder(s.defaultColumnBuilder),r.registerRowBuilder(s.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e},50),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e},50),r.registerRowsProcessor(r.searchRows,100),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort,200):r.registerRowsProcessor(r.sortByColumn,200),r},defaultColumnBuilder:function(n,i){var o=[],s=function(t,s,a,l,u){i[s]=n[t]?n[t]:a,o.push(e.getTemplate(i[s]).then(function(e){var n="cellTooltip"===u?"col.cellTooltip(row,col)":"col.headerTooltip(col)";u&&i[u]===!1?e=e.replace(r.TOOLTIP,""):u&&i[u]&&(e=e.replace(r.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),i[t]=l?e.replace(r.CUSTOM_FILTERS,i[l]?"|"+i[l]:""):e},function(){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),i.cellTemplatePromise=o[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),i.compiledElementFnDefer=t.defer(),t.all(o)},rowTemplateAssigner:function(i){var r=this;if(i.rowTemplate){var o=t.defer();i.getRowTemplateFn=o.promise,e.getTemplate(i.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+i.rowTemplate+"'")})}else i.rowTemplate=r.options.rowTemplate,i.getRowTemplateFn=r.getRowTemplateFn;return i.getRowTemplateFn}};return s}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,n){var i=n.filter.CONTAINS,r={};return r.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},r.stripTerm=function(t){var n=r.getTerm(t);return"string"==typeof n?e(n.replace(/(^\*|\*$)/g,"")):n},r.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return i;var t=r.getTerm(e);if(/\*/.test(t)){var n="";
e.flags&&e.flags.caseSensitive||(n+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",n)}return i},r.setupFilters=function(e){for(var i=[],o=e.length,s=0;o>s;s++){var a=e[s];if(a.noTerm||!t.isNullOrUndefined(a.term)){var l={},u="";a.flags&&a.flags.caseSensitive||(u+="i"),t.isNullOrUndefined(a.term)||(l.term=r.stripTerm(a)),l.condition=a.condition?a.condition:r.guessCondition(a),l.flags=angular.extend({caseSensitive:!1,date:!1},a.flags),l.condition===n.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,u)),l.condition===n.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",u)),l.condition===n.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,u)),l.condition===n.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",u)),i.push(l)}}return i},r.runColumnFilter=function(e,t,i,r){var o=typeof r.condition,s=r.term,a=e.getCellValue(t,i);if(r.condition instanceof RegExp)return r.condition.test(a);if("function"===o)return r.condition(s,a,t,i);if(r.startswithRE)return r.startswithRE.test(a);if(r.endswithRE)return r.endswithRE.test(a);if(r.containsRE)return r.containsRE.test(a);if(r.exactRE)return r.exactRE.test(a);if(r.condition===n.filter.NOT_EQUAL){var l=new RegExp("^"+s+"$");return!l.exec(a)}if("number"==typeof a&&"string"==typeof s){var u=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(u)||(s=u)}return r.flags.date===!0&&(a=new Date(a),s=new Date(s.replace(/\\/g,""))),r.condition===n.filter.GREATER_THAN?a>s:r.condition===n.filter.GREATER_THAN_OR_EQUAL?a>=s:r.condition===n.filter.LESS_THAN?s>a:r.condition===n.filter.LESS_THAN_OR_EQUAL?s>=a:!0},r.searchColumn=function(e,t,n,i){if(e.options.useExternalFiltering)return!0;for(var o=i.length,s=0;o>s;s++){var a=i[s],l=r.runColumnFilter(e,t,n,a);if(!l)return!1}return!0},r.search=function(e,n,i){if(n){if(!e.options.enableFiltering)return n;for(var o=[],s=i.length,a=function(e){var n=!1;return e.forEach(function(e){(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(n=!0)}),n},l=0;s>l;l++){var u=i[l];"undefined"!=typeof u.filters&&a(u.filters)&&o.push({col:u,filters:r.setupFilters(u.filters)})}if(o.length>0){for(var c=function(e,t,n,i){t.visible&&!r.searchColumn(e,t,n,i)&&(t.visible=!1)},h=function(e,t){for(var i=n.length,r=0;i>r;r++)c(e,n[r],t.col,t.filters)},d=o.length,p=0;d>p;p++)h(e,o[p]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return n}},r}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?";new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$");var i={colSortFnCache:{}};return i.guessSortFn=function(e){switch(e){case"number":return i.sortNumber;case"numberStr":return i.sortNumberStr;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+e)}},i.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},i.basicSort=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e===t?0:t>e?-1:1},i.sortNumber=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e-t},i.sortNumberStr=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r,o,s=!1,a=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(s=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(a=!0),s&&a?0:s?1:a?-1:r-o},i.sortAlpha=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.toString().toLowerCase(),o=t.toString().toLowerCase();return r===o?0:o>r?-1:1},i.sortDate=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var r=e.getTime(),o=t.getTime();return r===o?0:o>r?-1:1},i.sortBool=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},i.getSortFn=function(e,t){var n;return i.colSortFnCache[t.colDef.name]?n=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(n=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):(n=i.guessSortFn(t.colDef.type),n?i.colSortFnCache[t.colDef.name]=n:n=i.sortAlpha),n},i.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority||0===e.sort.priority?-1:t.sort.priority||0===t.sort.priority?1:0},i.sort=function(e,n,r){if(n){if(e.options.useExternalSorting)return n;var o=[];if(r.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC||o.push(e)}),o=o.sort(i.prioritySort),0===o.length)return n;var s,a,l=function(e,t){e.entity.$$uiGridIndex=t};n.forEach(l);var u=n.slice(0),c=function(n,r){for(var l,c=0,h=0;0===c&&h<o.length;){s=o[h],a=o[h].sort.direction,l=i.getSortFn(e,s,u);var d=e.getCellValue(n,s),p=e.getCellValue(r,s);c=l(d,p),h++}return 0===c?n.entity.$$uiGridIndex-r.entity.$$uiGridIndex:a===t.ASC?c:0-c},h=n.sort(c),d=function(e){delete e.entity.$$uiGridIndex};return n.forEach(d),h}},i}])}(),function(){function e(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0,a=["Top","Right","Bottom","Left"];4>o;o+=2){var l=a[o];if("margin"===n){var u=parseFloat(r[n+l]);isNaN(u)||(s+=u)}if(i){if("content"===n){var c=parseFloat(r["padding"+l]);isNaN(c)||(s-=c)}if("margin"!==n){var h=parseFloat(r["border"+l+"Width"]);isNaN(h)||(s-=h)}}else{var d=parseFloat(r["padding"+l]);if(isNaN(d)||(s+=d),"padding"!==n){var p=parseFloat(r["border"+l+"Width"]);isNaN(p)||(s+=p)}}}return s}function n(n,i,r){var o,a=!0,l=e(n),u="border-box"===l.boxSizing;if(0>=o||null==o){if(o=l[i],(0>o||null==o)&&(o=n.style[i]),s.test(o))return o;a=u&&!0,o=parseFloat(o)||0}var c=o+t(n,i,r||(u?"border":"content"),a,l);return c}function i(t){t=angular.element(t)[0];var n=t.parentElement;return n||(n=document.getElementsByTagName("body")[0]),parseInt(e(n).fontSize)||parseInt(e(t).fontSize)||16}var r,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(r=function(){var e=Array.prototype.slice;return function(t){var n=this,i=e.call(arguments,1);return i.length?function(){return arguments.length?n.apply(t,i.concat(e.call(arguments))):n.apply(t,i)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var s=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),a=/^(block|none|table(?!-c[ea]).+)/,l={position:"absolute",visibility:"hidden",display:"block"},u=["0","0","0"],c="uiGrid-";o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,s,h,d,p,f,g,m,v,y,b){function w(e,t){var n=angular.element(this),i=0,r=0,o=0,s=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),i=0===o?r:o,"deltaY"in t&&(o=-1*t.deltaY,i=o),"deltaX"in t&&(r=t.deltaX,0===o&&(i=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var a=n.data("mousewheel-line-height");i*=a,o*=a,r*=a}else if(2===t.deltaMode){var l=n.data("mousewheel-page-height");i*=l,o*=l,r*=l}s=Math.max(Math.abs(o),Math.abs(r)),(!_||_>s)&&(_=s,x(t,s)&&(_/=40)),i=Math[i>=1?"floor":"ceil"](i/_),r=Math[r>=1?"floor":"ceil"](r/_),o=Math[o>=1?"floor":"ceil"](o/_),t.deltaMode=0;var u={originalEvent:t,deltaX:r,deltaY:o,deltaFactor:_,preventDefault:function(){t.preventDefault()}};S&&clearTimeout(S),S=setTimeout(C,200),e.call(n[0],u)}}function C(){_=null}function x(e,t){return"mousewheel"===e.type&&0===t%120}var A={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var i=e[0];return angular.forEach(i,function(e,i){-1===t.indexOf(i)&&n.push({name:i})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(p.get(e))return A.postProcessTemplate(p.get(e));if(e.hasOwnProperty("then"))return e.then(A.postProcessTemplate);try{if(angular.element(e).length>0)return v.when(e).then(A.postProcessTemplate)}catch(t){}return A.logDebug("fetching url",e),d({method:"GET",url:e}).then(function(t){var n=t.data.trim();return p.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(A.postProcessTemplate)},postProcessTemplate:function(e){var t=y.startSymbol(),n=y.endSymbol();return("{{"!==t||"}}"!==n)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r},fakeElement:function(e,t,n){var i,r,o=angular.element(e).clone()[0];for(r in t)o.style[r]=t[r];return angular.element(document.body).append(o),i=n.call(o,o),angular.element(o).remove(),i},normalizeWheelEvent:function(e){var t,n,i,r=e||window.event,o=([].slice.call(arguments,1),0),s=0,a=0,l=0,u=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),a=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(a=0,s=-1*o),r.deltaY&&(a=-1*r.deltaY,o=a),r.deltaX&&(s=r.deltaX,o=-1*s),void 0!==r.wheelDeltaY&&(a=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(s=r.wheelDeltaX),l=Math.abs(o),(!t||t>l)&&(t=l),u=Math.max(Math.abs(a),Math.abs(s)),(!n||n>u)&&(n=u),i=o>0?"floor":"ceil",o=Math[i](o/t),s=Math[i](s/n),a=Math[i](a/n),{delta:o,deltaX:s,deltaY:a}},isTouchEnabled:function(){var e;return("ontouchstart"in s||s.DocumentTouch&&h instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},arrayContainsObjectWithProperty:function(e,t,n){var i=!1;return angular.forEach(e,function(e){e[t]===n&&(i=!0)}),i},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=m.get("$animate"),t.enabled(!1,e)}catch(n){}},enableAnimations:function(e){var t;try{return t=m.get("$animate"),t.enabled(!0,e),t}catch(n){}},nextUid:function(){for(var e,t=u.length;t;){if(t--,e=u[t].charCodeAt(0),57===e)return u[t]="A",c+u.join("");if(90!==e)return u[t]=String.fromCharCode(e+1),c+u.join("");u[t]="0"}return u.unshift("0"),c+u.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=A.nextUid()):t=e,n+":"+t},resetUids:function(){u=["0","0","0"]},logError:function(e){b.LOG_ERROR_MESSAGES&&o.error(e)},logWarn:function(e){b.LOG_WARN_MESSAGES&&o.warn(e)},logDebug:function(){b.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};["width","height"].forEach(function(t){var i=angular.uppercase(t.charAt(0))+t.substr(1);A["element"+i]=function(i,r){var o=i;if(o&&"undefined"!=typeof o.length&&o.length&&(o=i[0]),o){var s=e(o);return 0===o.offsetWidth&&a.test(s.display)?A.swap(o,l,function(){return n(o,t,r)}):n(o,t,r)}return null},A["outerElement"+i]=function(e,t){return e?A["element"+i].call(this,e,t?"margin":"border"):null}}),A.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(n=e,!0):!1});for(var i;null!==e;){if(i=e.parentElement,null!==i&&i[n](t))return i;e=i}return null},A.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},A.getBorderSize=function(t,n){"undefined"!=typeof t.length&&t.length&&(t=t[0]);var i=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var r=parseInt(i[n],10);return isNaN(r)?0:r},A.detectBrowser=function(){var e=s.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},A.rtlScrollType=function $(){if($.type)return $.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),$.type=t,t},A.normalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(A.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},A.denormalizeScrollLeft=function(e,t,n){if("undefined"!=typeof e.length&&e.length&&(e=e[0]),n.isRTL())switch(A.rtlScrollType()){case"default":var i=e.scrollWidth-e.clientWidth;return i-t;case"negative":return-1*t;case"reverse":return t}return t},A.preEval=function(e){var t=b.BRACKET_REGEXP.exec(e);if(t)return(t[1]?A.preEval(t[1]):t[1])+t[2]+(t[3]?A.preEval(t[3]):t[3]);e=e.replace(b.APOS_REGEXP,"\\'");var n=e.split(b.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(b.FUNC_REGEXP,"']$1"))}),i.join("['")},A.debounce=function(e,t,n){function i(){s=this,o=arguments;var i=function(){r=null,n||(a=e.apply(s,o))},l=n&&!r;return r&&f.cancel(r),r=f(i,t),l&&(a=e.apply(s,o)),a}var r,o,s,a;return i.cancel=function(){f.cancel(r),r=null},i},A.throttle=function(e,t,n){function i(){s=+new Date,e.apply(r,o),g(function(){a=null},0,1)}n=n||{};var r,o,s=0,a=null;return function(){if(r=this,o=arguments,null===a){var e=+new Date-s;e>t?i():n.trailing&&(a=g(i,t-e,1))}}},A.on={},A.off={},A._events={},A.addOff=function(e){A.off[e]=function(t,n){var i=A._events[e].indexOf(n);i>0&&A._events[e].removeAt(i)}};var S,_,E="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return A.on.mousewheel=function(e,t){if(e&&t){var n=angular.element(e);n.data("mousewheel-line-height",i(n)),n.data("mousewheel-page-height",A.elementHeight(n)),n.data("mousewheel-callbacks")||n.data("mousewheel-callbacks",{});var o=n.data("mousewheel-callbacks");o[t]=(Function.prototype.bind||r).call(w,n[0],t);for(var s=E.length;s;)n.on(E[--s],o[t])}},A.off.mousewheel=function(e,t){var n=angular.element(this),i=n.data("mousewheel-callbacks"),r=i[t];if(r)for(var o=E.length;o;)n.off(E[--o],r);delete i[t],0===Object.keys(i).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},A}]),o.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"poloky"},groupPanel:{description:"Pesunt zhlav zde pro vytvoen skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji poloky:",selectedItems:"Vybran poloky:",totalItems:"Celkem poloek:",size:"Velikost strany:",first:"Prvn strana",next:"Dal strana",previous:"Pedchoz strana",last:"Posledn strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seadit od A-Z",descending:"Seadit od Z-A",remove:"Odebrat seazen"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem dk: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout v levo",pinRight:"Zamknout v pravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat vechny data do csv",exporterVisibleAsCsv:"Exportovat viditeln data do csv",exporterSelectedAsCsv:"Exportovat vybrann data do csv",exporterAllAsPdf:"Exportovat vechny data do pdf",exporterVisibleAsPdf:"Exportovat viditeln data do pdf",exporterSelectedAsPdf:"Exportovat vybrann data do pdf"},importer:{noHeaders:"Nzvy sloupc se nepodailo zskat, obsahuje soubor zhlav?",noObjects:"Data se nepodailo zpracovat, obsahuje soubor dky mimo zhlav?",invalidCsv:"Soubor nelze zpracovat, jedn se CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus obsahovat json. Ukonuji.."},pagination:{sizes:"poloek na strnku",totalItems:"poloek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil."},search:{placeholder:"Sg...",showingItems:"Viste rkker:",selectedItems:"Valgte rkker:",totalItems:"Rkker totalt:",size:"Side strrelse:",first:"Frste side",next:"Nste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vlg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rkker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Eintrge:",selectedItems:"Ausgewhlte Eintrge:",totalItems:"Eintrge gesamt:",size:"Eintrge pro Seite:",first:"Erste Seite",next:"Nchste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswhlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lsen"},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei auer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthlt sie gltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu ein Array enthalten. Breche Import ab."},pagination:{sizes:"Eintrge pro Seite",totalItems:"Eintrge"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu y sultelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artculos Mostrados:",selectedItems:"Artculos Seleccionados:",totalItems:"Artculos Totales:",size:"Tamao de Pgina:",first:"Primera Pgina",next:"Pgina Siguiente",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijacin"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar seleccin como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar seleccin como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, es un CSV vlido?",invalidJson:"No fue posible procesar el archivo, es un Json vlido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:""},groupPanel:{description:"            ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},column:{hide:"  "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko thn ryhmittksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Nytetn rivej:",selectedItems:"Valitut rivit:",totalItems:"Rivej yht.:",size:"Nyt:",first:"Ensimminen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Jrjest nouseva",descending:"Jrjest laskeva",remove:"Poista jrjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie nkyv tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie nkyv tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimi ei voitu ptell, onko tiedostossa otsikkorivi?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu ksitell, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu ksitell, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisltnyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"lments"},groupPanel:{description:"Faites glisser une en-tte de colonne ici pour crer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des lments :",selectedItems:"lments slectionns :",totalItems:"Nombre total d'lments:",size:"Taille de page:",first:"Premire page",next:"Page Suivante",previous:"Page prcdente",last:"Dernire page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre dcroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"pingler  gauche",pinRight:"pingler  droite",unpin:"Dtacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donnes en CSV",exporterVisibleAsCsv:"Exporter les donnes visibles en CSV",exporterSelectedAsCsv:"Exporter les donnes slectionnes en CSV",exporterAllAsPdf:"Exporter toutes les donnes en PDF",exporterVisibleAsPdf:"Exporter les donnes visibles en PDF",exporterSelectedAsPdf:"Exporter les donnes slectionnes en PDF"},importer:{noHeaders:"Impossible de dterminer le nom des colonnes, le fichier possde-t-il une en-tte ?",noObjects:"Aucun objet trouv, le fichier possde-t-il des donnes autres que l'en-tte ?",invalidCsv:"Le fichier n'a pas pu tre trait, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu tre trait, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import doit contenir un tableau, abandon."},pagination:{sizes:"lments par page",totalItems:"lments"},grouping:{group:"Grouper",ungroup:"Dgrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:":",selectedItems:'" :',totalItems:'" :',size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:""},column:{hide:" "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:""},groupPanel:{description:"        "},search:{placeholder:"...",showingItems:" ",selectedItems:":",totalItems:"",size:"  ",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:"  ",sum:" ",avg:" ",min:" ",max:" "},pinning:{pinLeft:"  ",pinRight:"  ",unpin:""},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"  CSV",exporterVisibleAsCsv:"   CSV",exporterSelectedAsCsv:"   CSV",exporterAllAsPdf:" PDF",exporterVisibleAsPdf:"   PDF",exporterSelectedAsPdf:"   PDF"},importer:{noHeaders:"        ",noObjects:"       ",invalidCsv:"       CSV ",invalidJson:"       Json ",jsonNotArray:" json     ,  "}}),e
}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"...",showingItems:":",selectedItems:":",totalItems:":",size:":",first:"",next:"",previous:"",last:""},menu:{text:":"},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:":",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"/",totalItems:""}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"csv   ",exporterVisibleAsCsv:"csv   ",exporterSelectedAsCsv:"csv   ",exporterAllAsPdf:"pdf   ",exporterVisibleAsPdf:"pdf   ",exporterSelectedAsPdf:"pdf   "},importer:{noHeaders:"   .      .",noObjects:"   .     .",invalidCsv:"   .  csv  .",invalidJson:"   .  json  .",jsonNotArray:"json    ."},pagination:{sizes:" ",totalItems:" "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O arquivo tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no arquivo, alm dos cabealhos?",invalidCsv:"Arquivo no pode ser processado.  um CSV vlido?",invalidJson:"Arquivo no pode ser processado.  um Json vlido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{sizes:"itens por pgina",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O ficheiro tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no ficheiro, alm dos cabealhos?",invalidCsv:"Ficheiro no pode ser processado.  um CSV vlido?",invalidJson:"Ficheiro no pode ser processado.  um Json vlido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{sizes:"itens por pgina",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},gridMenu:{columns:":",importerTitle:"Import file",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem nzov stpca pre zoskupenie poda toho stpca."},search:{placeholder:"Hadaj...",showingItems:"Zobrazujem poloky:",selectedItems:"Vybrat poloky:",totalItems:"Poet poloiek:",size:"Poet:",first:"Prv strana",next:"alia strana",previous:"Predchdzajca strana",last:"Posledn strana"},menu:{text:"Vyberte stpce:"},sort:{ascending:"Zotriedi vzostupne",descending:"Zotriedi zostupne",remove:"Vymaza triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och slpp den fr att gruppera efter den kolumnen."},search:{placeholder:"Sk...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Frsta sidan",next:"Nsta sida",previous:"Fregende sida",last:"Sista sidan"},menu:{text:"Vlj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Gm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fst vnster",pinRight:"Fst hger",unpin:"Lsgr"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte hrledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte hrledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil mste innehlla ett flt. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var i={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&i.add(e,t)}):i.add(e,t)},getAllLangs:function(){return i.getAllLangs()},get:function(e){var t=e?e:r.getCurrentLang();return i.get(t)},getSafeText:function(e,n){var o=n?n:r.getCurrentLang(),s=i.get(o);if(!s)return t.MISSING;for(var a=e.split("."),l=s,u=0;u<a.length;++u){if(void 0===l[a[u]]||null===l[a[u]])return t.MISSING;l=l[a[u]]}return l},setCurrentLang:function(e){e&&(i.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=i.getCurrentLang();return e||(e=t.DEFAULT_LANG,i.setCurrent(e)),e}};return r}]);var i=function(e,t){return{compile:function(){return{pre:function(n,i,r){var o=t.LOCALE_DIRECTIVE_ALIAS,s=n.$eval(r[o]);s?n.$watch(r[o],function(){e.setCurrentLang(s)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",i]);var r=function(t,n,i){return{restrict:"EA",compile:function(){return{pre:function(r,o,s){var a,l=e[0],u=e[1],c=s[l]||s[u]||o.html(),h=i.MISSING+c;if(s.$$observers){var d=s[l]?l:u;a=s.$observe(d,function(e){e&&o.html(t(e)(n.getCurrentLang())||h)})}var p=t(c),f=r.$on(i.UPDATE_EVENT,function(){a?a(s[l]||s[u]):o.html(p(n.get())||h)});r.$on("$destroy",f),o.html(p(n.get())||h)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",r])});var o=function(e,t,n){return function(i){var r=e(i);return r(t.get())||n.MISSING+i}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,i,r){function o(){l=t.elementHeight(n),a=t.elementWidth(n)}function s(){clearTimeout(u),u=setTimeout(function(){var i=t.elementHeight(n),u=t.elementWidth(n);i!==l||u!==a?(r.grid.gridHeight=i,r.grid.gridWidth=u,e.$apply(function(){r.grid.refresh().then(function(){o(),s()})})):s()},250)}var a,l;o();var u;s(),e.$on("$destroy",function(){clearTimeout(u)})}}}])}(),function(){"use strict";function e(e,t){this.row=e,this.col=t}var t=angular.module("ui.grid.cellNav",["ui.grid"]);t.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),t.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(t,n,i){var r=function(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[],this.bodyContainer=e};return r.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},r.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},r.prototype.getNextRowCol=function(e,t,n){switch(e){case i.direction.LEFT:return this.getRowColLeft(t,n);case i.direction.RIGHT:return this.getRowColRight(t,n);case i.direction.UP:return this.getRowColUp(t,n);case i.direction.DOWN:return this.getRowColDown(t,n);case i.direction.PG_UP:return this.getRowColPageUp(t,n);case i.direction.PG_DOWN:return this.getRowColPageDown(t,n)}},r.prototype.initializeSelection=function(){var t=this.getFocusableCols(),n=this.getFocusableRows();return 0===t.length||0===n.length?null:new e(n[0],t[0])},r.prototype.getRowColLeft=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),s=r.indexOf(t);-1===o&&(o=1);var a=0===o?i.length-1:o-1;return a>o?0===s?new e(t,i[a]):new e(r[s-1],i[a]):new e(t,i[a])},r.prototype.getRowColRight=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),s=r.indexOf(t);-1===o&&(o=0);var a=o===i.length-1?0:o+1;return o>a?s===r.length-1?new e(t,i[a]):new e(r[s+1],i[a]):new e(t,i[a])},r.prototype.getRowColDown=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),s=r.indexOf(t);return-1===o&&(o=0),s===r.length-1?new e(t,i[o]):new e(r[s+1],i[o])},r.prototype.getRowColPageDown=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),s=r.indexOf(t);-1===o&&(o=0);var a=this.bodyContainer.minRowsToRender();return s>=r.length-a?new e(r[r.length-1],i[o]):new e(r[s+a],i[o])},r.prototype.getRowColUp=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),s=r.indexOf(t);return-1===o&&(o=0),0===s?new e(t,i[o]):new e(r[s-1],i[o])},r.prototype.getRowColPageUp=function(t,n){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(n),s=r.indexOf(t);-1===o&&(o=0);var a=this.bodyContainer.minRowsToRender();return 0>s-a?new e(r[0],i[o]):new e(r[s-a],i[o])},r}]),t.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(e,t,n,i,r){var o={initializeGrid:function(e){e.registerColumnBuilder(o.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],o.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(){},viewPortKeyDown:function(){}}},methods:{cellNav:{scrollToFocus:function(t,n){return o.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,i=0;i<e.cellNav.focusedCells.length;i++)if(e.cellNav.focusedCells[i].col.uid===t.col.uid&&e.cellNav.focusedCells[i].row.uid===t.row.uid){n=i;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e){var t=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,i.all(t)},scrollToFocus:function(e,t,n){var i=null,r=null;return"undefined"!=typeof t&&null!==t&&(i=e.getRow(t)),"undefined"!=typeof n&&null!==n&&(r=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(i,r).then(function(){var t={row:i,col:r};null!==i&&null!==r&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){i>t&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return o}]),t.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","$timeout",function(t,n,i,r){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(t,o,s,a){var l=t,u=a.grid;n.initializeGrid(u),a.cellNav={},a.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},a.cellNav.broadcastCellNav=u.cellNav.broadcastCellNav=function(e,t){t=!(void 0===t||!t),a.cellNav.broadcastFocus(e,t),l.$broadcast(i.CELL_NAV_EVENT,e,t)},a.cellNav.clearFocus=u.cellNav.clearFocus=function(){l.$broadcast(i.CELL_NAV_EVENT,{eventType:i.EVENT_TYPE.CLEAR})},a.cellNav.broadcastFocus=function(t,n){n=!(void 0===n||!n);var i=t.row,r=t.col,o=a.grid.api.cellNav.rowColSelectIndex(t);if(null===u.cellNav.lastRowCol||-1===o){var s=new e(i,r);u.api.cellNav.raise.navigate(s,u.cellNav.lastRowCol),u.cellNav.lastRowCol=s,a.grid.options.modifierKeysToMultiSelectCells&&n?u.cellNav.focusedCells.push(t):u.cellNav.focusedCells=[t]}else u.options.modifierKeysToMultiSelectCells&&n&&o>=0&&u.cellNav.focusedCells.splice(o,1)},a.cellNav.handleKeyDown=function(e){var t=n.getDirection(e);if(null===t)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var s=a.grid.api.cellNav.getFocusedCell();if(s){var l=a.grid.renderContainers[o].cellNav.getNextRowCol(t,s.row,s.col),c=a.grid.renderContainers[o].cellNav.getFocusableCols(),h=a.grid.api.cellNav.rowColSelectIndex(l);return t===i.direction.LEFT&&l.col===c[c.length-1]&&l.row===s.row&&e.keyCode===r.keymap.TAB&&e.shiftKey?(u.cellNav.focusedCells.splice(h,1),a.cellNav.clearFocus(),!0):t!==i.direction.RIGHT||l.col!==c[0]||l.row!==s.row||e.keyCode!==r.keymap.TAB||e.shiftKey?(u.scrollToIfNecessary(l.row,l.col).then(function(){a.cellNav.broadcastCellNav(l)}),e.stopPropagation(),e.preventDefault(),!1):(u.cellNav.focusedCells.splice(h,1),a.cellNav.clearFocus(),!0)}}},post:function(){}}}}}]),t.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,i,r,o,s){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(e,t,n,i){var a=i[0],l=i[1];if(a.grid.api.cellNav){var u=l.containerId,c=a.grid;if("body"===u){r.decorateRenderContainers(c);var h=o('<div class="ui-grid-focuser" tabindex="0"></div>')(e);t.append(h),a.focus=function(){h[0].focus(),h.on("focus",function(e){e.uiGridTargetRenderContainerId=u;var t=a.grid.api.cellNav.getFocusedCell();null===t&&(t=a.grid.renderContainers[u].cellNav.getNextRowCol(s.direction.DOWN,null,null),t.row&&t.col&&a.cellNav.broadcastCellNav(t))})},h.on("keydown",function(e){e.uiGridTargetRenderContainerId=u;var t=a.grid.api.cellNav.getFocusedCell(),n=a.cellNav.handleKeyDown(e);null===n&&a.grid.api.cellNav.raise.viewPortKeyDown(e,t)})}}}}}}}]),t.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(){},post:function(e,t,n,i){var r=i[0],o=i[1];if(r.grid.api.cellNav){var s=o.containerId;if("body"===s){var a=r.grid;r.focus(),a.api.core.on.scrollBegin(e,function(){var e=r.grid.api.cellNav.getFocusedCell();if(null!=e&&o.colContainer.containsColumn(e.col)){var n=t[0].getElementsByClassName("ui-grid-cell-focus");Array.prototype.forEach.call(n,function(e){angular.element(e).removeClass("ui-grid-cell-focus")})}}),a.api.core.on.scrollEnd(e,function(){var e=r.grid.api.cellNav.getFocusedCell();null!=e&&o.colContainer.containsColumn(e.col)&&r.cellNav.broadcastCellNav(e)}),a.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}}]),t.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(t,n,i,r,o){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(t,n,i,r){function s(){var e=n.find("div");e.addClass("ui-grid-cell-focus")}function a(){var e=n.find("div");e.removeClass("ui-grid-cell-focus")}r.grid.api.cellNav&&t.col.colDef.allowCellFocus&&(n.find("div").on("click",function(n){r.cellNav.broadcastCellNav(new e(t.row,t.col),n.ctrlKey||n.metaKey),n.stopPropagation(),t.$apply()}),n.find("div").on("focus",function(n){r.cellNav.broadcastCellNav(new e(t.row,t.col),n.ctrlKey||n.metaKey)}),t.$on(o.CELL_NAV_EVENT,function(e,n,i){return e.eventType===o.EVENT_TYPE.CLEAR?(a(),void 0):(n.row===t.row&&n.col===t.col?r.grid.options.modifierKeysToMultiSelectCells&&i&&-1===r.grid.api.cellNav.rowColSelectIndex(n)?a():s():r.grid.options.modifierKeysToMultiSelectCells&&i||a(),void 0)}),t.$on("$destroy",function(){n.find("div").off("click")}))}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(t,i,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){i.editableCellTemplate=e},function(){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?!1:!0}};return i}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)
},post:function(){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,i,r){var o=r[0];if(o.grid.api.edit&&o.grid.api.cellNav){var s=r[1].containerId;"body"===s&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope",function(e,t,n,i,r,o,s,a,l){var u=500;return t.has("uiGridCellNavService")&&t.get("uiGridCellNavService"),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,c,h,d){function p(){c.on("dblclick",b),c.on("touchstart",f),d&&d.grid.api.cellNav&&(k=d.grid.api.cellNav.on.navigate(t,function(e){t.col.colDef.enableCellEditOnFocus&&e.row===t.row&&e.col===t.col&&n(function(){b()})}))}function f(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),c.on("touchend",g),E=n(function(){},u),E.then(function(){setTimeout(b,0),c.off("touchend",g)})}function g(){n.cancel(E),c.off("touchend",g)}function m(){c.off("dblclick",b),c.off("keydown",v),c.off("touchstart",f),k()}function v(e){a.isStartEditKey(e)&&b(e)}function y(e,n){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}function b(n){if(!T&&y(t.col,t.row)){_=s(t.row.getQualifiedColField(t.col)),S=_(t),A=t.col.editableCellTemplate,A=t.col.colDef.editModelField?A.replace(i.MODEL_COL_FIELD,o.preEval("row.entity."+t.col.colDef.editModelField)):A.replace(i.MODEL_COL_FIELD,t.row.getQualifiedColField(t.col)),A=A.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var a=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";A=A.replace(i.CUSTOM_FILTERS,a);var u="text";switch(t.col.colDef.type){case"boolean":u="checkbox";break;case"number":u="number";break;case"date":u="date"}A=A.replace("INPUT_TYPE",u);var h=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=h?x(t.row.entity,h):t.col.colDef.editDropdownOptionsArray,t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var d=function(){T=!0,m();var n=angular.element(A);c.append(n),$=t.$new(),e(n)($);var i=angular.element(c.children()[0]);i.addClass("ui-grid-cell-contents-hidden")};l.$$phase?d():t.$apply(d);var p=t.col.grid.api.core.on.scrollBegin(t,function(){w(!0),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,_(t),S),p(),f(),g()}),f=t.$on(r.events.END_CELL_EDIT,function(e,n){w(n),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,_(t),S),f(),p(),g()}),g=t.$on(r.events.CANCEL_CELL_EDIT,function(){C(),g(),p(),f()});t.$broadcast(r.events.BEGIN_CELL_EDIT,n),t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,n)}}function w(){if(t.grid.disableScrolling=!1,T){var e=angular.element(c.children()[0]);$.$destroy(),angular.element(c.children()[1]).remove(),e.removeClass("ui-grid-cell-contents-hidden"),T=!1,p(),t.grid.api.core.notifyDataChange(i.dataChange.EDIT)}}function C(){t.grid.disableScrolling=!1,T&&(_.assign(t,S),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),w(!0))}function x(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var i=n.shift();if(!(i in e))return;e=e[i]}return e}var A,S,_,E,$,T=!1;if(t.col.colDef.enableCellEdit){var k=function(){};d&&d.grid.api.cellNav&&d.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||(v(e),d.grid.api.core.scrollToIfNecessary(n.row,n.col)))});var D=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?p():m()};D();var F=t.$watch("row",D);t.$on("$destroy",F)}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(e,r,o,s){var a,l;s[0]&&(a=s[0]),s[1]&&(l=s[1]),e.$on(n.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(t){e.stopEdit(t)})}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},r.on("click",function(){"checkbox"!==r[0].type&&(e.deepEdit=!0,i(function(){e.grid.disableScrolling=!0}))}),r.on("keydown",function(i){switch(i.keyCode){case t.keymap.ESC:i.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||i.keyCode!==t.keymap.LEFT&&i.keyCode!==t.keymap.RIGHT&&i.keyCode!==t.keymap.UP&&i.keyCode!==t.keymap.DOWN)if(a&&a.grid.api.cellNav)i.uiGridTargetRenderContainerId=l.containerId,null!==a.cellNav.handleKeyDown(i)&&e.stopEdit(i);else switch(i.keyCode){case t.keymap.ENTER:case t.keymap.TAB:i.stopPropagation(),i.preventDefault(),e.stopEdit(i)}else i.stopPropagation();return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return 1>i||1>n||1>r?null:new Date(n,i-1,r)}return{priority:-100,require:"?ngModel",link:function(n,i,r,o){2===angular.version.minor&&r.type&&"date"===r.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var n=t(e);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(){},post:function(n,i,r,o){var s=o[0],a=o[1];n.$on(t.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].style.width=i[0].parentElement.offsetWidth-1+"px",i.on("blur",function(e){n.stopEdit(e)})}),n.stopEdit=function(){n.$emit(t.events.END_CELL_EDIT)},i.on("keydown",function(i){switch(i.keyCode){case e.keymap.ESC:i.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT)}if(s&&s.grid.api.cellNav)i.uiGridTargetRenderContainerId=a.containerId,null!==s.cellNav.handleKeyDown(i)&&n.stopEdit(i);else switch(i.keyCode){case e.keymap.ENTER:case e.keymap.TAB:i.stopPropagation(),i.preventDefault(),n.stopEdit(i)}return!0})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(t,i,r,o){var s,a;o[0]&&(s=o[0]),o[1]&&(a=o[1]),s.grid;var l=function(i){var r=i.srcElement||i.target;r&&r.files&&r.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,r.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),r.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)};i[0].addEventListener("change",l,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].select(),i.on("blur",function(){t.$emit(n.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e){var t={initializeGrid:function(n){n.expandable={},n.expandable.expandedAll=!1,n.options.enableExpandable=n.options.enableExpandable!==!1,n.options.expandableRowHeight=n.options.expandableRowHeight||150,n.options.expandableRowHeaderWidth=n.options.expandableRowHeaderWidth||40,n.options.enableExpandable&&!n.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),n.options.enableExpandable=!1);var i={events:{expandable:{rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(e){var i=n.getRow(e);null!==i&&t.toggleRowExpansion(n,i)},expandAllRows:function(){t.expandAllRows(n)},collapseAllRows:function(){t.collapseAllRows(n)},toggleAllRows:function(){t.toggleAllRows(n)}}}};n.api.registerEventsFromObject(i.events),n.api.registerMethodsFromObject(i.methods)},toggleRowExpansion:function(e,t){t.isExpanded=!t.isExpanded,t.isExpanded?t.height=t.grid.options.rowHeight+e.options.expandableRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(n){n.isExpanded||t.toggleRowExpansion(e,n)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(n){n.isExpanded&&t.toggleRowExpansion(e,n)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?t.collapseAllRows(e):t.expandAllRows(e)}};return t}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,o){if(o.grid.options.enableExpandableRowHeader!==!1){var s={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};s.cellTemplate=t.get("ui-grid/expandableRowHeader"),s.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(s)}e.initializeGrid(o.grid)},post:function(){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){i.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(i.grid.parentRow=e.row)})},post:function(){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,i,r){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(i){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var s=n(i)(e);t.append(s),e.row.expandedRendered=!0})},post:function(e){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(e){e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t}},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),i=n.get("ui-grid/expandableScrollFiller"),r=n.get("ui-grid/expandableRow");return t.append(r),t.append(i),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,i,r,o){var s={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){s.csvExport(e,t,n)},pdfExport:function(t,n){s.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?s.addToMenu(e):r(function(){e.api.core.addToGridMenu&&s.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=e.exporterOlderExcelCompatibility===!0,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0!==e.exporterMenuAllData?e.exporterMenuAllData:!0,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,i){return i},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv},order:201},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf},order:204},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=i.getColumnHeaders(e,n),o=i.getData(e,t,n),s=i.formatAsCsv(r,o,e.options.exporterCsvColumnSeparator);i.downloadFile(e.options.exporterCsvFilename,s,e.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(n,i){if(i===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var r=e.defer();return r.resolve(),r.promise},getColumnHeaders:function(e,n){var i,r=[];return i=n===t.ALL?e.columns:e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}),i.forEach(function(t){t.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&r.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),r},getData:function(e,i,r){var o,s,a=[];switch(i){case t.ALL:o=e.rows;break;case t.VISIBLE:o=e.getVisibleRows();break;case t.SELECTED:e.api.selection?o=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}return s=r===t.ALL?e.columns:e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}),o.forEach(function(n){if(n.exporterEnableExporting!==!1){var i=[];s.forEach(function(o){if((o.visible||r===t.ALL)&&o.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(o.name)){var s={value:e.options.exporterFieldCallback(e,n,o,e.getCellValue(n,o))};o.colDef.exporterPdfAlign&&(s.alignment=o.colDef.exporterPdfAlign),i.push(s)}}),a.push(i)}}),a},formatAsCsv:function(e,t,n){var i=this,r=e.map(function(e){return{value:e.displayName}}),o=i.formatRowAsCsv(this,n)(r)+"\n";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):!1},downloadFile:function(e,t,n){var i,r,o=document,s=o.createElement("a"),a="application/octet-stream;charset=utf-8";if(r=this.isIE(),r&&10>r){var l=o.createElement("iframe");return document.body.appendChild(l),l.contentWindow.document.open("text/html","replace"),l.contentWindow.document.write("sep=,\r\n"+t),l.contentWindow.document.close(),l.contentWindow.focus(),l.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(l),!0}if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([n?"":"",t],{type:a}),e);if("download"in s){var u=new Blob([n?"":"",t],{type:a});i=URL.createObjectURL(u),s.setAttribute("download",e)}else i="data:"+a+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=i,s.setAttribute("style","display:none;"),o.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}o.body.removeChild(s)},this.delay)},pdfExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=i.getColumnHeaders(e,n),o=i.getData(e,t,n),s=i.prepareAsPdf(e,r,o);i.isIE()?i.downloadPDF(e.options.exporterPdfFilename,s):pdfMake.createPdf(s).open()})},downloadPDF:function(e,t){var n=document;n.createElement("a");var i;i=this.isIE();var r,o=pdfMake.createPdf(t);if(o.getBuffer(function(e){r=new Blob([e])}),i&&10>i){var s=n.createElement("iframe");return document.body.appendChild(s),s.contentWindow.document.open("text/html","replace"),s.contentWindow.document.write(r),s.contentWindow.document.close(),s.contentWindow.focus(),s.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(s),!0}return navigator.msSaveBlob?navigator.msSaveBlob(r,e):void 0},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),s=[r].concat(o),a={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:s}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(a.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(a.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(a.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(a=e.options.exporterPdfCustomFormatter(a)),a},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;t.forEach(function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return s}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,i,r,o,s,a,l){var u={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},u.defaultGridOptions(e.options),e.registerRowsProcessor(u.groupRows,400),e.registerColumnBuilder(u.groupingColumnBuilder),e.registerColumnsProcessor(u.groupingColumnProcessor,400);var n={events:{grouping:{}},methods:{grouping:{getGrouping:function(t){var n=u.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=u.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){u.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);u.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);u.ungroupColumn(e,n)},clearGrouping:function(){u.clearGrouping(e)},aggregateColumn:function(t,n,i){var r=e.getColumn(t);u.aggregateColumn(e,r,n,i)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,u.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=e.enableGrouping!==!1,e.groupingShowCounts=e.groupingShowCounts!==!1,e.groupingNullLabel="undefined"==typeof e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=e.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(e,i,r){if(e.enableGrouping!==!1){"undefined"==typeof i.grouping&&"undefined"!=typeof e.grouping?(i.grouping=angular.copy(e.grouping),"undefined"!=typeof i.grouping.groupPriority&&i.grouping.groupPriority>-1&&(i.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=u.groupedFinalizerFn)):"undefined"==typeof i.grouping&&(i.grouping={}),"undefined"!=typeof i.grouping&&"undefined"!=typeof i.grouping.groupPriority&&i.grouping.groupPriority>=0&&(i.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:s.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){u.groupColumn(this.context.col.grid,this.context.col)}},a={name:"ui.grid.grouping.ungroup",title:s.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){u.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:s.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,null)}},h=function(e,t){t=t||s.get().grouping["aggregate_"+e]||e;var r={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregate"+e)||i.menuItems.push(r)};i.colDef.groupingShowGroupingMenu!==!1&&(n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.group")||i.menuItems.push(o),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.ungroup")||i.menuItems.push(a)),i.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(l.nativeAggregations(),function(e,t){h(t)}),angular.forEach(r.treeCustomAggregations,function(e,t){h(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregateRemove")||i.menuItems.push(c))}},groupingColumnProcessor:function(e,t){return e=u.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;"undefined"!=typeof e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t){return e.options.moveGroupColumns!==!1?(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,i;return n="undefined"==typeof e.grouping||"undefined"==typeof e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,i="undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===i?-1:null!==i&&null===n?1:null!==n&&null!==i?n-i:e.groupingPosition-t.groupingPosition}),t.forEach(function(e){delete e.groupingPosition}),t):void 0},groupColumn:function(e,n){"undefined"==typeof n.grouping&&(n.grouping={});var i=u.getGrouping(e);n.grouping.groupPriority=i.grouping.length,n.sort?("undefined"==typeof n.sort.direction||null===n.sort.direction)&&(n.sort.direction=a.ASC):n.sort={direction:a.ASC},u.tidyPriorities(e),n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=u.groupedFinalizerFn,e.queueGridRefresh()},ungroupColumn:function(e,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,u.tidyPriorities(e),e.queueGridRefresh())},aggregateColumn:function(e,t,n){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&u.ungroupColumn(e,t);var i={};"undefined"!=typeof e.options.treeCustomAggregations[n]?i=e.options.treeCustomAggregations[n]:"undefined"!=typeof l.nativeAggregations()[n]&&(i=l.nativeAggregations()[n]),t.treeAggregation={type:n,label:s.get().aggregation[i.label]||i.label},t.treeAggregationFn=i.aggregationFn,t.treeAggregationFinalizerFn=i.finalizerFn,e.queueGridRefresh()},setGrouping:function(e,t){"undefined"!=typeof t&&(u.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&u.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&u.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&u.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=u.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){"undefined"!=typeof e&&"undefined"==typeof e.grid||"undefined"==typeof this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e){"undefined"!=typeof e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):"undefined"!=typeof e.sort&&"undefined"!=typeof e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,"undefined"==typeof e.sort&&(e.sort={}),e.sort.priority=t});var i=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e){e.sort.priority=i,e.suppressRemoveSort=e.colDef.suppressRemoveSort,i++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=u.initialiseProcessingState(t),r=function(r,a){var l=t.getCellValue(s,r.col);r.initialised&&0===i.getSortFn(t,r.col,e)(l,r.currentValue)||(u.insertGroupHeader(t,e,o,n,a),o++)},o=0;o<e.length;o++){var s=e[o];s.visible&&n.forEach(r)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[],n=u.getGrouping(e);return n.grouping.forEach(function(e){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e){e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,i,s){i[s].fieldName;var a=i[s].col,l=e.getCellValue(t[n],a),c=l;("undefined"==typeof l||null===l)&&(c=e.options.groupingNullLabel);for(var h=e.grouping.oldGroupingHeaderCache,d=0;s>d;d++)h&&h[i[d].currentValue]&&(h=h[i[d].currentValue].children);var p;for(h&&h[l]?(p=h[l].row,p.entity={}):(p=new r({},null,e),o.rowTemplateAssigner.call(e,p)),p.entity["$$"+i[s].col.uid]={groupVal:c},p.treeLevel=s,p.groupHeader=!0,p.internalRow=!0,p.enableCellEdit=!1,p.enableSelection=e.options.enableGroupHeaderSelection,i[s].initialised=!0,i[s].currentValue=l,i[s].currentRow=p,u.finaliseProcessingState(i,s+1),t.splice(n,0,p),h=e.grouping.groupingHeaderCache,d=0;s>d;d++)h=h[i[d].currentValue].children;h[l]={row:p,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null
},getRowExpandedStates:function(e){if("undefined"==typeof e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},t[n].children=e.children?u.getRowExpandedStates(e.children):{}}),t},applyRowExpandedStates:function(e,t){"undefined"!=typeof t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&u.applyRowExpandedStates(e[n].children,t.children))})}};return u}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){r.grid.options.enableGrouping!==!1&&t.initializeGrid(r.grid,e)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,i,r,o,s,a){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?a.hasOwnProperty("File")&&a.hasOwnProperty("FileReader")&&a.hasOwnProperty("FileList")&&a.hasOwnProperty("Blob")?e.enableImporter=!0:(i.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(i.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:s.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return i.logError("No file object provided to importThisFile, should be impossible, aborting"),void 0;var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,i=[],r=l.parseJson(e,t);null!==r&&(r.forEach(function(t){n=l.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),i.push(n)}),l.addObjects(e,i))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(i){return l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result),void 0}return Array.isArray(n)?n:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=l.parseCsv(t);if(!n||n.length<1)return l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result),void 0;var i=l.createCsvObjects(e,n);return i&&0!==i.length?(l.addObjects(e,i),void 0):(l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result),void 0)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var i,r=[];return t.forEach(function(t){i=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(i[n[t]]=e)}),i=e.options.importerObjectCallback(e,i),r.push(i)}),r},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var i=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e){i[e]?n.push(i[e]):i[e.toLowerCase()]?n.push(i[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n){if(e.api.rowEdit){var i=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),i()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",i)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,r):(a.alert(s.getSafeText(t)),i.logError(n+r))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,i,r,o){var s=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var i=n.files[0];t.importThisFile(l,i),n.form.reset()}},a=i[0].querySelectorAll(".ui-grid-importer-file-chooser"),l=o.grid;1!==a.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):a[0].addEventListener("change",s,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,n,i,r,o){var s={initializeGrid:function(e,t){if(s.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},s.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,s.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(){},needLoadMoreDataTop:function(){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){s.setScrollDirections(e,t,n);var i=s.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1});return i},resetScroll:function(t,n){return s.setScrollDirections(e,t,n),s.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrolltopPercentage=e.renderContainers.body.prevScrolltopPercentage,e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length},dataRemovedTop:function(t,n){s.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){s.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){s.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=e.infiniteScrollUp===!0,e.infiniteScrollDown=e.infiniteScrollDown!==!1},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=t===!0,e.suppressParentScrollUp=t===!0,e.infiniteScroll.scrollDown=n!==!1,e.suppressParentScrollDown=n!==!1},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y){var t,n=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===i.scrollDirection.UP?(t=e.y.percentage,n>=t&&s.loadData(e.grid)):e.grid.scrollDirection===i.scrollDirection.DOWN&&(t=1-e.y.percentage,n>=t&&s.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrolltopPercentage,e.scrollDirection===i.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===i.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n(function(){var r;void 0===e.infiniteScroll.direction&&s.adjustInfiniteScrollPosition(e,0);var o,a,l=e.renderContainers.body.visibleRowCache.length,u=e.getViewportHeight()/e.options.rowHeight/2;e.infiniteScroll.direction===i.scrollDirection.UP&&(o=e.infiniteScroll.prevScrolltopPercentage||0,a=o*e.infiniteScroll.previousVisibleRows,r=(l-e.infiniteScroll.previousVisibleRows+a+u)/l,s.adjustInfiniteScrollPosition(e,r),n(function(){t.resolve()})),e.infiniteScroll.direction===i.scrollDirection.DOWN&&(o=e.infiniteScroll.prevScrolltopPercentage||1,a=o*e.infiniteScroll.previousVisibleRows,r=(a-u)/l,s.adjustInfiniteScrollPosition(e,r),n(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new r(e,null,null,"ui.grid.adjustInfiniteScrollPosition");n.y=0===t&&e.infiniteScroll.scrollUp?{pixels:1}:{percentage:t},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){s.setScrollDirections(e,t,n);var i=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrolltopPercentage*e.infiniteScroll.previousVisibleRows,o=r-(e.infiniteScroll.previousVisibleRows-i),a=o/i;return s.adjustInfiniteScrollPosition(e,a)},dataRemovedBottom:function(e,t,n){s.setScrollDirections(e,t,n);var i=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrolltopPercentage*e.infiniteScroll.previousVisibleRows,o=r/i;return s.adjustInfiniteScrollPosition(e,o)}};return s}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid,t)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,i,r,o){var s={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.registerColumnBuilder(t.movableColumnBuilder)},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(){}}},methods:{colMovable:{moveColumn:function(n,i){var r=e.columns;if(!angular.isNumber(n)||!angular.isNumber(i))return o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition"),void 0;for(var s=0,a=0;a<r.length;a++)(angular.isDefined(r[a].colDef.visible)&&r[a].colDef.visible===!1||r[a].isRowHeader===!0)&&s++;if(n>=r.length-s||i>=r.length-s)return o.logError("MoveColumn: Invalid values for originalPosition, finalPosition"),void 0;var l=function(e){for(var t=e,n=0;t>=n;n++)angular.isDefined(r[n])&&(angular.isDefined(r[n].colDef.visible)&&r[n].colDef.visible===!1||r[n].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(i))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,n,i){var r=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?i.enableColumnMoving:t.enableColumnMoving,e.all(r)},redrawColumnAtPosition:function(e,n,i){var o=e.columns,s=o[n];if(s.colDef.enableColumnMoving){if(n>i)for(var a=n;a>i;a--)o[a]=o[a-1];else if(i>n)for(var l=n;i>l;l++)o[l]=o[l+1];o[i]=s,e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(r.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(s.colDef,n,i)})}}};return s}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o,s){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,o,a){if(e.col.colDef.enableColumnMoving){var l,u,c,h,d,p,f=angular.element(r[0].querySelectorAll(".ui-grid-cell-contents")),g=!1,m=!1,v=function(t){l=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(l+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),u=t.pageX,c=0,h=l+e.grid.getViewportWidth(),"mousedown"===t.type?(i.on("mousemove",y),i.on("mouseup",b)):"touchstart"===t.type&&(i.on("touchmove",y),i.on("touchend",b))},y=function(e){var t=e.pageX-u;0!==t&&(document.onselectstart=function(){return!1},m=!0,g?g&&(A(t),u=e.pageX):x())},b=function(){if(document.onselectstart=null,d&&(d.remove(),g=!1),C(),w(),m){for(var t=e.grid.columns,i=0,r=0;r<t.length&&t[r].colDef.name!==e.col.colDef.name;r++)i++;if(0>c){for(var o=0,s=i-1;s>=0;s--)if((angular.isUndefined(t[s].colDef.visible)||t[s].colDef.visible===!0)&&(o+=t[s].drawnWidth||t[s].width||t[s].colDef.width,o>Math.abs(c))){n.redrawColumnAtPosition(e.grid,i,s+1);break}o<Math.abs(c)&&n.redrawColumnAtPosition(e.grid,i,0)}else if(c>0){for(var a=0,l=i+1;l<t.length;l++)if((angular.isUndefined(t[l].colDef.visible)||t[l].colDef.visible===!0)&&(a+=t[l].drawnWidth||t[l].width||t[l].colDef.width,a>c)){n.redrawColumnAtPosition(e.grid,i,l-1);break}c>a&&n.redrawColumnAtPosition(e.grid,i,t.length-1)}}},w=function(){f.on("touchstart",v),f.on("mousedown",v)},C=function(){f.off("touchstart",v),f.off("mousedown",v),i.off("mousemove",y),i.off("touchmove",y),i.off("mouseup",b),i.off("touchend",b)};w();var x=function(){g=!0,d=r.clone(),r.parent().append(d),d.addClass("movingColumn");var n,i={};n="safari"===t.detectBrowser()?r[0].offsetLeft+r[0].offsetWidth-r[0].getBoundingClientRect().width:r[0].getBoundingClientRect().left,i.left=n-l+"px";var o=e.grid.element[0].getBoundingClientRect().right,s=r[0].getBoundingClientRect().right;s>o&&(p=e.col.drawnWidth+(o-s),i.width=p+"px"),d.css(i)},A=function(t){for(var n=e.grid.columns,i=0,r=0;r<n.length;r++)(angular.isUndefined(n[r].colDef.visible)||n[r].colDef.visible===!0)&&(i+=n[r].drawnWidth||n[r].width||n[r].colDef.width);var o,u=d[0].getBoundingClientRect().left-1,f=d[0].getBoundingClientRect().right;if(o=u-l+t,o=h>o?o:h,(u>=l||t>0)&&(h>=f||0>t))d.css({visibility:"visible",left:o+"px"});else if(i>Math.ceil(a.grid.gridWidth)){t*=8;var g=new s(e.col.grid,null,null,"uiGridHeaderCell.moveElement");g.x={pixels:t},g.grid.scrollContainers("",g)}for(var m=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||n[v].colDef.visible===!0){if(n[v].colDef.name===e.col.colDef.name)break;m+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===e.newScrollLeft?c+=t:c=e.newScrollLeft+o-m,p<e.col.drawnWidth&&(p+=Math.abs(t),d.css({width:p+"px"}))}}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods);var i=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var n=parseInt(e.options.paginationPageSize,10),i=parseInt(e.options.paginationCurrentPage,10),r=t.filter(function(e){return e.visible});e.options.totalItems=r.length;var o=(i-1)*n;return o>r.length&&(i=e.options.paginationCurrentPage=1,o=(i-1)*n),r.slice(o,o+n)};e.registerRowsProcessor(i,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSize=t.paginationPageSizes.length>0?t.paginationPageSizes[0]:0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,i,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);i.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,i){return{priority:-200,scope:!0,require:"^uiGrid",link:function(r,o,s,a){r.paginationApi=a.grid.api.pagination,r.sizesLabel=i.getSafeText("pagination.sizes"),r.totalItemsLabel=i.getSafeText("pagination.totalItems");var l=a.grid.options;a.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o),e});var u=a.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);r.$on("$destroy",u);var c=function(){r.showingLow=(l.paginationCurrentPage-1)*l.paginationPageSize+1,r.showingHigh=Math.min(l.paginationCurrentPage*l.paginationPageSize,l.totalItems)},h=r.$watch("grid.options.totalItems + grid.options.paginationPageSize",c),d=r.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n){if(!angular.isNumber(l.paginationCurrentPage)||l.paginationCurrentPage<1)return l.paginationCurrentPage=1,void 0;if(l.totalItems>0&&l.paginationCurrentPage>r.paginationApi.getTotalPages())return l.paginationCurrentPage=r.paginationApi.getTotalPages(),void 0;c(),e.onPaginationChanged(r.grid,l.paginationCurrentPage,l.paginationPageSize)}});r.$on("$destroy",function(){h(),d()}),r.cantPageForward=function(){return l.totalItems>0?l.paginationCurrentPage>=r.paginationApi.getTotalPages():l.data.length<1},r.cantPageToLast=function(){return l.totalItems>0?r.cantPageForward():!0},r.cantPageBackward=function(){return l.paginationCurrentPage<=1}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(){}}},methods:{pinning:{pinColumn:function(t,n){r.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,o,s){if(t.enablePinning=void 0===t.enablePinning?s.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var a={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.RIGHT)}},u={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.UNPIN)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(a),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(u)}},pinColumn:function(e,t,n){n===i.container.NONE?t.renderContainer=null:(t.renderContainer=n,n===i.container.LEFT?e.createLeftContainer():n===i.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){var i={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,i){var r=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?i.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(r)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,i,r){n(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(i,r):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var i=e.getRenderContainer();if("left"===t){var r=i.visibleColumnCache.indexOf(e);return i.visibleColumnCache[r-1*n]}return e}};return i}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,i,r,o,s){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,a,l){var u=l.grid;if(u.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),h=1;u.isRTL()&&(e.position="left",h=-1);var d=function(){for(var t=i[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var s=r.findTargetCol(e.col,"left",h),a=e.col.getRenderContainer();if(s&&0!==a.visibleColumnCache.indexOf(e.col)&&s.colDef.enableColumnResizing!==!1){var l=angular.element(c).clone();l.attr("position","left"),i.prepend(l),n(l)(e)}if(e.col.colDef.enableColumnResizing!==!1){var u=angular.element(c).clone();u.attr("position","right"),i.append(u),n(u)(e)}};d();var p=function(){s(d)},f=u.registerDataChangeCallback(p,[o.dataChange.COLUMN]);e.$on("$destroy",f)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,i){var r=angular.element('<div class="ui-grid-resize-overlay"></div>'),o={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,s,a,l){function u(){l.grid.buildColumns().then(function(){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})})}function c(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function h(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),f=(e.targetTouches?e.targetTouches[0]:e).clientX-g,0>f?f=0:f>l.grid.gridWidth&&(f=l.grid.gridWidth);var t=i.findTargetCol(o.col,o.position,m);if(t.colDef.enableColumnResizing!==!1){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=f-p,a=parseInt(t.drawnWidth+s*m,10);f+=(c(t,a)-a)*m,r.css({left:f+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function d(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),r.remove(),f=(e.changedTouches?e.changedTouches[0]:e).clientX-g;var t=f-p;if(0===t)return b(),y(),void 0;var n=i.findTargetCol(o.col,o.position,m);if(n.colDef.enableColumnResizing!==!1){var s=parseInt(n.drawnWidth+t*m,10);n.width=c(n,s),u(t),i.fireColumnSizeChanged(l.grid,n.colDef,t),b(),y()}}var p=0,f=0,g=0,m=1;l.grid.isRTL()&&(o.position="left",m=-1),"left"===o.position?s.addClass("left"):"right"===o.position&&s.addClass("right");var v=function(t){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),g=l.grid.element[0].getBoundingClientRect().left,p=(t.targetTouches?t.targetTouches[0]:t).clientX-g,l.grid.element.append(r),r.css({left:p}),"touchstart"===t.type?(e.on("touchend",d),e.on("touchmove",h),s.off("mousedown",v)):(e.on("mouseup",d),e.on("mousemove",h),s.off("touchstart",v))},y=function(){s.on("mousedown",v),s.on("touchstart",v)},b=function(){e.off("mouseup",d),e.off("touchend",d),e.off("mousemove",h),e.off("touchmove",h),s.off("mousedown",v),s.off("touchstart",v)};y();var w=function(e){e.stopPropagation();var r=i.findTargetCol(o.col,o.position,m);if(r.colDef.enableColumnResizing!==!1){var a=0,h=0,d=t.closestElm(s,".ui-grid-render-container"),p=d.querySelectorAll("."+n.COL_CLASS_PREFIX+r.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(p,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var i=angular.element(e);i.attr("style","float: left");var r=t.elementWidth(i);if(n){var o=t.elementWidth(n);r+=o}r>a&&(a=r,h=a-r)})}),r.width=c(r,a),u(h),i.fireColumnSizeChanged(l.grid,r.colDef,h)}};s.on("dblclick",w),s.on("$destroy",function(){s.off("dblclick",w),b()})}};return o}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,i,r){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var i=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),i}},setSavePromise:function(e,t,n){var i=e.getRow(t);i.rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){"undefined"!=typeof e&&null!==e&&e.forEach(function(n,i){n.uid===t.uid&&e.splice(i,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.rowEdit.dirtyRows.forEach(function(t){o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,i){var s=this.grid,a=s.getRow(e);return a?((n!==i||a.isDirty)&&(s.rowEdit.dirtyRows||(s.rowEdit.dirtyRows=[]),a.isDirty||(a.isDirty=!0,s.rowEdit.dirtyRows.push(a)),delete a.isError,o.considerSetTimer(s,a)),void 0):(r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set"),void 0)},beginEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?(o.cancelTimer(t,n),void 0):(r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled"),void 0)},cancelEditCell:function(e){var t=this.grid,n=t.getRow(e);return n?(o.considerSetTimer(t,n),void 0):(r.logError("Unable to find rowEntity in grid data, timer cannot be set"),void 0)},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var i=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),i,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)
})},setRowsClean:function(e,t){var n;t.forEach(function(t){n=e.getRow(t),n?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):r.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",t.attr("ng-class",i),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(){var e={initializeGrid:function(t){t.saveState={},this.defaultGridOptions(t.options);var n={events:{saveState:{}},methods:{saveState:{save:function(){return e.save(t)},restore:function(n,i){e.restore(t,n,i)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1,e.saveGrouping=e.saveGrouping!==!1,e.saveGroupingExpandedStates=e.saveGroupingExpandedStates===!0,e.savePinning=e.savePinning!==!1,e.saveTreeView=e.saveTreeView!==!1},save:function(t){var n={};return n.columns=e.saveColumns(t),n.scrollFocus=e.saveScrollFocus(t),n.selection=e.saveSelection(t),n.grouping=e.saveGrouping(t),n.treeView=e.saveTreeView(t),n},restore:function(t,n,i){i.columns&&e.restoreColumns(t,i.columns),i.scrollFocus&&e.restoreScrollFocus(t,n,i.scrollFocus),i.selection&&e.restoreSelection(t,i.selection),i.grouping&&e.restoreGrouping(t,i.grouping),i.treeView&&e.restoreTreeView(t,i.treeView),t.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var i={};i.name=n.name,e.options.saveVisible&&(i.visible=n.visible),e.options.saveWidths&&(i.width=n.width),e.options.saveSort&&(i.sort=angular.copy(n.sort)),e.options.saveFilter&&(i.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),i.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(i.pinned=n.renderContainer?n.renderContainer:""),t.push(i)}),t},saveScrollFocus:function(t){if(!t.api.cellNav)return{};var n={};if(t.options.saveFocus){n.focus=!0;var i=t.api.cellNav.getFocusedCell();null!==i&&(null!==i.col&&(n.colName=i.col.colDef.name),null!==i.row&&(n.rowVal=e.getRowVal(t,i.row)))}return(t.options.saveScroll||t.options.saveFocus&&!n.colName&&!n.rowVal)&&(n.focus=!1,t.renderContainers.body.prevRowScrollIndex&&(n.rowVal=e.getRowVal(t,t.renderContainers.body.visibleRowCache[t.renderContainers.body.prevRowScrollIndex])),t.renderContainers.body.prevColScrollIndex&&(n.colName=t.renderContainers.body.visibleColumnCache[t.renderContainers.body.prevColScrollIndex].name)),n},saveSelection:function(t){if(!t.api.selection||!t.options.saveSelection)return[];var n=t.api.selection.getSelectedGridRows().map(function(n){return e.getRowVal(t,n)});return n},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){t.forEach(function(t,n){var i=e.getColumn(t.name);if(i&&!e.isRowHeaderColumn(i)){!e.options.saveVisible||i.visible===t.visible&&i.colDef.visible===t.visible||(i.visible=t.visible,i.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(i)),e.options.saveWidths&&(i.width=t.width),!e.options.saveSort||angular.equals(i.sort,t.sort)||void 0===i.sort&&angular.isEmpty(t.sort)||(i.sort=angular.copy(t.sort),e.api.core.raise.sortChanged()),e.options.saveFilter&&!angular.equals(i.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(i.filters[t],e),("undefined"==typeof e.term||null===e.term)&&delete i.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&i.renderContainer!==t.pinned&&e.api.pinning.pinColumn(i,t.pinned);var r=e.getOnlyDataColumns().indexOf(i);if(-1!==r&&e.options.saveOrder&&r!==n){var o=e.columns.splice(r+e.rowHeaderColumns.length,1)[0];e.columns.splice(n+e.rowHeaderColumns.length,0,o)}}})},restoreScrollFocus:function(t,n,i){if(t.api.cellNav){var r,o;if(i.colName){var s=t.options.columnDefs.filter(function(e){return e.name===i.colName});s.length>0&&(r=s[0])}i.rowVal&&i.rowVal.row&&(o=i.rowVal.identity?e.findRowByIdentity(t,i.rowVal):t.renderContainers.body.visibleRowCache[i.rowVal.row]);var a=o&&o.entity?o.entity:null;(r||a)&&(i.focus?t.api.cellNav.scrollToFocus(a,r):t.scrollTo(a,r))}},restoreSelection:function(t,n){t.api.selection&&(t.api.selection.clearSelectedRows(),n.forEach(function(n){if(n.identity){var i=e.findRowByIdentity(t,n);i&&t.api.selection.selectRow(i.entity)}else t.api.selection.selectRowByVisibleIndex(n.row)}))},restoreGrouping:function(e,t){e.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row?!0:!1});return n.length>0?n[0]:null}};return e}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var e={initializeGrid:function(t){t.selection={},t.selection.lastSelectedRow=null,t.selection.selectAll=!1,t.selection.selectedCount=0,e.defaultGridOptions(t.options);var n={events:{selection:{rowSelectionChanged:function(){},rowSelectionChangedBatch:function(){}}},methods:{selection:{toggleRowSelection:function(n,i){var r=t.getRow(n);null!==r&&e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},selectRow:function(n,i){var r=t.getRow(n);null===r||r.isSelected||e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},selectRowByVisibleIndex:function(n,i){var r=t.renderContainers.body.visibleRowCache[n];null===r||"undefined"==typeof r||r.isSelected||e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(n,i){var r=t.getRow(n);null!==r&&r.isSelected&&e.toggleRowSelection(t,r,i,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(n){if(t.options.multiSelect!==!1){var i=[];t.rows.forEach(function(r){r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(t,r,i,n))}),e.decideRaiseSelectionBatchEvent(t,i,n),t.selection.selectAll=!0}},selectAllVisibleRows:function(n){if(t.options.multiSelect!==!1){var i=[];t.rows.forEach(function(r){r.visible?r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(t,r,i,n)):r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(t,r,i,n))}),e.decideRaiseSelectionBatchEvent(t,i,n),t.selection.selectAll=!0}},clearSelectedRows:function(n){e.clearSelectedRows(t,n)},getSelectedRows:function(){return e.getSelectedRows(t).map(function(e){return e.entity})},getSelectedGridRows:function(){return e.getSelectedRows(t)},setMultiSelect:function(e){t.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){t.options.modifierKeysToMultiSelect=e},getSelectAllState:function(){return t.selection.selectAll}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,"undefined"==typeof e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(t,n,i,r,o){var s=n.isSelected;if(n.enableSelection!==!1||s){if(r||s){if(!r&&s){var a=e.getSelectedRows(t);a.length>1&&(s=!1,e.clearSelectedRows(t,i))}}else e.clearSelectedRows(t,i);s&&o||(n.setSelected(!s),n.isSelected===!0?t.selection.lastSelectedRow=n:t.selection.selectAll=!1,t.api.selection.raise.rowSelectionChanged(n,i))}},shiftSelect:function(t,n,i,r){if(r){var o=e.getSelectedRows(t),s=o.length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,a=t.renderContainers.body.visibleRowCache.indexOf(n);if(s>a){var l=s;s=a,a=l}for(var u=[],c=s;a>=c;c++){var h=t.renderContainers.body.visibleRowCache[c];h&&(h.isSelected||h.enableSelection===!1||(h.setSelected(!0),t.selection.lastSelectedRow=h,e.decideRaiseSelectionEvent(t,h,u,i)))}e.decideRaiseSelectionBatchEvent(t,u,i)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(t,n){var i=[];e.getSelectedRows(t).forEach(function(r){r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(t,r,i,n))}),e.decideRaiseSelectionBatchEvent(t,i,n),t.selection.selectAll=!1},decideRaiseSelectionEvent:function(e,t,n,i){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,i)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return e}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,o,s){if(t.initializeGrid(s.grid),s.grid.options.enableRowHeaderSelection){var a={name:e.selectionRowHeaderColName,displayName:"",width:s.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};s.grid.addRowHeaderColumn(a)}var l=!1,u=function(e){return e.forEach(function(e){e.enableSelection=s.grid.options.isRowSelectable(e)}),e},c=function(){s.grid.options.isRowSelectable!==angular.noop&&l!==!0&&(s.grid.registerRowsProcessor(u,500),l=!0)};c();var h=s.grid.registerDataChangeCallback(c,[i.dataChange.OPTIONS]);n.$on("$destroy",h)},post:function(){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,r,o){function s(e,n){n.stopPropagation(),n.shiftKey?t.shiftSelect(l,e,n,l.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(l,e,n,l.options.multiSelect,l.options.noUnselect):t.toggleRowSelection(l,e,n,l.options.multiSelect&&!l.options.modifierKeysToMultiSelect,l.options.noUnselect)}function a(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var l=o.grid;e.selectButtonClick=s,"ie"===n.detectBrowser()&&i.on("mousedown",a)}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e){var n=e.col.grid;e.headerButtonClick=function(e,i){n.selection.selectAll?(t.clearSelectedRows(n,i),n.options.noUnselect&&n.api.selection.selectRowByVisibleIndex(0,i),n.selection.selectAll=!1):n.options.multiSelect&&(n.api.selection.selectAllVisibleRows(i),n.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",t.attr("ng-class",i),{pre:function(){},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,i,r,o,s){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,i,r){function a(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",d),n.on("touchend",p),n.on("click",h),e.registered=!0)}function l(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",d),n.off("touchend",p),n.off("click",h),e.registered=!1)}var u=0,c=300;r.grid.api.cellNav&&r.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var h=function(t){n.off("touchend",p),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),s(function(){n.on("touchend",p)},c)},d=function(){u=(new Date).getTime(),n.off("click",h)},p=function(e){var t=(new Date).getTime(),i=t-u;c>i&&h(e),s(function(){n.on("click",h)},c)};a();var f=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?a():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||l()},[t.dataChange.OPTIONS]);n.on("$destroy",f)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(t,i,r,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var r=angular.element(n),o=e(r)(t);angular.element(i[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,i,r,o,s,a){var l={initializeGrid:function(e){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree={},l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var t={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t){l.expandRow(e,t)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=e.showTreeRowHeader!==!1,e.showTreeExpandNoChildren=e.showTreeExpandNoChildren!==!1,e.treeRowHeaderAlwaysVisible=e.treeRowHeaderAlwaysVisible!==!1,e.treeCustomAggregations=e.treeCustomAggregations||{}},treeBaseColumnBuilder:function(e,t,n){"undefined"!=typeof e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),"undefined"!=typeof e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},"undefined"!=typeof n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):"undefined"!=typeof l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),"undefined"!=typeof e.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=e.treeAggregationUpdateEntity!==!1,"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,i){"undefined"!=typeof n.state&&n.state!==i&&(n.state=i,i===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){l.setAllNodes(e,t,i)})},toggleRowTreeState:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?l.collapseRow(e,n):l.expandRow(e,n),e.queueGridRefresh())},expandRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){if(0===e.length)return e;var n=this;return t.EXPANDED,n.treeBase.tree=l.createTree(n,e),l.updateRowHeaderWidth(n),l.sortTree(n),l.fixFilter(n),l.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),i=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&i!==n.width&&(n.width=i,e.queueRefresh());var r=!0;e.options.showTreeRowHeader===!1&&(r=!1),e.options.treeRowHeaderAlwaysVisible===!1&&e.treeBase.numberLevels<=0&&(r=!1),n.visible!==r&&(n.visible=r,n.colDef.visible=r,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(l.renderTree(e.children)))}),n},createTree:function(e,n){var i,r=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var s=l.getAggregations(e),a=function(n){if("undefined"!=typeof n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=r){for(;n.treeLevel<=r;){var a=o.pop();l.finaliseAggregations(a),r--}i=o.length>0?l.setCurrentState(o):t.EXPANDED}("undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(e,n,o),l.addOrUseNode(e,n,o,s),"undefined"!=typeof n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(o.push(n),r++,i=l.setCurrentState(o)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)};for(n.forEach(a);o.length>0;){var u=o.pop();l.finaliseAggregations(u)}return e.treeBase.tree},addOrUseNode:function(e,n,i,r){var o=[];r.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var s={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(s.state=n.treeNode.state),i.length>0&&(s.parentRow=i[i.length-1]),n.treeNode=s,0===i.length?e.treeBase.tree.push(s):i[i.length-1].treeNode.children.push(s)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var i=n.map(function(e){return e.row});i=a.sort(e,i,e.columns);var r=i.map(function(e){return e.treeNode});return r.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(e,n.children))}),r},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(e){"undefined"!=typeof e.treeAggregationFn&&t.push(l.buildAggregationObject(e))}),t},aggregate:function(e,t,n){0!==n.length&&n.forEach(function(n){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var i=e.getCellValue(t,n.col),r=Number(i);n.col.treeAggregationFn(n,i,r,t)})})},nativeAggregations:function(){var e={count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e){"undefined"==typeof e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||("undefined"==typeof e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){"undefined"==typeof e.count?e.count=1:e.count++,isNaN(n)||("undefined"==typeof e.value||"undefined"==typeof e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}};return e},finaliseAggregations:function(e){"undefined"!=typeof e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(t.col.treeAggregationUpdateEntity&&"undefined"!=typeof e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,i){t.hasOwnProperty(i)&&"col"!==i&&(n[i]=e)}),e.entity["$$"+t.col.uid]=n}})}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,i,r){var o=r.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e){var n=e.col.grid;e.headerButtonClick=function(e,i){n.treeBase.expandAll?t.collapseAllRows(n,i):t.expandAllRows(n,i)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",t.attr("ng-class",i),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,i){var r={initializeGrid:function(e,t){i.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(r.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableTreeView=e.enableTreeView!==!1},adjustSorting:function(e){var t=this;return t.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return r}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){r.grid.options.enableTreeView!==!1&&t.initializeGrid(r.grid,e)},post:function(){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div class="ui-grid-filter-button-select" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term != null">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-footer-cell-row"><div ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.uid" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex" title="TOOLTIP"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>'),e.put("ui-grid/uiGridRenderContainer","<div class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></div></div>"),e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>")
}]),function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,r){r(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");return function(r,o,s,a,l){var u=s.groupBy;if(a.parseRepeatAttr(s.repeat,u),a.disableChoiceExpression=s.uiDisableChoice,a.onHighlightCallback=s.onHighlight,u){var c=o.querySelectorAll(".ui-select-choices-group");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",c.length);c.attr("ng-repeat",t.getGroupNgRepeatExpression())}var h=o.querySelectorAll(".ui-select-choices-row");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",h.length);h.attr("ng-repeat",t.getNgRepeatExpression(a.parserResult.itemName,"$select.items",a.parserResult.trackByExp,u)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+a.parserResult.itemName+")").attr("ng-click","$select.select("+a.parserResult.itemName+",false,$event)");var d=o.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);d.attr("uis-transclude-append",""),i(o,l)(r),r.$watch("$select.search",function(e){e&&!a.open&&a.multiple&&a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0,a.refresh(s.refresh)}),s.$observe("refreshDelay",function(){var t=r.$eval(s.refreshDelay);a.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,i,r,o,s,a){function l(){(h.resetSearchInput||void 0===h.resetSearchInput&&a.resetSearchInput)&&(h.search=d,h.selected&&h.items.length&&!h.multiple&&(h.activeIndex=h.items.indexOf(h.selected)))}function u(t){var n=!0;switch(t){case e.DOWN:!h.open&&h.multiple?h.activate(!1,!0):h.activeIndex<h.items.length-1&&h.activeIndex++;break;case e.UP:!h.open&&h.multiple?h.activate(!1,!0):(h.activeIndex>0||0===h.search.length&&h.tagging.isActivated&&h.activeIndex>-1)&&h.activeIndex--;break;case e.TAB:(!h.multiple||h.open)&&h.select(h.items[h.activeIndex],!0);break;case e.ENTER:h.open&&h.activeIndex>=0?h.select(h.items[h.activeIndex]):h.activate(!1,!0);break;case e.ESC:h.close();break;default:n=!1}return n}function c(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw s("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(h.activeIndex<0)){var i=t[h.activeIndex],r=i.offsetTop+i.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;r>o?e[0].scrollTop+=r-o:r<i.clientHeight&&(h.isGrouped&&0===h.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-r)}}var h=this,d="";if(h.placeholder=a.placeholder,h.searchEnabled=a.searchEnabled,h.sortable=a.sortable,h.refreshDelay=a.refreshDelay,h.removeSelected=!1,h.closeOnSelect=!0,h.search=d,h.activeIndex=0,h.items=[],h.open=!1,h.focus=!1,h.disabled=!1,h.selected=void 0,h.focusser=void 0,h.resetSearchInput=!0,h.multiple=void 0,h.disableChoiceExpression=void 0,h.tagging={isActivated:!1,fct:void 0},h.taggingTokens={isActivated:!1,tokens:void 0},h.lockChoiceExpression=void 0,h.clickTriggeredSelect=!1,h.$filter=r,h.searchInput=n.querySelectorAll("input.ui-select-search"),1!==h.searchInput.length)throw s("searchInput","Expected 1 input.ui-select-search but got '{0}'.",h.searchInput.length);h.isEmpty=function(){return angular.isUndefined(h.selected)||null===h.selected||""===h.selected},h.activate=function(e,n){h.disabled||h.open||(n||l(),t.$broadcast("uis:activate"),h.open=!0,h.activeIndex=h.activeIndex>=h.items.length?0:h.activeIndex,-1===h.activeIndex&&h.taggingLabel!==!1&&(h.activeIndex=0),i(function(){h.search=e||h.search,h.searchInput[0].focus()}))},h.findGroupByName=function(e){return h.groups&&h.groups.filter(function(t){return t.name===e})[0]},h.parseRepeatAttr=function(e,n){function i(e){h.groups=[],angular.forEach(e,function(e){var i=t.$eval(n),r=angular.isFunction(i)?i(e):e[i],o=h.findGroupByName(r);o?o.items.push(e):h.groups.push({name:r,items:[e]})}),h.items=[],h.groups.forEach(function(e){h.items=h.items.concat(e.items)})}function r(e){h.items=e}h.setItemsFn=n?i:r,h.parserResult=o.parse(e),h.isGrouped=!!n,h.itemProperty=h.parserResult.itemName,h.refreshItems=function(e){e=e||h.parserResult.source(t);var n=h.selected;if(angular.isArray(n)&&!n.length||!h.removeSelected)h.setItemsFn(e);else if(void 0!==e){var i=e.filter(function(e){return n.indexOf(e)<0});h.setItemsFn(i)}},t.$watchCollection(h.parserResult.source,function(e){if(void 0===e||null===e)h.items=[];else{if(!angular.isArray(e))throw s("items","Expected an array but got '{0}'.",e);h.refreshItems(e),h.ngModel.$modelValue=null}})};var p;h.refresh=function(e){void 0!==e&&(p&&i.cancel(p),p=i(function(){t.$eval(e)},h.refreshDelay))},h.setActiveItem=function(e){h.activeIndex=h.items.indexOf(e)},h.isActive=function(e){if(!h.open)return!1;var t=h.items.indexOf(e[h.itemProperty]),n=t===h.activeIndex;return!n||0>t&&h.taggingLabel!==!1||0>t&&h.taggingLabel===!1?!1:(n&&!angular.isUndefined(h.onHighlightCallback)&&e.$eval(h.onHighlightCallback),n)},h.isDisabled=function(e){if(h.open){var t,n=h.items.indexOf(e[h.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(h.disableChoiceExpression)&&(t=h.items[n],i=!!e.$eval(h.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},h.select=function(e,n,r){if(void 0===e||!e._uiSelectChoiceDisabled){if(!h.items&&!h.search)return;if(!e||!e._uiSelectChoiceDisabled){if(h.tagging.isActivated){if(h.taggingLabel===!1)if(h.activeIndex<0){if(e=void 0!==h.tagging.fct?h.tagging.fct(h.search):h.search,!e||angular.equals(h.items[0],e))return}else e=h.items[h.activeIndex];else if(0===h.activeIndex){if(void 0===e)return;if(void 0!==h.tagging.fct&&"string"==typeof e){if(e=h.tagging.fct(h.search),!e)return}else"string"==typeof e&&(e=e.replace(h.taggingLabel,"").trim())}if(h.selected&&angular.isArray(h.selected)&&h.selected.filter(function(t){return angular.equals(t,e)}).length>0)return h.close(n),void 0}t.$broadcast("uis:select",e);var o={};o[h.parserResult.itemName]=e,i(function(){h.onSelectCallback(t,{$item:e,$model:h.parserResult.modelMapper(t,o)})}),h.closeOnSelect&&h.close(n),r&&"click"===r.type&&(h.clickTriggeredSelect=!0)}}},h.close=function(e){h.open&&(h.ngModel&&h.ngModel.$setTouched&&h.ngModel.$setTouched(),l(),h.open=!1,t.$broadcast("uis:close",e))},h.setFocus=function(){h.focus||h.focusInput[0].focus()},h.clear=function(e){h.select(void 0),e.stopPropagation(),h.focusser[0].focus()},h.toggle=function(e){h.open?(h.close(),e.preventDefault(),e.stopPropagation()):h.activate()},h.isLocked=function(e,t){var n,i=h.selected[t];return i&&!angular.isUndefined(h.lockChoiceExpression)&&(n=!!e.$eval(h.lockChoiceExpression),i._uiSelectChoiceLocked=n),n};var f=null;h.sizeSearchInput=function(){var e=h.searchInput[0],n=h.searchInput.parent().parent()[0],r=function(){return n.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),h.searchInput.css("width",n+"px"),!0};h.searchInput.css("width","10px"),i(function(){null!==f||o(r())||(f=t.$watch(r,function(e){o(e)&&(f(),f=null)}))})},h.searchInput.on("keydown",function(n){var r=n.which;t.$apply(function(){var t=!1;if((h.items.length>0||h.tagging.isActivated)&&(u(r),h.taggingTokens.isActivated)){for(var o=0;o<h.taggingTokens.tokens.length;o++)h.taggingTokens.tokens[o]===e.MAP[n.keyCode]&&h.search.length>0&&(t=!0);t&&i(function(){h.searchInput.triggerHandler("tagged");var t=h.search.replace(e.MAP[n.keyCode],"").trim();h.tagging.fct&&(t=h.tagging.fct(t)),t&&h.select(t,!0)})}}),e.isVerticalMovement(r)&&h.items.length>0&&c()}),h.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&h.taggingTokens.isActivated&&h.tagging.fct){var n=t.split(h.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=h.tagging.fct(e);t&&h.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),h.searchInput.on("tagged",function(){i(function(){l()})}),t.$on("$destroy",function(){h.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,i,r,o,s){return{restrict:"EA",templateUrl:function(e,n){var i=n.theme||t.theme;return i+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(r,a){return angular.isDefined(a.multiple)?r.append("<ui-select-multiple/>").removeAttr("multiple"):r.append("<ui-select-single/>"),function(r,a,l,u,c){function h(e){if(f.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(a[0],e.target):a[0].contains(e.target),!t&&!f.clickTriggeredSelect){var n=["input","button","textarea"],i=angular.element(e.target).scope(),o=i&&i.$select&&i.$select!==f;o||(o=~n.indexOf(e.target.tagName.toLowerCase())),f.close(o),r.$digest()}f.clickTriggeredSelect=!1}}function d(){var t=i(a);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",a.after(v),y=a[0].style.width,e.find("body").append(a),a[0].style.position="absolute",a[0].style.left=t.left+"px",a[0].style.top=t.top+"px",a[0].style.width=t.width+"px"}function p(){null!==v&&(v.replaceWith(a),v=null,a[0].style.position="",a[0].style.left="",a[0].style.top="",a[0].style.width=y)}var f=u[0],g=u[1];f.generatedId=t.generateId(),f.baseTitle=l.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?o(l.closeOnSelect)():t.closeOnSelect}(),f.onSelectCallback=o(l.onSelect),f.onRemoveCallback=o(l.onRemove),f.ngModel=g,f.choiceGrouped=function(e){return f.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){f.focusInput.attr("tabindex",e),a.removeAttr("tabindex")}),r.$watch("searchEnabled",function(){var e=r.$eval(l.searchEnabled);f.searchEnabled=void 0!==e?e:t.searchEnabled}),r.$watch("sortable",function(){var e=r.$eval(l.sortable);f.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){f.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=r.$eval(l.resetSearchInput);f.resetSearchInput=void 0!==e?e:!0}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=r.$eval(l.tagging);f.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&(f.taggingLabel="false"===l.taggingLabel?!1:void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&s(function(){f.setFocus()}),angular.isDefined(l.focusOn)&&r.$on(l.focusOn,function(){s(function(){f.setFocus()})}),e.on("click",h),r.$on("$destroy",function(){e.off("click",h)}),c(r,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);a.querySelectorAll(".ui-select-match").replaceWith(i);var r=t.querySelectorAll(".ui-select-choices");if(r.removeAttr("ui-select-choices"),r.removeAttr("data-ui-select-choices"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",r.length);a.querySelectorAll(".ui-select-choices").replaceWith(r)});var m=r.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(r.$watch("$select.open",function(e){e?d():p()}),r.$on("$destroy",function(){p()}));var v=null,y=""}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,i=t.parent().attr("multiple");return n+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,r){function o(e){r.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}r.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){r.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",o),o(i.allowClear),r.multiple&&r.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,i=this,r=e.$select;e.$evalAsync(function(){n=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){r.refreshItems(),r.sizeSearchInput()},i.removeChoice=function(n){var o=r.selected[n];if(!o._uiSelectChoiceLocked){var s={};s[r.parserResult.itemName]=o,r.selected.splice(n,1),i.activeMatchIndex=-1,r.sizeSearchInput(),t(function(){r.onRemoveCallback(e,{$item:o,$model:r.parserResult.modelMapper(e,s)})}),i.updateModel()}},i.getPlaceholder=function(){return r.selected.length?void 0:r.placeholder}}],controllerAs:"$selectMultiple",link:function(i,r,o,s){function a(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~p.activeMatchIndex?c:s;case e.RIGHT:return~p.activeMatchIndex&&l!==s?u:(h.activate(),!1);case e.BACKSPACE:return~p.activeMatchIndex?(p.removeChoice(l),c):s;case e.DELETE:return~p.activeMatchIndex?(p.removeChoice(p.activeMatchIndex),l):!1}}var i=a(h.searchInput[0]),r=h.selected.length,o=0,s=r-1,l=p.activeMatchIndex,u=p.activeMatchIndex+1,c=p.activeMatchIndex-1,d=l;return i>0||h.search.length&&t==e.RIGHT?!1:(h.close(),d=n(),p.activeMatchIndex=h.selected.length&&d!==!1?Math.min(s,Math.max(o,d)):-1,!0)}function u(e){if(void 0===e||void 0===h.search)return!1;var t=e.filter(function(e){return void 0===h.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===h.search.toUpperCase()}).length>0;return t}function c(e,t){var n=-1;if(angular.isArray(e))for(var i=angular.copy(e),r=0;r<i.length;r++)if(void 0===h.tagging.fct)i[r]+" "+h.taggingLabel===t&&(n=r);else{var o=i[r];o.isTag=!0,angular.equals(o,t)&&(n=r)}return n}var h=s[0],d=i.ngModel=s[1],p=i.$selectMultiple;h.multiple=!0,h.removeSelected=!0,h.focusInput=h.searchInput,d.$parsers.unshift(function(){for(var e,t={},n=[],r=h.selected.length-1;r>=0;r--)t={},t[h.parserResult.itemName]=h.selected[r],e=h.parserResult.modelMapper(i,t),n.unshift(e);return n}),d.$formatters.unshift(function(e){var t,n=h.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return e;var o=[],s=function(e,n){if(e&&e.length){for(var s=e.length-1;s>=0;s--){if(r[h.parserResult.itemName]=e[s],t=h.parserResult.modelMapper(i,r),h.parserResult.trackByExp){var a=/\.(.+)/.exec(h.parserResult.trackByExp);if(a.length>0&&t[a[1]]==n[a[1]])return o.unshift(e[s]),!0}if(angular.equals(t,n))return o.unshift(e[s]),!0}return!1}};if(!e)return o;for(var a=e.length-1;a>=0;a--)s(h.selected,e[a])||s(n,e[a])||o.unshift(e[a]);return o}),i.$watchCollection(function(){return d.$modelValue},function(e,t){t!=e&&(d.$modelValue=null,p.refreshComponent())}),d.$render=function(){if(!angular.isArray(d.$viewValue)){if(!angular.isUndefined(d.$viewValue)&&null!==d.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",d.$viewValue);h.selected=[]}h.selected=d.$viewValue,i.$evalAsync()},i.$on("uis:select",function(e,t){h.selected.push(t),p.updateModel()}),i.$on("uis:activate",function(){p.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&h.sizeSearchInput()}),h.searchInput.on("keydown",function(t){var n=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(n)&&(i=l(n)),i&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),h.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){h.activeIndex=h.taggingLabel===!1?-1:0}),h.tagging.isActivated&&h.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(h.activeIndex=h.taggingLabel===!1?-1:0,h.taggingLabel===!1)return;var n,r,o,s,a=angular.copy(h.items),l=angular.copy(h.items),d=!1,p=-1;if(void 0!==h.tagging.fct){if(o=h.$filter("filter")(a,{isTag:!0}),o.length>0&&(s=o[0]),a.length>0&&s&&(d=!0,a=a.slice(1,a.length),l=l.slice(1,l.length)),n=h.tagging.fct(h.search),n.isTag=!0,l.filter(function(e){return angular.equals(e,h.tagging.fct(h.search))}).length>0)return;n.isTag=!0}else{if(o=h.$filter("filter")(a,function(e){return e.match(h.taggingLabel)}),o.length>0&&(s=o[0]),r=a[0],void 0!==r&&a.length>0&&s&&(d=!0,a=a.slice(1,a.length),l=l.slice(1,l.length)),n=h.search+" "+h.taggingLabel,c(h.selected,h.search)>-1)return;if(u(l.concat(h.selected)))return d&&(a=l,i.$evalAsync(function(){h.activeIndex=0,h.items=a})),void 0;if(u(l))return d&&(h.items=l.slice(1,l.length)),void 0}d&&(p=c(h.selected,n)),p>-1?a=a.slice(p+1,a.length-1):(a=[],a.push(n),a=a.concat(l)),i.$evalAsync(function(){h.activeIndex=0,h.items=a})}}),h.searchInput.on("blur",function(){n(function(){p.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,r,o,s){var a=s[0],l=s[1];l.$parsers.unshift(function(e){var t,n={};return n[a.parserResult.itemName]=e,t=a.parserResult.modelMapper(i,n)}),l.$formatters.unshift(function(e){var t,n=a.parserResult.source(i,{$select:{search:""}}),r={};if(n){var o=function(n){return r[a.parserResult.itemName]=n,t=a.parserResult.modelMapper(i,r),t==e};if(a.selected&&o(a.selected))return a.selected;for(var s=n.length-1;s>=0;s--)if(o(n[s]))return n[s]}return e}),i.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){a.selected=l.$viewValue},i.$on("uis:select",function(e,t){a.selected=t}),i.$on("uis:close",function(e,n){t(function(){a.focusser.prop("disabled",!1),n||a.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(u)(i),a.focusser=u,a.focusInput=u,r.parent().append(u),u.bind("focus",function(){i.$evalAsync(function(){a.focus=!0})}),u.bind("blur",function(){i.$evalAsync(function(){a.focus=!1})}),u.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),a.select(void 0),i.$apply(),void 0):(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),a.activate()),i.$digest()),void 0)}),u.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(a.activate(u.val()),u.val(""),i.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,i,r,o){if(null===t[r.uiSelectSort])throw n("sort","Expected a list to sort");var s=angular.extend({axis:"horizontal"},t.$eval(r.uiSelectSortOptions)),a=s.axis,l="dragging",u="dropping",c="dropping-before",h="dropping-after";t.$watch(function(){return o.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(l),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),i.on("dragend",function(){i.removeClass(l)});var d,p=function(e,t){this.splice(t,0,this.splice(e,1)[0])},f=function(e){e.preventDefault();var t="vertical"===a?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===a?"offsetHeight":"offsetWidth"]/2?(i.removeClass(h),i.addClass(c)):(i.removeClass(c),i.addClass(h))},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(d),d=e(function(){m(n)},20)},m=function(e){var n=t.$eval(r.uiSelectSort),o=n[e],s=null;s=i.hasClass(c)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,p.apply(n,[e,s]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:s})}),i.removeClass(u),i.removeClass(c),i.removeClass(h),i.off("drop",g)};i.on("dragenter",function(){i.hasClass(l)||(i.addClass(u),i.on("dragover",f),i.on("drop",g))}),i.on("dragleave",function(e){e.target==i&&(i.removeClass(u),i.removeClass(c),i.removeClass(h),i.off("dragover",f),i.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:i[2],source:t(i[3]),trackByExp:i[4],modelMapper:t(i[1]||i[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,i){var r=e+" in "+(i?"$group.items":t);return n&&(r+=" track by "+n),r}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')
}]),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){"use strict";t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){"use strict";return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),o(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var i=t.length,r=function(e,n){return n=parseInt(n,10),n>=0&&i>n?t[n]:e};n=n.replace(/\$([0-9]+)/g,r)}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,n){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,i){"use strict";return{restrict:"ECA",terminal:!0,compile:function(r,o){var s=o.uiInclude||o.src,a=o.fragment||"",l=o.onload||"",u=o.autoscroll;return function(r,o){function c(){var c=++d,f=r.$eval(s),g=r.$eval(a);f?e.get(f,{cache:t}).success(function(e){if(c===d){h&&h.$destroy(),h=r.$new();var t;t=g?angular.element("<div/>").html(e).find(g):angular.element("<div/>").html(e).contents(),o.html(t),i(t)(h),!angular.isDefined(u)||u&&!r.$eval(u)||n(),h.$emit("$includeContentLoaded"),r.$eval(l)}}).error(function(){c===d&&p()}):p()}var h,d=0,p=function(){h&&(h.$destroy(),h=null),o.html("")};r.$watch(a,c),r.$watch(s,c)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function e(e){return e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")}),e.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function t(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var n={humanize:function(n){return t(e(n)).join(" ")},underscore:function(t){return e(t).join("_")},variable:function(n){return n=e(n),n=n[0]+t(n.slice(1)).join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){"use strict";return{restrict:"A",compile:function(n,i){if(!angular.isFunction(n[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var r=e&&e[i.uiJq];return function(e,n,i){function o(){var t=[];return i.uiOptions?(t=e.$eval("["+i.uiOptions+"]"),angular.isObject(r)&&angular.isObject(t[0])&&(t[0]=angular.extend({},r,t[0]))):r&&(t=[r]),t}function s(){t(function(){n[i.uiJq].apply(n,o())},0,!1)}i.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),i.uiRefresh&&e.$watch(i.uiRefresh,function(){s()}),s()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){"use strict";var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(i,r,o,s){var a,l=[];a=r.$eval(s["ui"+n(i)]),angular.forEach(a,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),l.push(i)})}),o.bind(i,function(e){var n=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,s=!!e.ctrlKey,a=!!e.shiftKey,u=e.keyCode;"keypress"===i&&!a&&u>=97&&122>=u&&(u-=32),angular.forEach(l,function(i){var l=i.keys[t[u]]||i.keys[u.toString()],c=!!i.keys.meta,h=!!i.keys.alt,d=!!i.keys.ctrl,p=!!i.keys.shift;l&&c===n&&h===o&&d===s&&p===a&&r.$apply(function(){i.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keyup",t,n,i)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,t){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var n=e;return function(e,i,r,o){function s(e){return angular.isDefined(e)?(b(e),G?(h(),d(),!0):c()):c()}function a(e){angular.isDefined(e)&&(D=e,G&&A())}function l(e){return G?(R=g(e||""),P=f(R),o.$setValidity("mask",P),P&&R.length?m(R):void 0):e}function u(e){return G?(R=g(e||""),P=f(R),o.$viewValue=R.length?m(R):"",o.$setValidity("mask",P),""===R&&r.required&&o.$setValidity("required",!o.$error.required),P?R:void 0):e}function c(){return G=!1,p(),angular.isDefined(V)?i.attr("placeholder",V):i.removeAttr("placeholder"),angular.isDefined(U)?i.attr("maxlength",U):i.removeAttr("maxlength"),i.val(o.$modelValue),o.$viewValue=o.$modelValue,!1}function h(){R=I=g(o.$viewValue||""),L=O=m(R),P=f(R);var e=P&&R.length?L:"";r.maxlength&&i.attr("maxlength",2*T[T.length-1]),i.attr("placeholder",D),i.val(e),o.$viewValue=e}function d(){H||(i.bind("blur",w),i.bind("mousedown mouseup",C),i.bind("input keyup click focus",A),H=!0)}function p(){H&&(i.unbind("blur",w),i.unbind("mousedown",C),i.unbind("mouseup",C),i.unbind("input",A),i.unbind("keyup",A),i.unbind("click",A),i.unbind("focus",A),H=!1)}function f(e){return e.length?e.length>=M:!0}function g(e){var t="",n=k.slice();return e=e.toString(),angular.forEach(F,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function m(e){var t="",n=T.slice();return angular.forEach(D.split(""),function(i,r){e.length&&r===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=i}),t}function v(e){var t=r.placeholder;return"undefined"!=typeof t&&t[e]?t[e]:"_"}function y(){return D.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function b(e){var t=0;if(T=[],k=[],D="","string"==typeof e){M=0;var n=!1,i=0,r=e.split("");angular.forEach(r,function(e,r){z.maskDefinitions[e]?(T.push(t),D+=v(r-i),k.push(z.maskDefinitions[e]),t++,n||M++):"?"===e?(n=!0,i++):(D+=e,t++)})}T.push(T.slice().pop()+1),F=y(),G=T.length>1?!0:!1}function w(){z.clearOnBlur&&(B=0,N=0,P&&0!==R.length||(L="",i.val(""),e.$apply(function(){o.$setViewValue("")})))}function C(e){"mousedown"===e.type?i.bind("mouseout",x):i.unbind("mouseout",x)}function x(){N=$(this),i.unbind("mouseout",x)}function A(t){t=t||{};var n=t.which,r=t.type;if(16!==n&&91!==n){var s,a=i.val(),l=O,u=g(a),c=I,h=!1,d=_(this)||0,p=B||0,f=d-p,v=T[0],y=T[u.length]||T.slice().shift(),b=N||0,w=$(this)>0,C=b>0,x=a.length>l.length||b&&a.length>l.length-b,A=a.length<l.length||b&&a.length===l.length-b,k=n>=37&&40>=n&&t.shiftKey,D=37===n,F=8===n||"keyup"!==r&&A&&-1===f,M=46===n||"keyup"!==r&&A&&0===f&&!C,R=(D||F||"click"===r)&&d>v;if(N=$(this),!k&&(!w||"click"!==r&&"keyup"!==r)){if("input"===r&&A&&!C&&u===c){for(;F&&d>v&&!S(d);)d--;for(;M&&y>d&&-1===T.indexOf(d);)d++;var L=T.indexOf(d);u=u.substring(0,L)+u.substring(L+1),h=!0}for(s=m(u),O=s,I=u,i.val(s),h&&e.$apply(function(){o.$setViewValue(u)}),x&&v>=d&&(d=v+1),R&&d--,d=d>y?y:v>d?v:d;!S(d)&&d>v&&y>d;)d+=R?-1:1;(R&&y>d||x&&!S(p))&&d++,B=d,E(this,d)}}}function S(e){return T.indexOf(e)>-1}function _(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}function E(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function $(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var T,k,D,F,M,R,L,P,O,I,B,N,G=!1,H=!1,V=r.placeholder,U=r.maxlength,z={};r.uiOptions?(z=e.$eval("["+r.uiOptions+"]"),angular.isObject(z[0])&&(z=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.extend(t[n],e[n]));return t}(n,z[0]))):z=n,r.$observe("uiMask",s),r.$observe("placeholder",a);var W=!1;r.$observe("modelViewValue",function(e){"true"===e&&(W=!0)}),e.$watch(r.ngModel,function(n){if(W&&n){var i=t(r.ngModel);i.assign(e,o.$viewValue)}}),o.$formatters.push(l),o.$parsers.push(u),i.bind("mousedown mouseup",C),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&1/0!==i&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in t&&t[r]===e)return r;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.uiReset?r.$setViewValue(e.$eval(i.uiReset)):r.$setViewValue(t),r.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){"use strict";return{restrict:"AC",scope:!0,compile:function(n,i){var r;if(i.uiRoute)r="uiRoute";else if(i.ngHref)r="ngHref";else{if(!i.href)throw new Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,i,o){function s(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),u=function(){l(n,e.path().indexOf(t)>-1)},u()}function a(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),u=function(){var i=new RegExp("^"+t+"$",["i"]);l(n,i.test(e.path()))},u()}var l=t(o.ngModel||o.routeModel||"$uiRoute").assign,u=angular.noop;switch(r){case"uiRoute":o.uiRoute?a(o.uiRoute):o.$observe("uiRoute",a);break;case"ngHref":o.ngHref?s(o.ngHref):o.$observe("ngHref",s);break;case"href":s(o.href)}n.$on("$routeChangeSuccess",function(){u()}),n.$on("$stateChangeSuccess",function(){u()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){"use strict";return{registerFor:function(e){var n,i,r,o,s,a,l;return i=angular.element.prototype.css,e.prototype.css=function(e,t){var n,r;return r=this,n=r[0],n&&3!==n.nodeType&&8!==n.nodeType&&n.style?i.call(r,e,t):void 0},a=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},l=function(e,t,n){var i,r,o,s,l;return i=e[0],l={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],r=l[0],s=l[1],o=l[2],a(i)?angular.isDefined(n)?i.scrollTo(e[o].call(e),n):s in i?i[s]:i.document.documentElement[r]:angular.isDefined(n)?i[r]=n:i[r]},t.getComputedStyle?(o=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(o=function(e){return e.currentStyle},n=function(e,t){var n,i,r,o,s,a,l;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,o=new RegExp("^("+n+")(?!px)[a-z%]+$","i"),o.test(t)?(l=e.style,i=l.left,s=e.runtimeStyle,a=s&&s.left,s&&(s.left=l.left),l.left=t,r=l.pixelLeft,l.left=i,a&&(s.left=a),r):parseFloat(t)}),r=function(e,t){var i,r,s,l,u,c,h,d,p,f,g,m,v;return a(e)?(i=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:i,padding:0,border:0,margin:0}):(v={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],i=v[0],h=v[1],d=v[2],c=o(e),g=n(e,c["padding"+h])||0,m=n(e,c["padding"+d])||0,r=n(e,c["border"+h+"Width"])||0,s=n(e,c["border"+d+"Width"])||0,l=c["margin"+h],u=c["margin"+d],p=n(e,l)||0,f=n(e,u)||0,{base:i,padding:g+m,border:r+s,margin:p+f})},s=function(e,t,n){var i,s,a;return s=r(e,t),s.base>0?{base:s.base-s.padding-s.border,outer:s.base,outerfull:s.base+s.margin}[n]:(i=o(e),a=i[t],(0>a||null===a)&&(a=e.style[t]||0),a=parseFloat(a)||0,{base:a-s.padding-s.border,outer:a,outerfull:a+s.padding+s.border+s.margin}[n])},angular.forEach({before:function(e){var t,n,i,r,o,s,a;if(o=this,n=o[0],r=o.parent(),t=r.contents(),t[0]===n)return r.prepend(e);for(i=s=1,a=t.length-1;a>=1?a>=s:s>=a;i=a>=1?++s:--s)if(t[i]===n)return angular.element(t[i-1]).after(e),void 0;throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),i.call(t,"height",e)):s(this[0],"height","base")},outerHeight:function(e){return s(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,i,r,o,s;if(o=this,arguments.length){if(void 0===e)return o;throw new Error("offset setter method is not implemented")}return t={top:0,left:0},r=o[0],(n=r&&r.ownerDocument)?(i=n.documentElement,null!=r.getBoundingClientRect&&(t=r.getBoundingClientRect()),s=n.defaultView||n.parentWindow,{top:t.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):void 0},scrollTop:function(e){return l(this,"top",e)},scrollLeft:function(e){return l(this,"left",e)}},function(t,n){return e.prototype[n]?void 0:e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){"use strict";return t.jQuery?void 0:n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,i){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(r,o,s){return function(r,o,a,l){var u,c,h,d,p,f,g,m,v,y,b,w,C,x,A,S,_,E,$,T,k,D,F,M,R,L,P,O,I,B,N,G,H,V,U,z,W,j,q,K,Y,X,Z,J,Q,et,tt,nt,it;if(G=e.debug||e.log,H=a.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/),!H)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+a.uiScroll+"'");if(B=H[1],A=H[2],L=function(e,t){var n;if(e)return n=t.match(/^([\w]+)\.(.+)$/),n&&3===n.length?L(e[n[1]],n[2]):e[t]},Y=function(e,t,n,i){var r;if(e&&t&&((r=t.match(/^([\w]+)\.(.+)$/))||-1===t.indexOf(".")))return r&&3===r.length?(angular.isObject(e[r[1]])||i||(e[r[1]]={}),Y(e[r[1]],r[2],n,i)):e[t]=angular.isObject(e[t])||i?n:n},x=L(r,A),I=function(){return angular.isObject(x)&&"function"==typeof x.get},!I()&&(x=t.get(A),!I()))throw new Error(""+A+" is not a valid datasource");return y=Math.max(3,+a.bufferSize||10),v=function(){return tt.outerHeight()*Math.max(.1,+a.padding||.1)},K=function(e){var t;return null!=(t=e[0].scrollHeight)?t:e[0].document.documentElement.scrollHeight},b=null,s(r.$new(),function(e){var t,n,i,s,a,u;if(s=e[0].localName,"dl"===s)throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==s&&"tr"!==s&&(s="div"),u=l[0]&&l[0].viewport?l[0].viewport:angular.element(window),u.css({"overflow-y":"auto",display:"block"}),i=function(e){var t,n,i;switch(e){case"tr":return i=angular.element("<table><tr><td><div></div></td></tr></table>"),t=i.find("div"),n=i.find("tr"),n.paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return n=angular.element("<"+e+"></"+e+">"),n.paddingHeight=n.height,n}},n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}},a=n(i(s),o,"top"),t=n(i(s),o,"bottom"),r.$on("$destroy",e.remove),b={viewport:u,topPadding:a.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:a.insert,bottomDataPos:function(){return K(u)-t.paddingHeight()},topDataPos:function(){return a.paddingHeight()}}}),tt=b.viewport,nt=tt.scope()||n,Q=function(e){return u.topVisible=e.scope[B],u.topVisibleElement=e.element,u.topVisibleScope=e.scope,a.topVisible&&Y(nt,a.topVisible,u.topVisible),a.topVisibleElement&&Y(nt,a.topVisibleElement,u.topVisibleElement),a.topVisibleScope&&Y(nt,a.topVisibleScope,u.topVisibleScope),"function"==typeof x.topVisible?x.topVisible(e):void 0},N=function(e){return u.isLoading=e,a.isLoading&&Y(r,a.isLoading,e),"function"==typeof x.loading?x.loading(e):void 0},q=0,R=1,V=1,m=[],U=[],k=!1,f=!1,W=function(e,t){var n,i;for(n=i=e;t>=e?t>i:i>t;n=t>=e?++i:--i)m[n].scope.$destroy(),m[n].element.remove();return m.splice(e,t-e)},z=function(){return q++,R=1,V=1,W(0,m.length),b.topPadding(0),b.bottomPadding(0),U=[],k=!1,f=!1,h(q)},g=function(){return tt.scrollTop()+tt.outerHeight()},et=function(){return tt.scrollTop()},X=function(){return!k&&b.bottomDataPos()<g()+v()},w=function(){var e,t,n,i,r,o,s,a,l,u;for(e=0,s=0,t=l=u=m.length-1;0>=u?0>=l:l>=0;t=0>=u?++l:--l)if(n=m[t],r=n.element.offset().top,o=a!==r,a=r,o&&(i=n.element.outerHeight(!0)),b.bottomDataPos()-e-i>g()+v())o&&(e+=i),s++,k=!1;else{if(o)break;s++}return s>0?(b.bottomPadding(b.bottomPadding()+e),W(m.length-s,m.length),V-=s):void 0},Z=function(){return!f&&b.topDataPos()>et()-v()},C=function(){var e,t,n,i,r,o,s,a,l;for(s=0,r=0,a=0,l=m.length;l>a;a++)if(e=m[a],n=e.element.offset().top,i=o!==n,o=n,i&&(t=e.element.outerHeight(!0)),b.topDataPos()+s+t<et()-v())i&&(s+=t),r++,f=!1;else{if(i)break;r++}return r>0?(b.topPadding(b.topPadding()+s),W(0,r),R+=r):void 0},T=function(e,t){return u.isLoading||N(!0),1===U.push(t)?F(e):void 0},P=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},J=function(e){return e.hasOwnProperty("displayTemp")?e.css("display",e.displayTemp):void 0},O=function(e,t){var n,i,o;return n=r.$new(),n[B]=t,i=e>R,n.$index=e,i&&n.$index--,o={scope:n},s(n,function(t){return o.element=t,i?e===V?(P(t),b.append(t),m.push(o)):(m[e-R].element.after(t),m.splice(e-R+1,0,o)):(P(t),b.prepend(t),m.unshift(o))}),{appended:i,wrapper:o}},d=function(e,t){var n;return e?b.bottomPadding(Math.max(0,b.bottomPadding()-t.element.outerHeight(!0))):(n=b.topPadding()-t.element.outerHeight(!0),n>=0?b.topPadding(n):tt.scrollTop(tt.scrollTop()+t.element.outerHeight(!0)))},S=function(e,t){var n,i,r,o,s,a,l,u,c;if(X()?T(e,!0):Z()&&T(e,!1),t&&t(e),0===U.length){for(a=0,c=[],l=0,u=m.length;u>l;l++){if(n=m[l],r=n.element.offset().top,o=s!==r,s=r,o&&(i=n.element.outerHeight(!0)),!(o&&b.topDataPos()+a+i<et())){o&&Q(n);break}c.push(a+=i)}return c}},h=function(e,t,n){return t&&t.length?i(function(){var i,r,o,s,a,l,u,c,h;for(a=[],l=0,c=t.length;c>l;l++)o=t[l],i=o.wrapper.element,J(i),r=i.offset().top,s!==r&&(a.push(o),s=r);for(u=0,h=a.length;h>u;u++)o=a[u],d(o.appended,o.wrapper);return S(e,n)}):S(e,n)},M=function(e,t){return h(e,t,function(){return U.shift(),0===U.length?N(!1):F(e)})},F=function(e){var t;return t=U[0],t?m.length&&!X()?M(e):x.get(V,y,function(t){var n,i,o,s;if(!(e&&e!==q||r.$$destroyed)){if(i=[],t.length<y&&(k=!0,b.bottomPadding(0)),t.length>0)for(C(),o=0,s=t.length;s>o;o++)n=t[o],i.push(O(++V,n));return M(e,i)}}):m.length&&!Z()?M(e):x.get(R-y,y,function(t){var n,i,o,s;if(!(e&&e!==q||r.$$destroyed)){if(i=[],t.length<y&&(f=!0,b.topPadding(0)),t.length>0)for(m.length&&w(),n=o=s=t.length-1;0>=s?0>=o:o>=0;n=0>=s?++o:--o)i.unshift(O(--R,t[n]));return M(e,i)}})},j=function(){return n.$$phase||u.isLoading?void 0:(h(),r.$apply())},it=function(e){var t,n;return t=tt[0].scrollTop,n=tt[0].scrollHeight-tt[0].clientHeight,0===t&&!f||t===n&&!k?e.preventDefault():void 0},tt.bind("resize",j),tt.bind("scroll",j),tt.bind("mousewheel",it),r.$watch(x.revision,z),D=x.scope?x.scope.$new():r.$new(),r.$on("$destroy",function(){var e,t,n;for(t=0,n=m.length;n>t;t++)e=m[t],e.scope.$destroy(),e.element.remove();return tt.unbind("resize",j),tt.unbind("scroll",j),tt.unbind("mousewheel",it)}),u={},u.isLoading=!1,p=function(e,t){var n,i,r,o,s,a,l,u,c,h,d,p;if(i=[],angular.isArray(t))if(t.length){if(1===t.length&&t[0]===e.scope[B])return i;for(o=e.scope.$index,a=o>R?o-R:1,n=l=0,h=t.length;h>l;n=++l)s=t[n],i.push(O(o+n,s));for(W(a,a+1),n=u=0,d=m.length;d>u;n=++u)r=m[n],r.scope.$index=R+n}else for(W(e.scope.$index-R,e.scope.$index-R+1),V--,n=c=0,p=m.length;p>c;n=++c)r=m[n],r.scope.$index=R+n;return i},u.applyUpdates=function(e,t){var n,i,r,o,s,a;if(n=[],q++,angular.isFunction(e))for(s=m.slice(0),r=0,o=s.length;o>r;r++)i=s[r],n.concat(n,p(i,e(i.scope[B],i.scope,i.element)));else{if(0!==e%1)throw new Error("applyUpdates - "+e+" is not a valid index or outside of range");0<=(a=e-R-1)&&a<m.length&&(n=p(m[e-R],t))}return h(q,n)},a.adapter&&(c=L(r,a.adapter),c||(Y(r,a.adapter,{}),c=L(r,a.adapter)),angular.extend(c,u),u=c),$=function(e,t){var n,i,r,o,s;if(angular.isFunction(e))for(i=function(t){return e(t.scope)},r=0,o=m.length;o>r;r++)n=m[r],i(n);else 0<=(s=e-R-1)&&s<m.length&&(m[e-R-1].scope[B]=t);return null},_=function(e){var t,n,i,r,o,s,a,l,u,c,d,p;if(angular.isFunction(e)){for(i=[],s=0,u=m.length;u>s;s++)n=m[s],i.unshift(n);for(o=function(n){return e(n.scope)?(W(i.length-1-t,i.length-t),V--):void 0},t=a=0,c=i.length;c>a;t=++a)r=i[t],o(r)}else 0<=(p=e-R-1)&&p<m.length&&(W(e-R-1,e-R),V--);for(t=l=0,d=m.length;d>l;t=++l)n=m[t],n.scope.$index=R+t;return h()},E=function(e,t){var n,i,r,o,s;if(i=[],angular.isFunction(e))throw new Error("not implemented - Insert with locator function");for(0<=(s=e-R-1)&&s<m.length&&(i.push(O(e,t)),V++),n=r=0,o=m.length;o>r;n=++r)t=m[n],t.scope.$index=R+n;return h(null,i)},D.$on("insert.item",function(e,t,n){return E(t,n)}),D.$on("update.items",function(e,t,n){return $(t,n)}),D.$on("delete.items",function(e,t){return _(t)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){"use strict";function t(){if(angular.isDefined(e.pageYOffset))return e.pageYOffset;var t=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;return t.scrollTop}return{require:"^?uiScrollfixTarget",link:function(n,i,r,o){function s(){var e=l?r.uiScrollfix:i[0].offsetTop+u,n=o?c[0].scrollTop:t();!i.hasClass("ui-scrollfix")&&n>e?(i.addClass("ui-scrollfix"),a=e):i.hasClass("ui-scrollfix")&&a>n&&i.removeClass("ui-scrollfix")}var a,l=!0,u=0,c=o&&o.$element||angular.element(e);r.uiScrollfix?"string"==typeof r.uiScrollfix&&("-"===r.uiScrollfix.charAt(0)?(l=!1,u=-parseFloat(r.uiScrollfix.substr(1))):"+"===r.uiScrollfix.charAt(0)&&(l=!1,u=parseFloat(r.uiScrollfix.substr(1)))):l=!1,a=l?r.uiScrollfix:i[0].offsetTop+u,c.on("scroll",s),n.$on("$destroy",function(){c.off("scroll",s)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){"use strict";return function(t,n){if(n===!1)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var i=[],r=angular.isString(n)?e(n):function(e){return e},o=function(e){return angular.isObject(e)?r(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;n<i.length;n++)if(angular.equals(o(i[n]),o(e))){t=!0;break}t||i.push(e)}),t=i}return t}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,n,i){function r(t){return angular.isString(t)?(e.$watch(t,function(){angular.forEach(s,function(e){e(i.$modelValue)})}),void 0):angular.isArray(t)?(angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(s,function(e){e(i.$modelValue)})})}),void 0):(angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){s[n](i.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){s[n](i.$modelValue)})})}),void 0)}var o,s={},a=e.$eval(n.uiValidate);a&&(angular.isString(a)&&(a={validator:a}),angular.forEach(a,function(t,n){o=function(r){var o=e.$eval(t,{$value:r});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){i.$setValidity(n,!0)},function(){i.$setValidity(n,!1)}),r):o?(i.$setValidity(n,!0),r):(i.$setValidity(n,!1),r)},s[n]=o,i.$formatters.push(o),i.$parsers.push(o)}),n.uiValidateWatch&&r(e.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),function(e){"use strict";for(var t,n,i={},r=function(){},o="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)e[t]=e[t]||i;for(;n=s.pop();)e[n]=e[n]||r}(this.console=this.console||{}),angular.module("elzoido.auth",[]).constant("elzoidoAuthModule",{config:{userProvider:null,providersProvider:null,functionProfile:null,functionSignin:null,functionSignout:null}}),angular.module("elzoido.auth").run(["$templateCache",function(e){e.put("partials/user.html",'<!--\n# Copyright (C) 2014 marigan.net\n#\n# This file is part of elzoido-auth.\n#\n# elzoido-auth is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# elzoido-auth is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with elzoido-auth. If not, see <http://www.gnu.org/licenses/>.\n#\n# Authors: Michal Mocnak <michal@marigan.net>\n-->\n\n<li class="dropdown">\n    <a ng-show="user.isGuest()" href="#" class="dropdown-toggle" data-toggle="dropdown">Sign In <span class="fa fa-sign-in"></span></a>\n    <ul ng-show="user.isGuest()" class="dropdown-menu">\n        <li ng-repeat="provider in providers">\n            <a href="#" ng-click="signin(provider)"><span class="fa fa-{{icon(provider)}}"></span> {{provider | elzoidoAuthCapitalize}}</a>\n        </li>\n    </ul>\n\n    <a ng-hide="user.isGuest()" href="#" class="dropdown-toggle" data-toggle="dropdown">\n        <span class="fa fa-user"></span>\n        <span class="left-buffer-10">{{user.name}}</span>\n        <span class="caret"></span>\n    </a>\n    <ul ng-hide="user.isGuest()" class="dropdown-menu">\n        <li><a href="#" ng-click="profile()"><span class="fa fa-wrench"></span> Profile</a></li>\n        <li><a href="#" ng-click="signout()"><span class="fa fa-sign-out"></span> Sign Out</a></li>\n    </ul>\n</li>')}]),angular.module("elzoido.auth").directive("elzoidoAuthAccess",["$animate","elzoidoAuthUser",function(e,t){return{restrict:"A",scope:{roles:"@elzoidoAuthAccess"},link:function(n,i){var r;return r=function(){return _.isUndefined(n.roles)?void 0:e[t.get().hasRoles(n.roles)||_.isEmpty(n.roles)?"removeClass":"addClass"](i,"ng-hide")},r(),n.$on("event:elzoido-auth-user",function(){return r()})}}}]),angular.module("elzoido.auth").directive("elzoidoAuthUser",function(){return{restrict:"A",transclude:!0,scope:{},controller:["$scope","$rootScope","$injector","elzoidoAuthModule","elzoidoAuthUser","elzoidoAuthAPI",function(e,t,n,i,r,o){return e.user=r.get(),n.get(i.config.providersProvider).providers(function(t){return e.providers=t.providers}),e.signin=function(e){return o.signin(e)},e.signout=function(){return o.signout()},e.profile=function(){return i.config.functionProfile()},e.icon=function(e){return _.isEqual(e,"developer")?"user":e},t.$on("event:elzoido-auth-user",function(){return e.user=r.get()})}],templateUrl:"partials/user.html",replace:!1}}),angular.module("elzoido.auth").filter("elzoidoAuthCapitalize",function(){return function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}}),angular.module("elzoido.auth").factory("elzoidoAuthAPI",["$rootScope","$injector","elzoidoAuthModule","elzoidoAuthUser",function(e,t,n,i){return{signin:function(t){return n.config.functionSignin(t).then(function(){return e.$broadcast("event:elzoido-auth-signin"),i.signin()})},signout:function(){return n.config.functionSignout().then(function(){return e.$broadcast("event:elzoido-auth-signout"),i.signout()})}}}]),angular.module("elzoido.auth").factory("elzoidoAuthInterceptor",["$q","$rootScope",function(e,t){return{responseError:function(n){return 401===n.status?(t.$broadcast("event:elzoido-auth-unauthenticated",n.status),e.reject(n)):403===n.status?(t.$broadcast("event:elzoido-auth-unauthorized",n.status),e.reject(n)):(t.$broadcast("event:elzoido-auth-error",n.status),e.reject(n))}}}]),angular.module("elzoido.auth").factory("elzoidoAuthUser",["$rootScope","$injector","elzoidoAuthModule",function(e,t,n){var i,r,o,s;return s={name:"Guest",roles:["guest"]},o=function(e){return!_.isEmpty(_.intersection(r.roles,e.split(",")))},i=function(e){return _.merge(e,{isGuest:function(){return o("guest")},isAdmin:function(){return o("admin")},hasRoles:function(e){return o(e)}})},r=i(s),{get:function(){return r},signin:function(){return t.get(n.config.userProvider).profile(function(t){return r=i(t.user),e.$broadcast("event:elzoido-auth-user")})},signout:function(){return r=s}}}]),angular.module("elzoido.messages",[]).constant("elzoidoMessagesModule",{config:{timeout:5e3}}),angular.module("elzoido.messages").run(["$templateCache",function(e){e.put("partials/messages.html",'<!--\n# Copyright (C) 2014 marigan.net\n#\n# This file is part of elzoido-messages.\n#\n# elzoido-messages is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# elzoido-messages is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with elzoido-messages. If not, see <http://www.gnu.org/licenses/>.\n#\n# Authors: Michal Mocnak <michal@marigan.net>\n-->\n<div ng-repeat="alert in alerts" class="alert alert-{{alert.type}}" role="alert">\n    <button type="button" class="close" ng-click="close($index)"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n    <span style="margin-right: 20px;"><strong>{{alert.title}}</strong> {{alert.message}}</span>\n</div>')
}]),angular.module("elzoido.messages").directive("elzoidoMessages",function(){return{restrict:"A",transclude:!0,scope:{},controller:["$scope","$timeout","elzoidoMessagesModule",function(e,t,n){return e.alerts=[],e.close=function(t){return e.alerts.splice(t,1)},e.push=function(t){return e.alerts.push(t)},e.$on("event:elzoido-messages-alert",function(i,r){return e.push(r),t(function(){return e.close(e.alerts.indexOf(r))},n.config.timeout)})}],templateUrl:"partials/messages.html",replace:!1}}),angular.module("elzoido.messages").factory("elzoidoMessages",["$rootScope",function(e){return{send:function(t,n,i){return e.$broadcast("event:elzoido-messages-alert",{type:t,title:n,message:i})}}}]),angular.module("elzoido.navigation",[]).constant("elzoidoNavigationModule",{config:{navigationTree:{name:"home",title:"Home",url:"/"}}}),angular.module("elzoido.navigation").run(["$templateCache",function(e){e.put("partials/navigation.html",'<!--\n# Copyright (C) 2014 marigan.net\n#\n# This file is part of elzoido-navigation.\n#\n# elzoido-navigation is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# elzoido-navigation is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with elzoido-navigation. If not, see <http://www.gnu.org/licenses/>.\n#\n# Authors: Michal Mocnak <michal@marigan.net>\n-->\n\n<li ng-repeat="primary in navigation" ng-class="{active:selected(primary), dropdown:primary.items.length}"\n    elzoido-auth-access="{{primary.access.toString()}}">\n    <a ng-hide="primary.items.length" href="{{primary.url}}">{{primary.title}}</a>\n    <a ng-show="primary.items.length" href="{{primary.url}}" class="dropdown-toggle" data-toggle="dropdown">\n        {{primary.title}} <span class="caret"></span></a>\n    <ul ng-show="primary.items.length" class="dropdown-menu">\n        <li ng-repeat="secondary in primary.items" ng-class="{active:selected(secondary)}"\n            elzoido-auth-access="{{secondary.access.toString()}}">\n            <a href="{{secondary.url}}">{{secondary.title}}</a>\n        </li>\n    </ul>\n</li>')}]),angular.module("elzoido.navigation").directive("elzoidoNavigation",function(){return{restrict:"A",transclude:!0,scope:{},controller:["$scope","$location","elzoidoNavigationModule",function(e,t,n){return e.navigation=n.config.navigationTree,e.selected=function(e){var n,i;return null!=(n=_.isEqual(t.path(),e.url))?n:{"true":null!=(i=_.isEqual(e.url,"/"))?i:{"false":t.path().indexOf(e.url)>-1}}}}],templateUrl:"partials/navigation.html",replace:!1}}),angular.module("elzoido.promises",["dialogs.main","dialogs.default-translations"]).constant("elzoidoPromisesModule",{config:{timeout:500}}),angular.module("elzoido.promises").factory("elzoidoPromises",["$rootScope","$q","$timeout","dialogs","elzoidoPromisesModule",function(e,t,n,i,r){var o,s,a,l,u;return s={},l=function(e,t){return _.isUndefined(s[e])&&(s[e]=[]),s[e].push(t),t.then(function(){return _.remove(s[e],t)})},a=function(e){return _.isUndefined(s[e])?!1:s[e].length>0},o=function(e){return t.all(s[e])},u=function(e,t){return n(function(){var n;return a(e)?(n=i.wait("Please wait",t),o(e).then(function(){return n.close()})):void 0},r.config.timeout)},{register:function(e,t){return _.isArray(t)?_.forEach(t,function(t){return l(e,t)}):l(e,t)},isRunning:function(e){return a(e)},wait:function(e,t){return u(e,t)},promise:function(e){return o(e)}}}]),function(e){"use strict";e.module("geocoder-service",[]).factory("geocoderService",["$document","$window","$q",function(e,t,n){var i,r=!1,o=!1,s=[];t.__initMaps=function(){o=!0,i=new t.google.maps.Geocoder;for(var e=0;e<s.length;++e)s[e].resolve();delete t.__initMaps};var a=function(e){var r=function(e,n){i.geocode({address:e},function(e,i){i===t.google.maps.GeocoderStatus.OK&&e.length>0?n.resolve(e):n.reject()})},a=n.defer();if(o)r(e,a);else{var u=n.defer();s.push(u),u.promise.then(function(){r(e,a)}),l()}return a.promise},l=function(){if(!r){r=!0;var t=e[0],n=t.createElement("script");n.type="text/javascript",n.src="https://maps.googleapis.com/maps/api/js?v=3.exp&callback=__initMaps",t.body.appendChild(n)}},u={};return u.getLatLong=function(e){return u.getLocations(e).then(function(e){return e.length>0?e[0].geometry.location:null})},u.getLocations=function(e){return a(e)},u}])}(angular),!function(e){"use strict";e.module("geocoder-service",[]).factory("geocoderService",["$document","$window","$q",function(e,t,n){var i,r=!1,o=!1,s=[];t.__initMaps=function(){o=!0,i=new t.google.maps.Geocoder;for(var e=0;e<s.length;++e)s[e].resolve();delete t.__initMaps};var a=function(e){var r=function(e,n){i.geocode({address:e},function(e,i){i===t.google.maps.GeocoderStatus.OK&&e.length>0?n.resolve(e):n.reject()})},a=n.defer();if(o)r(e,a);else{var u=n.defer();s.push(u),u.promise.then(function(){r(e,a)}),l()}return a.promise},l=function(){if(!r){r=!0;var t=e[0],n=t.createElement("script");n.type="text/javascript",n.src="https://maps.googleapis.com/maps/api/js?v=3.exp&callback=__initMaps",t.body.appendChild(n)}},u={};return u.getLatLong=function(e){return u.getLocations(e).then(function(e){return e.length>0?e[0].geometry.location:null})},u.getLocations=function(e){return a(e)},u}])}(angular),!function(e,t,n){t[e]=n}("onDomReady",this,function(e){"use strict";function t(e){if(!C){if(!s.body)return r(t);for(C=!0;e=x.shift();)r(e)}}function n(e){(b||e.type===l||s[d]===h)&&(i(),t())}function i(){b?(s[y](m,n,u),e[y](l,n,u)):(s[f](v,n),e[f](c,n))}function r(e,t){setTimeout(e,+t>=0?t:1)}function o(e){C?r(e):x.push(e)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function S(){document.removeEventListener("DOMContentLoaded",S,!1),document.readyState="complete"},!1),document.readyState="loading");var s=e.document,a=s.documentElement,l="load",u=!1,c="on"+l,h="complete",d="readyState",p="attachEvent",f="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",y="removeEventListener",b=g in s,w=u,C=u,x=[];if(s[d]===h)r(t);else if(b)s[g](m,n,u),e[g](l,n,u);else{s[p](v,n),e[p](c,n);try{w=null==e.frameElement&&a}catch(A){}w&&w.doScroll&&!function _(){if(!C){try{w.doScroll("left")}catch(e){return r(_,50)}i(),t()}}()}return o.version="1.4.0",o.isReady=function(){return C},o}(this)),document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),i=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),i.push(t);return document._qsa=null,i}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=e.atob||function(e){e=String(e);var n,i=0,r=[],o=0,s=0;if(e=e.replace(/\s/g,""),0===e.length%4&&(e=e.replace(/=+$/,"")),1===e.length%4)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;i<e.length;)n=t.indexOf(e.charAt(i)),o=o<<6|n,s+=6,24===s&&(r.push(String.fromCharCode(255&o>>16)),r.push(String.fromCharCode(255&o>>8)),r.push(String.fromCharCode(255&o)),s=0,o=0),i+=1;return 12===s?(o>>=4,r.push(String.fromCharCode(255&o))):18===s&&(o>>=2,r.push(String.fromCharCode(255&o>>8)),r.push(String.fromCharCode(255&o))),r.join("")},e.btoa=e.btoa||function(e){e=String(e);var n,i,r,o,s,a,l,u=0,c=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;u<e.length;)n=e.charCodeAt(u++),i=e.charCodeAt(u++),r=e.charCodeAt(u++),o=n>>2,s=(3&n)<<4|i>>4,a=(15&i)<<2|r>>6,l=63&r,u===e.length+2?(a=64,l=64):u===e.length+1&&(l=64),c.push(t.charAt(o),t.charAt(s),t.charAt(a),t.charAt(l));return c.join("")}}(this),function(){function e(t,n,i){t.document;var r,o=t.currentStyle[n].match(/([\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],s=o[1],a=o[2];return i=i?/%|em/.test(a)&&t.parentElement?e(t.parentElement,"fontSize",null):16:i,r="fontSize"==n?i:/width/i.test(n)?t.clientWidth:t.clientHeight,"%"==a?s/100*r:"cm"==a?96*.3937*s:"em"==a?s*i:"in"==a?96*s:"mm"==a?96*.3937*s/10:"pc"==a?96*12*s/72:"pt"==a?96*s/72:s}function t(e,t){var n="border"==t?"Width":"",i=t+"Top"+n,r=t+"Right"+n,o=t+"Bottom"+n,s=t+"Left"+n;e[t]=(e[i]==e[r]&&e[i]==e[o]&&e[i]==e[s]?[e[i]]:e[i]==e[o]&&e[s]==e[r]?[e[i],e[r]]:e[s]==e[r]?[e[i],e[r],e[o]]:[e[i],e[r],e[o],e[s]]).join(" ")}function n(n){var i,r=this,o=n.currentStyle,s=e(n,"fontSize"),a=function(e){return"-"+e.toLowerCase()};for(i in o)if(Array.prototype.push.call(r,"styleFloat"==i?"float":i.replace(/[A-Z]/,a)),"width"==i)r[i]=n.offsetWidth+"px";else if("height"==i)r[i]=n.offsetHeight+"px";else if("styleFloat"==i)r.float=o[i];else if(/margin.|padding.|border.+W/.test(i)&&"auto"!=r[i])r[i]=Math.round(e(n,i,s))+"px";else if(/^outline/.test(i))try{r[i]=o[i]}catch(l){r.outlineColor=o.color,r.outlineStyle=r.outlineStyle||"none",r.outlineWidth=r.outlineWidth||"0px",r.outline=[r.outlineColor,r.outlineWidth,r.outlineStyle].join(" ")}else r[i]=o[i];t(r,"margin"),t(r,"padding"),t(r,"border"),r.fontSize=Math.round(s)+"px"}window.getComputedStyle||(n.prototype={constructor:n,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(e){var t=e.replace(/-([a-z])/g,function(e){return e=e.charAt?e.split(""):e,e[1].toUpperCase()}),n=this[t];return n},item:function(e){return this[e]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},window.getComputedStyle=function(e){return new n(e)})}(),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),function(e,t){e.augment=t()}(this,function(){"use strict";var e=function(){},t=Array.prototype.slice,n=function(n,i){var r=e.prototype="function"==typeof n?n.prototype:n,o=new e,s=i.apply(o,t.call(arguments,2).concat(r));if("object"==typeof s)for(var a in s)o[a]=s[a];if(!o.hasOwnProperty("constructor"))return o;var l=o.constructor;return l.prototype=o,l};return n.defclass=function(e){var t=e.constructor;return t.prototype=e,t},n.extend=function(e,t){return n(e,function(e){return this.uber=e,t})},n}),function(e,t){function n(e,t,n,o){var s=i(n.substr(n.lastIndexOf(e.domain)),e);s&&r(null,o,s,t)}function i(e,t){for(var n={theme:g(E.settings.themes.gray,null),stylesheets:t.stylesheets,holderURL:[]},i=!1,r=String.fromCharCode(11),o=e.replace(/([^\\])\//g,"$1"+r).split(r),s=/%[0-9a-f]{2}/gi,a=o.length,l=0;a>l;l++){var u=o[l];if(u.match(s))try{u=decodeURIComponent(u)}catch(c){u=o[l]}var h=!1;if(E.flags.dimensions.match(u))i=!0,n.dimensions=E.flags.dimensions.output(u),h=!0;else if(E.flags.fluid.match(u))i=!0,n.dimensions=E.flags.fluid.output(u),n.fluid=!0,h=!0;else if(E.flags.textmode.match(u))n.textmode=E.flags.textmode.output(u),h=!0;else if(E.flags.colors.match(u)){var d=E.flags.colors.output(u);n.theme=g(n.theme,d),h=!0}else if(t.themes[u])t.themes.hasOwnProperty(u)&&(n.theme=g(t.themes[u],null)),h=!0;else if(E.flags.font.match(u))n.font=E.flags.font.output(u),h=!0;else if(E.flags.auto.match(u))n.auto=!0,h=!0;else if(E.flags.text.match(u))n.text=E.flags.text.output(u),h=!0;else if(E.flags.random.match(u)){null==E.vars.cache.themeKeys&&(E.vars.cache.themeKeys=Object.keys(t.themes));var p=E.vars.cache.themeKeys[0|Math.random()*E.vars.cache.themeKeys.length];n.theme=g(t.themes[p],null),h=!0}h&&n.holderURL.push(u)}return n.holderURL.unshift(t.domain),n.holderURL=n.holderURL.join("/"),i?n:!1}function r(e,t,n,i){var r=n.dimensions,s=n.theme,a=r.width+"x"+r.height;if(e=null==e?n.fluid?"fluid":"image":e,null!=n.text&&(s.text=n.text,"object"===t.nodeName.toLowerCase())){for(var u=s.text.split("\\n"),h=0;h<u.length;h++)u[h]=C(u[h]);s.text=u.join("\\n")}var p=n.holderURL,f=g(i,null);n.font&&(s.font=n.font,!f.noFontFallback&&"img"===t.nodeName.toLowerCase()&&E.setup.supportsCanvas&&"svg"===f.renderer&&(f=g(f,{renderer:"canvas"}))),n.font&&"canvas"==f.renderer&&(f.reRender=!0),"background"==e?null==t.getAttribute("data-background-src")&&d(t,{"data-background-src":p}):d(t,{"data-src":p}),n.theme=s,t.holderData={flags:n,renderSettings:f},("image"==e||"fluid"==e)&&d(t,{alt:s.text?(s.text.length>16?s.text.substring(0,16)+"":s.text)+" ["+a+"]":a}),"image"==e?("html"!=f.renderer&&n.auto||(t.style.width=r.width+"px",t.style.height=r.height+"px"),"html"==f.renderer?t.style.backgroundColor=s.background:(o(e,{dimensions:r,theme:s,flags:n},t,f),n.textmode&&"exact"==n.textmode&&(E.vars.resizableImages.push(t),l(t)))):"background"==e&&"html"!=f.renderer?o(e,{dimensions:r,theme:s,flags:n},t,f):"fluid"==e&&("%"==r.height.slice(-1)?t.style.height=r.height:null!=n.auto&&n.auto||(t.style.height=r.height+"px"),"%"==r.width.slice(-1)?t.style.width=r.width:null!=n.auto&&n.auto||(t.style.width=r.width+"px"),("inline"==t.style.display||""===t.style.display||"none"==t.style.display)&&(t.style.display="block"),c(t),"html"==f.renderer?t.style.backgroundColor=s.background:(E.vars.resizableImages.push(t),l(t)))}function o(e,t,n,i){function r(){var e=null;switch(i.renderer){case"canvas":e=T(l);break;case"svg":e=k(l,i);break;default:throw"Holder: invalid renderer: "+i.renderer}return e}var o=null;switch(i.renderer){case"svg":if(!E.setup.supportsSVG)return;break;case"canvas":if(!E.setup.supportsCanvas)return;break;default:return}var a={width:t.dimensions.width,height:t.dimensions.height,theme:t.theme,flags:t.flags},l=s(a);if({text:a.text,width:a.width,height:a.height,textHeight:a.font.size,font:a.font.family,fontWeight:a.font.weight,template:a.theme},o=r(),null==o)throw"Holder: couldn't render placeholder";"background"==e?(n.style.backgroundImage="url("+o+")",n.style.backgroundSize=a.width+"px "+a.height+"px"):("img"===n.nodeName.toLowerCase()?d(n,{src:o}):"object"===n.nodeName.toLowerCase()&&(d(n,{data:o}),d(n,{type:"image/svg+xml"})),i.reRender&&setTimeout(function(){var e=r();if(null==e)throw"Holder: couldn't render placeholder";"img"===n.nodeName.toLowerCase()?d(n,{src:e}):"object"===n.nodeName.toLowerCase()&&(d(n,{data:e}),d(n,{type:"image/svg+xml"}))},100)),d(n,{"data-holder-rendered":!0})}function s(e){function t(e,t,n,i){t.width=n,t.height=i,e.width=Math.max(e.width,t.width),e.height+=t.height,e.add(t)}switch(e.font={family:e.theme.font?e.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:a(e.width,e.height,e.theme.size?e.theme.size:E.defaults.size),units:e.theme.units?e.theme.units:E.defaults.units,weight:e.theme.fontweight?e.theme.fontweight:"bold"},e.text=e.theme.text?e.theme.text:Math.floor(e.width)+"x"+Math.floor(e.height),e.flags.textmode){case"literal":e.text=e.flags.dimensions.width+"x"+e.flags.dimensions.height;break;case"exact":if(!e.flags.exactDimensions)break;e.text=Math.floor(e.flags.exactDimensions.width)+"x"+Math.floor(e.flags.exactDimensions.height)}var n=new D({width:e.width,height:e.height}),i=n.Shape,r=new i.Rect("holderBg",{fill:e.theme.background});r.resize(e.width,e.height),n.root.add(r);var o=new i.Group("holderTextGroup",{text:e.text,align:"center",font:e.font,fill:e.theme.foreground});o.moveTo(null,null,1),n.root.add(o);var s=o.textPositionData=$(n);if(!s)throw"Holder: staging fallback not supported yet.";o.properties.leading=s.boundingBox.height;var l=null,u=null;if(s.lineCount>1){var c=0,h=0,d=e.width*E.setup.lineWrapRatio,p=0;u=new i.Group("line"+p);for(var f=0;f<s.words.length;f++){var g=s.words[f];l=new i.Text(g.text);var m="\\n"==g.text;(c+g.width>=d||m===!0)&&(t(o,u,c,o.properties.leading),c=0,h+=o.properties.leading,p+=1,u=new i.Group("line"+p),u.y=h),m!==!0&&(l.moveTo(c,0),c+=s.spaceWidth+g.width,u.add(l))}t(o,u,c,o.properties.leading);for(var v in o.children)u=o.children[v],u.moveTo((o.width-u.width)/2,null,null);o.moveTo((e.width-o.width)/2,(e.height-o.height)/2,null),(e.height-o.height)/2<0&&o.moveTo(null,0,null)}else l=new i.Text(e.text),u=new i.Group("line0"),u.add(l),o.add(u),o.moveTo((e.width-s.boundingBox.width)/2,(e.height-s.boundingBox.height)/2,null);return n}function a(e,t,n){t=parseInt(t,10),e=parseInt(e,10);var i=Math.max(t,e),r=Math.min(t,e),o=E.defaults.scale,s=Math.min(.75*r,.75*i*o);return Math.round(Math.max(n,s))}function l(e){var t;t=null==e||null==e.nodeType?E.vars.resizableImages:[e];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i.holderData){var r=i.holderData.flags,s=u(i,_.invisibleErrorFn(l));if(s){if(r.fluid&&r.auto){var a=i.holderData.fluidConfig;switch(a.mode){case"width":s.height=s.width/a.ratio;break;case"height":s.width=s.height*a.ratio}}var c={dimensions:s,theme:r.theme,flags:r};r.textmode&&"exact"==r.textmode&&(r.exactDimensions=s,c.dimensions=r.dimensions),o("image",c,i,i.holderData.renderSettings)}}}}function u(e,t){var n={height:e.clientHeight,width:e.clientWidth};return n.height||n.width?(e.removeAttribute("data-holder-invisible"),n):(d(e,{"data-holder-invisible":!0}),t.call(this,e),void 0)}function c(e){if(e.holderData){var t=u(e,_.invisibleErrorFn(c));if(t){var n=e.holderData.flags,i={fluidHeight:"%"==n.dimensions.height.slice(-1),fluidWidth:"%"==n.dimensions.width.slice(-1),mode:null,initialDimensions:t};i.fluidWidth&&!i.fluidHeight?(i.mode="width",i.ratio=i.initialDimensions.width/parseFloat(n.dimensions.height)):!i.fluidWidth&&i.fluidHeight&&(i.mode="height",i.ratio=parseFloat(n.dimensions.width)/i.initialDimensions.height),e.holderData.fluidConfig=i}}}function h(e,t){return null==t?S.createElement(e):S.createElementNS(t,e)}function d(e,t){for(var n in t)e.setAttribute(n,t[n])}function p(e,t,n){if(null==e){e=h("svg",A);var i=h("defs",A);e.appendChild(i)}return e.webkitMatchesSelector&&e.setAttribute("xmlns",A),d(e,{width:t,height:n,viewBox:"0 0 "+t+" "+n,preserveAspectRatio:"none"}),e}function f(e,n){if(t.XMLSerializer){var i=new XMLSerializer,r="",o=n.stylesheets;if(e.querySelector("defs"),n.svgXMLStylesheet){for(var s=(new DOMParser).parseFromString("<xml />","application/xml"),a=o.length-1;a>=0;a--){var l=s.createProcessingInstruction("xml-stylesheet",'href="'+o[a]+'" rel="stylesheet"');s.insertBefore(l,s.firstChild)}var u=s.createProcessingInstruction("xml",'version="1.0" encoding="UTF-8" standalone="yes"');s.insertBefore(u,s.firstChild),s.removeChild(s.documentElement),r=i.serializeToString(s)}var c=i.serializeToString(e);return c=c.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),r+c}}function g(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);if(null!=t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function m(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]);return t.join(";")}function v(e){E.vars.debounceTimer||e.call(this),E.vars.debounceTimer&&clearTimeout(E.vars.debounceTimer),E.vars.debounceTimer=setTimeout(function(){E.vars.debounceTimer=null,e.call(this)},E.setup.debounce)}function y(){v(function(){l(null)})}function b(e){var n=null;return"string"==typeof e?n=S.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?n=e:t.Node&&e instanceof t.Node?n=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?n=e:null===e&&(n=[]),n}function w(e,t){var n=new Image;n.onerror=function(){t.call(this,!1)},n.onload=function(){t.call(this,!0)},n.src=e}function C(e){for(var t=[],n=0,i=e.length-1;i>=0;i--)n=e.charCodeAt(i),n>128?t.unshift(["&#",n,";"].join("")):t.unshift(e[i]);return t.join("")}function x(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})}var A="http://www.w3.org/2000/svg",S=t.document,_={addTheme:function(e,t){return null!=e&&null!=t&&(E.settings.themes[e]=t),delete E.vars.cache.themeKeys,this},addImage:function(e,t){var n=S.querySelectorAll(t);if(n.length)for(var i=0,r=n.length;r>i;i++){var o=h("img");d(o,{"data-src":e}),n[i].appendChild(o)}return this},run:function(e){e=e||{};var o={};E.vars.preempted=!0;var s=g(E.settings,e);o.renderer=s.renderer?s.renderer:E.setup.renderer,-1===E.setup.renderers.join(",").indexOf(o.renderer)&&(o.renderer=E.setup.supportsSVG?"svg":E.setup.supportsCanvas?"canvas":"html"),s.use_canvas?o.renderer="canvas":s.use_svg&&(o.renderer="svg");var a=b(s.images),l=b(s.bgnodes),u=b(s.stylenodes),c=b(s.objects);o.stylesheets=[],o.svgXMLStylesheet=!0,o.noFontFallback=s.noFontFallback?s.noFontFallback:!1;for(var d=0;d<u.length;d++){var p=u[d];if(p.attributes.rel&&p.attributes.href&&"stylesheet"==p.attributes.rel.value){var f=p.attributes.href.value,m=h("a");m.href=f;var v=m.protocol+"//"+m.host+m.pathname+m.search;o.stylesheets.push(v)}}for(d=0;d<l.length;d++){var y=t.getComputedStyle(l[d],null).getPropertyValue("background-image"),C=l[d].getAttribute("data-background-src"),x=null;x=null==C?y:C;var A=null,S="?"+s.domain+"/";if(0===x.indexOf(S))A=x.slice(1);else if(-1!=x.indexOf(S)){var _=x.substr(x.indexOf(S)).slice(1),$=_.match(/([^\"]*)"?\)/);null!=$&&(A=$[1])}if(null!=A){var T=i(A,s);T&&r("background",l[d],T,o)}}for(d=0;d<c.length;d++){var k=c[d],D={};try{D.data=k.getAttribute("data"),D.dataSrc=k.getAttribute("data-src")}catch(F){}var M=null!=D.data&&0===D.data.indexOf(s.domain),R=null!=D.dataSrc&&0===D.dataSrc.indexOf(s.domain);M?n(s,o,D.data,k):R&&n(s,o,D.dataSrc,k)}for(d=0;d<a.length;d++){var L=a[d],P={};try{P.src=L.getAttribute("src"),P.dataSrc=L.getAttribute("data-src"),P.rendered=L.getAttribute("data-holder-rendered")}catch(F){}var O=null!=P.src,I=null!=P.dataSrc&&0===P.dataSrc.indexOf(s.domain),B=null!=P.rendered&&"true"==P.rendered;O?0===P.src.indexOf(s.domain)?n(s,o,P.src,L):I&&(B?n(s,o,P.dataSrc,L):!function(e,t,i,r,o){w(e,function(e){e||n(t,i,r,o)})}(P.src,s,o,P.dataSrc,L)):I&&n(s,o,P.dataSrc,L)}return this},invisibleErrorFn:function(){return function(e){if(e.hasAttribute("data-holder-invisible"))throw"Holder: invisible placeholder"}}};_.add_theme=_.addTheme,_.add_image=_.addImage,_.invisible_error_fn=_.invisibleErrorFn;var E={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},random:{regex:/^random$/}}},$=function(){var e=null,t=null,n=null;return function(i){var r=i.root;if(E.setup.supportsSVG){var o=!1,s=function(e){return S.createTextNode(e)};null==e&&(o=!0),e=p(e,r.properties.width,r.properties.height),o&&(t=h("text",A),n=s(null),d(t,{x:0}),t.appendChild(n),e.appendChild(t),S.body.appendChild(e),e.style.visibility="hidden",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%");var a=r.children.holderTextGroup,l=a.properties;d(t,{y:l.font.size,style:m({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family,"dominant-baseline":"middle"})}),n.nodeValue=l.text;var u=t.getBBox(),c=Math.ceil(u.width/(r.properties.width*E.setup.lineWrapRatio)),f=l.text.split(" "),g=l.text.match(/\\n/g);c+=null==g?0:g.length,n.nodeValue=l.text.replace(/[ ]+/g,"");var v=t.getComputedTextLength(),y=u.width-v,b=Math.round(y/Math.max(1,f.length-1)),w=[];if(c>1){n.nodeValue="";for(var C=0;C<f.length;C++)if(0!==f[C].length){n.nodeValue=x(f[C]);var _=t.getBBox();w.push({text:f[C],width:_.width})}}return{spaceWidth:b,lineCount:c,boundingBox:u,words:w}}return!1}}(),T=function(){var e=h("canvas"),t=null;return function(n){null==t&&(t=e.getContext("2d"));var i=n.root;e.width=E.dpr(i.properties.width),e.height=E.dpr(i.properties.height),t.textBaseline="middle",t.fillStyle=i.children.holderBg.properties.fill,t.fillRect(0,0,E.dpr(i.children.holderBg.width),E.dpr(i.children.holderBg.height));var r=i.children.holderTextGroup;r.properties,t.font=r.properties.font.weight+" "+E.dpr(r.properties.font.size)+r.properties.font.units+" "+r.properties.font.family+", monospace",t.fillStyle=r.properties.fill;for(var o in r.children){var s=r.children[o];for(var a in s.children){var l=s.children[a],u=E.dpr(r.x+s.x+l.x),c=E.dpr(r.y+s.y+l.y+r.properties.leading/2);t.fillText(l.properties.text,u,c)}}return e.toDataURL("image/png")}}(),k=function(){if(t.XMLSerializer){var e=p(null,0,0),n=h("rect",A);return e.appendChild(n),function(t,i){var r=t.root;p(e,r.properties.width,r.properties.height);for(var o=e.querySelectorAll("g"),s=0;s<o.length;s++)o[s].parentNode.removeChild(o[s]);d(n,{width:r.children.holderBg.width,height:r.children.holderBg.height,fill:r.children.holderBg.properties.fill});var a=r.children.holderTextGroup,l=a.properties,u=h("g",A);e.appendChild(u);for(var c in a.children){var g=a.children[c];for(var v in g.children){var y=g.children[v],b=a.x+g.x+y.x,w=a.y+g.y+y.y+a.properties.leading/2,C=h("text",A),x=S.createTextNode(null);d(C,{x:b,y:w,style:m({fill:l.fill,"font-weight":l.font.weight,"font-family":l.font.family+", monospace","font-size":l.font.size+l.font.units,"dominant-baseline":"central"})}),x.nodeValue=y.properties.text,C.appendChild(x),u.appendChild(C)}}var _="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(f(e,i))));return _}}}(),D=function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}var n=1,i=augment.defclass({constructor:function(e){n++,this.parent=null,this.children={},this.id=n,this.name="n"+n,null!=e&&(this.name=e),this.x=0,this.y=0,this.z=0,this.width=0,this.height=0},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t)},moveTo:function(e,t,n){this.x=null!=e?e:this.x,this.y=null!=t?t:this.y,this.z=null!=n?n:this.z},add:function(e){var t=e.name;if(null!=this.children[t])throw"SceneGraph: child with that name already exists: "+t;this.children[t]=e,e.parent=this}}),r=augment(i,function(t){this.constructor=function(){t.constructor.call(this,"root"),this.properties=e}}),o=augment(i,function(e){function n(n,i){if(e.constructor.call(this,n),this.properties={fill:"#000"},null!=i)t(this.properties,i);else if(null!=n&&"string"!=typeof n)throw"SceneGraph: invalid node name"}this.Group=augment.extend(this,{constructor:n,type:"group"}),this.Rect=augment.extend(this,{constructor:n,type:"rect"}),this.Text=augment.extend(this,{constructor:function(e){n.call(this),this.properties.text=e},type:"text"})}),s=new r;return this.Shape=o,this.root=s,this};for(var F in E.flags)E.flags.hasOwnProperty(F)&&(E.flags[F].match=function(e){return e.match(this.regex)});E.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,renderers:["html","canvas","svg"]},E.dpr=function(e){return e*E.setup.ratio},E.vars={preempted:!1,resizableImages:[],debounceTimer:null,cache:{}},function(){var e=1,n=1,i=h("canvas"),r=null;i.getContext&&-1!=i.toDataURL("image/png").indexOf("data:image/png")&&(E.setup.renderer="canvas",r=i.getContext("2d"),E.setup.supportsCanvas=!0),E.setup.supportsCanvas&&(e=t.devicePixelRatio||1,n=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),E.setup.ratio=e/n,S.createElementNS&&S.createElementNS(A,"svg").createSVGRect&&(E.setup.renderer="svg",E.setup.supportsSVG=!0)}(),e(_,"Holder",t),t.onDomReady&&t.onDomReady(function(){E.vars.preempted||_.run(),t.addEventListener?(t.addEventListener("resize",y,!1),t.addEventListener("orientationchange",y,!1)):t.attachEvent("onresize",y),"object"==typeof t.Turbolinks&&t.document.addEventListener("page:change",function(){_.run()})})}(function(e,t,n){var i="function"==typeof define&&define.amd;i?define(e):n[t]=e},this),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return _t.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){bt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return d(function(){return n&&(r(e),n=!1),t.apply(this,arguments)},t)}function s(e,t){vn[e]||(r(t),vn[e]=!0)}function a(e,t){return function(n){return g(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function u(){}function c(e,t){t!==!1&&F(e),p(this,e),this._d=new Date(+e._d)}function h(e){var t=S(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=bt.localeData(),this._bubble()}function d(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Lt.length>0)for(n in Lt)i=Lt[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function f(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function m(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function v(e,t){var n;return t=O(t,e),e.isBefore(t)?n=m(e,t):(n=m(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(s(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=bt.duration(n,i),b(this,r,e),this}}function b(e,t,n,i){var r=t._milliseconds,o=t._days,s=t._months;i=null==i?!0:i,r&&e._d.setTime(+e._d+r*n),o&&pt(e,"Date",dt(e,"Date")+o*n),s&&ht(e,dt(e,"Month")+s*n),i&&bt.updateOffset(e,o||s)
}function w(e){return"[object Array]"===Object.prototype.toString.call(e)}function C(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function x(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&E(e[i])!==E(t[i]))&&s++;return s+o}function A(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=cn[e]||hn[t]||t}return e}function S(e){var t,i,r={};for(i in e)n(e,i)&&(t=A(i),t&&(r[t]=e[i]));return r}function _(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}bt[t]=function(r,o){var s,a,l=bt._locale[t],u=[];if("number"==typeof r&&(o=r,r=e),a=function(e){var t=bt().utc().set(i,e);return l.call(bt._locale,t,r||"")},null!=o)return a(o);for(s=0;n>s;s++)u.push(a(s));return u}}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function $(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function T(e,t,n){return at(bt([e,11,31+t-n]),t,n).week}function k(e){return D(e)?366:365}function D(e){return 0===e%4&&0!==e%100||0===e%400}function F(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[$t]<0||e._a[$t]>11?$t:e._a[Tt]<1||e._a[Tt]>$(e._a[Et],e._a[$t])?Tt:e._a[kt]<0||e._a[kt]>24||24===e._a[kt]&&(0!==e._a[Dt]||0!==e._a[Ft]||0!==e._a[Mt])?kt:e._a[Dt]<0||e._a[Dt]>59?Dt:e._a[Ft]<0||e._a[Ft]>59?Ft:e._a[Mt]<0||e._a[Mt]>999?Mt:-1,e._pf._overflowDayOfYear&&(Et>t||t>Tt)&&(t=Tt),e._pf.overflow=t)}function M(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function R(e){return e?e.toLowerCase().replace("_","-"):e}function L(e){for(var t,n,i,r,o=0;o<e.length;){for(r=R(e[o]).split("-"),t=r.length,n=R(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=P(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&x(r,n,!0)>=t-1)break;t--}o++}return null}function P(e){var t=null;if(!Rt[e]&&Pt)try{t=bt.locale(),require("./locale/"+e),bt.locale(t)}catch(n){}return Rt[e]}function O(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(bt.isMoment(e)||C(e)?+e:+bt(e))-+n,n._d.setTime(+n._d+i),bt.updateOffset(n,!1),n):bt(e).local()}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,i=e.match(Nt);for(t=0,n=i.length;n>t;t++)i[t]=mn[i[t]]?mn[i[t]]:I(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function N(e,t){return e.isValid()?(t=G(t,e.localeData()),dn[t]||(dn[t]=B(t)),dn[t](e)):e.localeData().invalidDate()}function G(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Gt.lastIndex=0;i>=0&&Gt.test(e);)e=e.replace(Gt,n),Gt.lastIndex=0,i-=1;return e}function H(e,t){var n,i=t._strict;switch(e){case"Q":return Zt;case"DDDD":return Qt;case"YYYY":case"GGGG":case"gggg":return i?en:Ut;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?tn:zt;case"S":if(i)return Zt;case"SS":if(i)return Jt;case"SSS":if(i)return Qt;case"DDD":return Vt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return jt;case"a":case"A":return t._locale._meridiemParse;case"x":return Yt;case"X":return Xt;case"Z":case"ZZ":return qt;case"T":return Kt;case"SSSS":return Wt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Jt:Ht;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ht;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(X(Y(e.replace("\\","")),"i"))}}function V(e){e=e||"";var t=e.match(qt)||[],n=t[t.length-1]||[],i=(n+"").match(ln)||["-",0,0],r=+(60*i[1])+E(i[2]);return"+"===i[0]?-r:r}function U(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[$t]=3*(E(t)-1));break;case"M":case"MM":null!=t&&(r[$t]=E(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t,e,n._strict),null!=i?r[$t]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[Tt]=E(t));break;case"Do":null!=t&&(r[Tt]=E(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=E(t));break;case"YY":r[Et]=bt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[Et]=E(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[kt]=E(t);break;case"m":case"mm":r[Dt]=E(t);break;case"s":case"ss":r[Ft]=E(t);break;case"S":case"SS":case"SSS":case"SSSS":r[Mt]=E(1e3*("0."+t));break;case"x":n._d=new Date(E(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=V(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=E(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=bt.parseTwoDigitYear(t)}}function z(e){var n,i,r,o,s,a,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,i=t(n.GG,e._a[Et],at(bt(),1,4).year),r=t(n.W,1),o=t(n.E,1)):(s=e._locale._week.dow,a=e._locale._week.doy,i=t(n.gg,e._a[Et],at(bt(),s,a).year),r=t(n.w,1),null!=n.d?(o=n.d,s>o&&++r):o=null!=n.e?n.e+s:s),l=lt(i,r,o,a,s),e._a[Et]=l.year,e._dayOfYear=l.dayOfYear}function W(e){var n,i,r,o,s=[];if(!e._d){for(r=q(e),e._w&&null==e._a[Tt]&&null==e._a[$t]&&z(e),e._dayOfYear&&(o=t(e._a[Et],r[Et]),e._dayOfYear>k(o)&&(e._pf._overflowDayOfYear=!0),i=it(o,0,e._dayOfYear),e._a[$t]=i.getUTCMonth(),e._a[Tt]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=r[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[kt]&&0===e._a[Dt]&&0===e._a[Ft]&&0===e._a[Mt]&&(e._nextDay=!0,e._a[kt]=0),e._d=(e._useUTC?it:nt).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[kt]=24)}}function j(e){var t;e._d||(t=S(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],W(e))}function q(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function K(t){if(t._f===bt.ISO_8601)return J(t),void 0;t._a=[],t._pf.empty=!0;var n,i,r,o,s,a=""+t._i,l=a.length,u=0;for(r=G(t._f,t._locale).match(Nt)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(H(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&t._pf.unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),mn[o]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(o),U(o,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-u,a.length>0&&t._pf.unusedInput.push(a),t._pf.bigHour===!0&&t._a[kt]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[kt]<12&&(t._a[kt]+=12),t._isPm===!1&&12===t._a[kt]&&(t._a[kt]=0),W(t),F(t)}function Y(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e){var t,n,r,o,s;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(o=0;o<e._f.length;o++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[o],K(t),M(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==r||r>s)&&(r=s,n=t));d(e,n||t)}function J(e){var t,n,i=e._i,r=rn.exec(i);if(r){for(e._pf.iso=!0,t=0,n=sn.length;n>t;t++)if(sn[t][1].exec(i)){e._f=sn[t][0]+(r[6]||" ");break}for(t=0,n=an.length;n>t;t++)if(an[t][1].exec(i)){e._f+=an[t][0];break}i.match(qt)&&(e._f+="Z"),K(e)}else e._isValid=!1}function Q(e){J(e),e._isValid===!1&&(delete e._isValid,bt.createFromInputFallback(e))}function et(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function tt(t){var n,i=t._i;i===e?t._d=new Date:C(i)?t._d=new Date(+i):null!==(n=Ot.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?Q(t):w(i)?(t._a=et(i.slice(0),function(e){return parseInt(e,10)}),W(t)):"object"==typeof i?j(t):"number"==typeof i?t._d=new Date(i):bt.createFromInputFallback(t)}function nt(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 1970>e&&a.setFullYear(e),a}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function rt(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function ot(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function st(e,t,n){var i=bt.duration(e).abs(),r=St(i.as("s")),o=St(i.as("m")),s=St(i.as("h")),a=St(i.as("d")),l=St(i.as("M")),u=St(i.as("y")),c=r<pn.s&&["s",r]||1===o&&["m"]||o<pn.m&&["mm",o]||1===s&&["h"]||s<pn.h&&["hh",s]||1===a&&["d"]||a<pn.d&&["dd",a]||1===l&&["M"]||l<pn.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,ot.apply({},c)}function at(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=bt(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(e,t,n,i,r){var o,s,a=it(e,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,o=r-a+(a>i?7:0)-(r>a?7:0),s=7*(t-1)+(n-r)+o+1,{year:s>0?e:e-1,dayOfYear:s>0?s:k(e-1)+s}}function ut(t){var n,i=t._i,r=t._f;return t._locale=t._locale||bt.localeData(t._l),null===i||r===e&&""===i?bt.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),bt.isMoment(i)?new c(i,!0):(r?w(r)?Z(t):K(t):tt(t),n=new c(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function ct(e,t){var n,i;if(1===t.length&&w(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function ht(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),$(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function dt(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function pt(e,t,n){return"Month"===t?ht(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ft(e,t){return function(n){return null!=n?(pt(this,e,n),bt.updateOffset(this,t),this):dt(this,e)}}function gt(e){return 400*e/146097}function mt(e){return 146097*e/400}function vt(e){bt.duration.fn[e]=function(){return this._data[e]}}function yt(e){"undefined"==typeof ender&&(wt=At.moment,At.moment=e?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",bt):bt)}for(var bt,wt,Ct,xt="2.8.4",At="undefined"!=typeof global?global:this,St=Math.round,_t=Object.prototype.hasOwnProperty,Et=0,$t=1,Tt=2,kt=3,Dt=4,Ft=5,Mt=6,Rt={},Lt=[],Pt="undefined"!=typeof module&&module&&module.exports,Ot=/^\/?Date\((\-?\d+)/i,It=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Bt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Gt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ht=/\d\d?/,Vt=/\d{1,3}/,Ut=/\d{1,4}/,zt=/[+\-]?\d{1,6}/,Wt=/\d+/,jt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,qt=/Z|[\+\-]\d\d:?\d\d/gi,Kt=/T/i,Yt=/[\+\-]?\d+/,Xt=/[\+\-]?\d+(\.\d{1,3})?/,Zt=/\d/,Jt=/\d\d/,Qt=/\d{3}/,en=/\d{4}/,tn=/[+-]?\d{6}/,nn=/[+-]?\d+/,rn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on="YYYY-MM-DDTHH:mm:ssZ",sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],an=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ln=/([\+\-]|\d\d)/gi,un=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),cn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},hn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dn={},pn={s:45,m:45,h:22,d:26,M:11},fn="DDD w W M D d".split(" "),gn="M D H h m s w W".split(" "),mn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+g(Math.abs(e),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return E(this.milliseconds()/100)},SS:function(){return g(E(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+g(E(e/60),2)+":"+g(E(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+g(E(e/60),2)+g(E(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vn={},yn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];fn.length;)Ct=fn.pop(),mn[Ct+"o"]=l(mn[Ct],Ct);for(;gn.length;)Ct=gn.pop(),mn[Ct+Ct]=a(mn[Ct],2);mn.DDDD=a(mn.DDD,3),d(u.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=bt.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=bt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return at(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),bt=function(t,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=e),s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=r,s._strict=o,s._isUTC=!1,s._pf=i(),ut(s)},bt.suppressDeprecationWarnings=!1,bt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),bt.min=function(){var e=[].slice.call(arguments,0);return ct("isBefore",e)},bt.max=function(){var e=[].slice.call(arguments,0);return ct("isAfter",e)},bt.utc=function(t,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=t,s._f=n,s._strict=o,s._pf=i(),ut(s).utc()},bt.unix=function(e){return bt(1e3*e)},bt.duration=function(e,t){var i,r,o,s,a=e,l=null;return bt.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(l=It.exec(e))?(i="-"===l[1]?-1:1,a={y:0,d:E(l[Tt])*i,h:E(l[kt])*i,m:E(l[Dt])*i,s:E(l[Ft])*i,ms:E(l[Mt])*i}):(l=Bt.exec(e))?(i="-"===l[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(s=v(bt(a.from),bt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),r=new h(a),bt.isDuration(e)&&n(e,"_locale")&&(r._locale=e._locale),r},bt.version=xt,bt.defaultFormat=on,bt.ISO_8601=function(){},bt.momentProperties=Lt,bt.updateOffset=function(){},bt.relativeTimeThreshold=function(t,n){return pn[t]===e?!1:n===e?pn[t]:(pn[t]=n,!0)},bt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return bt.locale(e,t)}),bt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?bt.defineLocale(e,t):bt.localeData(e),n&&(bt.duration._locale=bt._locale=n)),bt._locale._abbr},bt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Rt[e]||(Rt[e]=new u),Rt[e].set(t),bt.locale(e),Rt[e]):(delete Rt[e],null)},bt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return bt.localeData(e)}),bt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt._locale;if(!w(e)){if(t=P(e))return t;e=[e]}return L(e)},bt.isMoment=function(e){return e instanceof c||null!=e&&n(e,"_isAMomentObject")},bt.isDuration=function(e){return e instanceof h};for(Ct=yn.length-1;Ct>=0;--Ct)_(yn[Ct]);bt.normalizeUnits=function(e){return A(e)},bt.invalid=function(e){var t=bt.utc(0/0);return null!=e?d(t._pf,e):t._pf.userInvalidated=!0,t},bt.parseZone=function(){return bt.apply(null,arguments).parseZone()},bt.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)},d(bt.fn=c.prototype,{clone:function(){return bt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=bt(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return M(this)},isDSTShifted:function(){return this._a?this.isValid()&&x(this._a,(this._isUTC?bt.utc(this._a):bt(this._a)).toArray())>0:!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=N(this,e||bt.defaultFormat);return this.localeData().postformat(t)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(e,t,n){var i,r,o,s=O(e,this),a=6e4*(this.zone()-s.zone());return t=A(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),o=this-bt(this).startOf("month")-(s-bt(s).startOf("month")),o-=6e4*(this.zone()-bt(this).startOf("month").zone()-(s.zone()-bt(s).startOf("month").zone())),r+=o/i,"year"===t&&(r/=12)):(i=this-s,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:f(r)},from:function(e,t){return bt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(bt(),e)},calendar:function(e){var t=e||bt(),n=O(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,bt(t)))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=rt(e,this.localeData()),this.add(e-t,"d")):t},month:ft("Month",!0),startOf:function(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=A(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=A("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this>+e):(n=bt.isMoment(e)?+e:+bt(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=A("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+e>+this):(n=bt.isMoment(e)?+e:+bt(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=A(t||"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this===+e):(n=+bt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=V(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==e&&(!t||this._changeInProgress?b(this,bt.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?bt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return $(this.year(),this.month())},dayOfYear:function(e){var t=St((bt(this).startOf("day")-bt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=at(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=at(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return T(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return T(this.year(),e.dow,e.doy)},get:function(e){return e=A(e),this[e]()},set:function(e,t){return e=A(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=bt.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),bt.fn.millisecond=bt.fn.milliseconds=ft("Milliseconds",!1),bt.fn.second=bt.fn.seconds=ft("Seconds",!1),bt.fn.minute=bt.fn.minutes=ft("Minutes",!1),bt.fn.hour=bt.fn.hours=ft("Hours",!0),bt.fn.date=ft("Date",!0),bt.fn.dates=o("dates accessor is deprecated. Use date instead.",ft("Date",!0)),bt.fn.year=ft("FullYear",!0),bt.fn.years=o("years accessor is deprecated. Use year instead.",ft("FullYear",!0)),bt.fn.days=bt.fn.day,bt.fn.months=bt.fn.month,bt.fn.weeks=bt.fn.week,bt.fn.isoWeeks=bt.fn.isoWeek,bt.fn.quarters=bt.fn.quarter,bt.fn.toJSON=bt.fn.toISOString,d(bt.duration.fn=h.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,e=f(i/1e3),s.seconds=e%60,t=f(e/60),s.minutes=t%60,n=f(t/60),s.hours=n%24,r+=f(n/24),a=f(gt(r)),r-=f(mt(a)),o+=f(r/30),r%=30,a+=f(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*E(this._months/12)},humanize:function(e){var t=st(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=bt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=bt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=A(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=A(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*gt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(mt(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 60*24*t+this._milliseconds/6e4;case"second":return 60*60*24*t+this._milliseconds/1e3;case"millisecond":return Math.floor(1e3*60*60*24*t)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:bt.fn.lang,locale:bt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),bt.duration.fn.toString=bt.duration.fn.toISOString;for(Ct in un)n(un,Ct)&&vt(Ct.toLowerCase());bt.duration.fn.asMilliseconds=function(){return this.as("ms")},bt.duration.fn.asSeconds=function(){return this.as("s")},bt.duration.fn.asMinutes=function(){return this.as("m")},bt.duration.fn.asHours=function(){return this.as("h")},bt.duration.fn.asDays=function(){return this.as("d")},bt.duration.fn.asWeeks=function(){return this.as("weeks")},bt.duration.fn.asMonths=function(){return this.as("M")},bt.duration.fn.asYears=function(){return this.as("y")},bt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Pt?module.exports=bt:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(At.moment=wt),bt}),yt(!0)):yt()}.call(this),!function(e,t){"function"==typeof define&&define.amd?define("p5",[],function(){return e.returnExportsGlobal=t()}):"object"==typeof exports?module.exports=t():e.p5=t()}(this,function(){var amdclean={};return amdclean.core_shim=function(){window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.performance=window.performance||{},window.performance.now=function(){var e=Date.now();return window.performance.now||window.performance.mozNow||window.performance.msNow||window.performance.oNow||window.performance.webkitNow||function(){return Date.now()-e}}(),function(){"use strict";"undefined"!=typeof Uint8ClampedArray&&(Uint8ClampedArray.prototype.slice=Array.prototype.slice)}()}({}),amdclean.core_constants=function(){var e=Math.PI;return{P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:e/2,PI:e,QUARTER_PI:e/4,TAU:2*e,TWO_PI:2*e,DEGREES:"degrees",RADIANS:"radians",CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:"points",LINES:"lines",TRIANGLES:"triangles",TRIANGLE_FAN:"triangles_fan",TRIANGLE_STRIP:"triangles_strip",QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"normal",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"source-over",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF"}
}({}),amdclean.core_core=function(e,t,n){"use strict";var i=n,r=function(e,t,n){2===arguments.length&&"boolean"==typeof t&&(n=t,t=void 0),this._setupDone=!1,this.pixelDensity=window.devicePixelRatio||1,this._userNode=t,this._curElement=null,this._elements=[],this._preloadCount=0,this._updateInterval=0,this._isGlobal=!1,this._loop=!0,this._styles=[],this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,click:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},window.DeviceOrientationEvent?this._events.deviceorientation=null:window.DeviceMotionEvent?this._events.devicemotion=null:this._events.MozOrientation=null,/Firefox/i.test(navigator.userAgent)?this._events.DOMMouseScroll=null:this._events.mousewheel=null,this._loadingScreenId="p5_loading",this._start=function(){if(this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode)),this._loadingScreen=document.getElementById(this._loadingScreenId),!this._loadingScreen){this._loadingScreen=document.createElement("loadingDiv"),this._loadingScreen.innerHTML="loading...",this._loadingScreen.style.position="absolute";var e=this._userNode||document.body;e.appendChild(this._loadingScreen)}this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,"p2d",!0);var t=this.preload||window.preload,n=this._isGlobal?window:this;t?(this._preloadMethods.forEach(function(e){n[e]=function(){var t=Array.prototype.slice.call(arguments);return n._preload(e,t)}}),t(),0===this._preloadCount&&(this._setup(),this._runFrames(),this._draw())):(this._setup(),this._runFrames(),this._draw())}.bind(this),this._preload=function(e,t){var n=this._isGlobal?window:this;n._setProperty("_preloadCount",n._preloadCount+1);var i=function(){n._setProperty("_preloadCount",n._preloadCount-1),0===n._preloadCount&&(n._setup(),n._runFrames(),n._draw())};return t.push(i),r.prototype[e].apply(n,t)}.bind(this),this._setup=function(){var e=this._isGlobal?window:this;"function"==typeof e.preload&&this._preloadMethods.forEach(function(t){e[t]=r.prototype[t]}),"function"==typeof e.setup&&e.setup();for(var t=new RegExp(/(^|\s)p5_hidden(?!\S)/g),n=document.getElementsByClassName("p5_hidden"),i=0;i<n.length;i++){var o=n[i];o.style.visibility="",o.className=o.className.replace(t,"")}this._setupDone=!0,this._loadingScreen.parentNode.removeChild(this._loadingScreen)}.bind(this),this._draw=function(){var e=window.performance.now(),t=e-this._lastFrameTime,n=1e3/this._targetFrameRate,i=5;(!this.loop||t>=n-i)&&(this._setProperty("frameCount",this.frameCount+1),this.redraw(),this._updatePAccelerations(),this._updatePMouseCoords(),this._updatePTouchCoords(),this._frameRate=1e3/(e-this._lastFrameTime),this._lastFrameTime=e),this._loop&&window.requestAnimationFrame(this._draw)}.bind(this),this._runFrames=function(){this._updateInterval&&clearInterval(this._updateInterval)}.bind(this),this._setProperty=function(e,t){this[e]=t,this._isGlobal&&(window[e]=t)}.bind(this),this.remove=function(){if(this._curElement){this._loop=!1,this._updateInterval&&clearTimeout(this._updateInterval);for(var e in this._events)window.removeEventListener(e,this._events[e]);for(var t=0;t<this._elements.length;t++){var n=this._elements[t];n.elt.parentNode&&n.elt.parentNode.removeChild(n.elt);for(var i in n._events)n.elt.removeEventListener(i,n._events[i])}var o=this;if(this._registeredMethods.remove.forEach(function(e){"undefined"!=typeof e&&e.call(o)}),this._isGlobal){for(var s in r.prototype)try{delete window[s]}catch(a){window[s]=void 0}for(var l in this)if(this.hasOwnProperty(l))try{delete window[l]}catch(a){window[l]=void 0}}}}.bind(this);for(var o in i)r.prototype[o]=i[o];if(e)e(this);else{this._isGlobal=!0;for(var s in r.prototype)if("function"==typeof r.prototype[s]){var a=s.substring(2);this._events.hasOwnProperty(a)||(window[s]=r.prototype[s].bind(this))}else window[s]=r.prototype[s];for(var l in this)this.hasOwnProperty(l)&&(window[l]=this[l])}for(var u in this._events){var c=this["_on"+u];if(c){var h=c.bind(this);window.addEventListener(u,h),this._events[u]=h}}var d=this;window.addEventListener("focus",function(){d._setProperty("focused",!0)}),window.addEventListener("blur",function(){d._setProperty("focused",!1)}),n?this._start():"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};return r.prototype._preloadMethods=["loadJSON","loadImage","loadStrings","loadXML","loadShape","loadTable","loadFont"],r.prototype._registeredMethods={pre:[],post:[],remove:[]},r.prototype.registerPreloadMethod=function(e){r.prototype._preloadMethods.push(e)}.bind(this),r.prototype.registerMethod=function(e,t){r.prototype._registeredMethods.hasOwnProperty(e)||(r.prototype._registeredMethods[e]=[]),r.prototype._registeredMethods[e].push(t)}.bind(this),r}({},amdclean.core_shim,amdclean.core_constants),amdclean.color_color_utils=function(e,t){var n=t;return n.ColorUtils={},n.ColorUtils.hsbaToRGBA=function(e,t){var n=e[0],i=e[1],r=e[2],o=e[3]||t[3];n/=t[0],i/=t[1],r/=t[2],o/=t[3];var s=[];if(0===i)s=[Math.round(255*r),Math.round(255*r),Math.round(255*r),255*o];else{var a=6*n;6===a&&(a=0);var l,u,c,h=Math.floor(a),d=r*(1-i),p=r*(1-i*(a-h)),f=r*(1-i*(1-(a-h)));0===h?(l=r,u=f,c=d):1===h?(l=p,u=r,c=d):2===h?(l=d,u=r,c=f):3===h?(l=d,u=p,c=r):4===h?(l=f,u=d,c=r):(l=r,u=d,c=p),s=[Math.round(255*l),Math.round(255*u),Math.round(255*c),255*o]}return s},n.ColorUtils.rgbaToHSBA=function(e,t){var n,i,r=e[0]/t[0],o=e[1]/t[1],s=e[2]/t[2],a=e[3]/t[3],l=Math.min(r,o,s),u=Math.max(r,o,s),c=u-l,h=u;if(0===c)n=0,i=0;else{i=c/u;var d=((u-r)/6+c/2)/c,p=((u-o)/6+c/2)/c,f=((u-s)/6+c/2)/c;r===u?n=f-p:o===u?n=1/3+d-f:s===u&&(n=2/3+p-d),0>n&&(n+=1),n>1&&(n-=1)}return[Math.round(360*n),Math.round(100*i),Math.round(100*h),1*a]},n.ColorUtils.hslaToRGBA=function(e,t){var n=e[0],i=e[1],r=e[2],o=e[3]||t[3];n/=t[0],i/=t[1],r/=t[2],o/=t[3];var s=[];if(0===i)s=[Math.round(255*r),Math.round(255*r),Math.round(255*r),o];else{var a,l,u,c,h;l=.5>r?r*(1+i):r+i-i*r,a=2*r-l;var d=function(e,t,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e};u=d(a,l,n+1/3),c=d(a,l,n),h=d(a,l,n-1/3),s=[Math.round(255*u),Math.round(255*c),Math.round(255*h),Math.round(255*o)]}return s},n.ColorUtils.rgbaToHSLA=function(e,t){var n,i,r,o,s,a=e[0]/t[0],l=e[1]/t[1],u=e[2]/t[2],c=e[3]/t[3],h=Math.min(a,l,u),d=Math.max(a,l,u),p=d-h,f=(d+h)/2;return 0===p?(n=0,i=0):(r=((d-a)/6+p/2)/p,o=((d-l)/6+p/2)/p,s=((d-u)/6+p/2)/p,a===d?n=s-o:l===d?n=1/3+r-s:u===d&&(n=2/3+o-r),0>n&&(n+=1),n>1&&(n-=1),i=.5>f?p/(d+h):p/(2-d-h)),[Math.round(360*n),Math.round(100*i),Math.round(100*f),1*c]},n.ColorUtils}({},amdclean.core_core),amdclean.color_p5Color=function(e,t,n,i){var r=t,o=n,s=i;r.Color=function(e,t){this.maxArr=e._colorMaxes[e._colorMode],this.color_array=r.Color._getFormattedColor.apply(e,t);var n=e._colorMode===s.HSB,i=e._colorMode===s.RGB,a=e._colorMode===s.HSL;if(i)this.rgba=this.color_array;else if(a)this.hsla=this.color_array,this.rgba=o.hslaToRGBA(this.color_array,this.maxArr);else{if(!n)throw new Error(e._colorMode+"is an invalid colorMode.");this.hsba=this.color_array,this.rgba=o.hsbaToRGBA(this.color_array,this.maxArr)}return this},r.Color.prototype.getHue=function(){return this.hsla||this.hsba?this.hsla?this.hsla[0]:this.hsba[0]:(this.hsla=o.rgbaToHSLA(this.color_array,this.maxArr),this.hsla[0])},r.Color.prototype.getSaturation=function(){return this.hsla?this.hsla[1]:this.hsba?this.hsba[1]:(this.hsla=o.rgbaToHSLA(this.color_array,this.maxArr),this.hsla[1])},r.Color.prototype.getBrightness=function(){return this.hsba?this.hsba[2]:(this.hsba=o.rgbaToHSBA(this.color_array,this.maxArr),this.hsba[2])},r.Color.prototype.getLightness=function(){return this.hsla?this.hsla[2]:(this.hsla=o.rgbaToHSLA(this.color_array,this.maxArr),this.hsla[2])},r.Color.prototype.getRed=function(){return this.rgba[0]},r.Color.prototype.getGreen=function(){return this.rgba[1]},r.Color.prototype.getBlue=function(){return this.rgba[2]},r.Color.prototype.getAlpha=function(){return this.hsba||this.hsla?this.hsla?this.hsla[3]:this.hsba[3]:this.rgba[3]},r.Color.prototype.toString=function(){for(var e=this.rgba,t=0;3>t;t++)e[t]=Math.floor(e[t]);var n="undefined"!=typeof e[3]?e[3]/255:1;return"rgba("+e[0]+","+e[1]+","+e[2]+","+n+")"};var a=/\s*/,l=/(\d{1,3})/,u=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,c=new RegExp(u.source+"%"),h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},d={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(a.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(a.source),"i"),RGBA:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",u.source,"\\)$"].join(a.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",u.source,"\\)$"].join(a.source),"i"),HSL:new RegExp(["^hsl\\(",l.source,",",c.source,",",c.source,"\\)$"].join(a.source),"i"),HSLA:new RegExp(["^hsla\\(",l.source,",",c.source,",",c.source,",",u.source,"\\)$"].join(a.source),"i")};return r.Color._getFormattedColor=function(){var e,t,n,i,o,a,l=arguments.length,u=this._colorMode;if(l>=3)e=arguments[0],t=arguments[1],n=arguments[2],i="number"==typeof arguments[3]?arguments[3]:this._colorMaxes[u][3];else{if(1===l&&"string"==typeof arguments[0])return o=arguments[0].trim().toLowerCase(),h[o]?r.Color._getFormattedColor.apply(this,[h[o]]):(a=d.HEX3.test(o)?d.HEX3.exec(o).slice(1).map(function(e){return parseInt(e+e,16)}):d.HEX6.test(o)?d.HEX6.exec(o).slice(1).map(function(e){return parseInt(e,16)}):d.RGB.test(o)?d.RGB.exec(o).slice(1).map(function(e){return parseInt(e,10)}):d.RGB_PERCENT.test(o)?d.RGB_PERCENT.exec(o).slice(1).map(function(e){return parseInt(255*(parseFloat(e)/100),10)}):d.RGBA.test(o)?d.RGBA.exec(o).slice(1).map(function(e,t){return 3===t?parseInt(255*parseFloat(e),10):parseInt(e,10)}):d.RGBA_PERCENT.test(o)?d.RGBA_PERCENT.exec(o).slice(1).map(function(e,t){return 3===t?parseInt(255*parseFloat(e),10):parseInt(255*(parseFloat(e)/100),10)}):d.HSL.test(o)?d.HSL.exec(o).slice(1).map(function(e){return parseInt(e,10)}):d.HSLA.test(o)?d.HSLA.exec(o).slice(1).map(function(e){return parseFloat(e,10)}):[255],r.Color._getFormattedColor.apply(this,a));if(1===l&&"number"==typeof arguments[0])u===s.RGB?e=t=n=arguments[0]:(u===s.HSB||u===s.HSL)&&(e=n=arguments[0],t=0),i="number"==typeof arguments[1]?arguments[1]:this._colorMaxes[u][3];else{if(2!==l||"number"!=typeof arguments[0]||"number"!=typeof arguments[1])throw new Error(arguments+"is not a valid color representation.");u===s.RGB?e=t=n=arguments[0]:(u===s.HSB||u===s.HSL)&&(e=n=arguments[0],t=0),i=arguments[1]}}return[e,t,n,i]},r.Color}({},amdclean.core_core,amdclean.color_color_utils,amdclean.core_constants),amdclean.core_p5Element=function(e,t){function n(e,t,n){var i=t.bind(n);n.elt.addEventListener(e,i,!1),n._events[e]=i}var i=t;return i.Element=function(e,t){this.elt=e,this._pInst=t,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},i.Element.prototype.parent=function(e){return"string"==typeof e?e=document.getElementById(e):e instanceof i.Element&&(e=e.elt),e.appendChild(this.elt),this},i.Element.prototype.id=function(e){return this.elt.id=e,this},i.Element.prototype["class"]=function(e){return this.elt.className+=" "+e,this},i.Element.prototype.mousePressed=function(e){return n("mousedown",e,this),n("touchstart",e,this),this},i.Element.prototype.mouseWheel=function(e){return n("mousewheel",e,this),this},i.Element.prototype.mouseReleased=function(e){return n("mouseup",e,this),n("touchend",e,this),this},i.Element.prototype.mouseClicked=function(e){return n("click",e,this),this},i.Element.prototype.mouseMoved=function(e){return n("mousemove",e,this),n("touchmove",e,this),this},i.Element.prototype.mouseOver=function(e){return n("mouseover",e,this),this},i.Element.prototype.mouseOut=function(e){return n("mouseout",e,this),this},i.Element.prototype.touchStarted=function(e){return n("touchstart",e,this),n("mousedown",e,this),this},i.Element.prototype.touchMoved=function(e){return n("touchmove",e,this),n("mousemove",e,this),this},i.Element.prototype.touchEnded=function(e){return n("touchend",e,this),n("mouseup",e,this),this},i.Element.prototype.dragOver=function(e){return n("dragover",e,this),this},i.Element.prototype.dragLeave=function(e){return n("dragleave",e,this),this},i.Element.prototype.drop=function(e,t){function r(t){var n=new i.File(t);return function(t){n.data=t.target.result,e(n)}}return window.File&&window.FileReader&&window.FileList&&window.Blob?(n("dragover",function(e){e.stopPropagation(),e.preventDefault()},this),n("dragleave",function(e){e.stopPropagation(),e.preventDefault()},this),arguments.length>1&&n("drop",t,this),n("drop",function(e){e.stopPropagation(),e.preventDefault();for(var t=e.dataTransfer.files,n=0;n<t.length;n++){var i=t[n],o=new FileReader;o.onload=r(i),"text"===i.type?o.readAsText(i):o.readAsDataURL(i)}},this)):console.log("The File APIs are not fully supported in this browser."),this},i.Element.prototype._setProperty=function(e,t){this[e]=t},i.Element}({},amdclean.core_core),amdclean.typography_p5Font=function(e,t,n){"use strict";function i(){for(var e=Array.prototype.slice.call(arguments),t=e.length,n="";t--;)n+=e[t]===Object(e[t])?JSON.stringify(e[t]):e[t];return n}var r=t,o=n;return r.Font=function(e){this.parent=e,this.cache={},this.font=void 0},r.Font.prototype._getGlyphs=function(e){return this.font.stringToGlyphs(e)},r.Font.prototype._getPath=function(e,t,n,i){var r=this.parent,o=r._graphics.drawingContext,s=this._handleAlignment(r,o,e,t,n);return this.font.getPath(e,s.x,s.y,r._textSize,i)},r.Font.prototype._getPathData=function(e,t,n,i){var r=3;return"string"==typeof e&&arguments.length>2?e=this._getPath(e,t,n,i):"object"==typeof t&&(i=t),i&&"number"==typeof i.decimals&&(r=i.decimals),e.toPathData(r)},r.Font.prototype._getSVG=function(e,t,n,i){var r=3;return"string"==typeof e&&arguments.length>2?e=this._getPath(e,t,n,i):"object"==typeof t&&(i=t),i&&("number"==typeof i.decimals&&(r=i.decimals),"number"==typeof i.strokeWidth&&(e.strokeWidth=i.strokeWidth),void 0!==typeof i.fill&&(e.fill=i.fill),void 0!==typeof i.stroke&&(e.stroke=i.stroke)),e.toSVG(r)},r.Font.prototype._renderPath=function(e,t,n,i){var r,s=this.parent,a=s._graphics,l=a.drawingContext;r="object"==typeof e&&e.commands?e.commands:this._getPath(e,t,n,s._textSize,i).commands,l.beginPath();for(var u=0;u<r.length;u+=1){var c=r[u];"M"===c.type?l.moveTo(c.x,c.y):"L"===c.type?l.lineTo(c.x,c.y):"C"===c.type?l.bezierCurveTo(c.x1,c.y1,c.x2,c.y2,c.x,c.y):"Q"===c.type?l.quadraticCurveTo(c.x1,c.y1,c.x,c.y):"Z"===c.type&&l.closePath()}return s._doStroke&&s._strokeSet&&l.stroke(),s._doFill&&(l.fillStyle=s._fillSet?l.fillStyle:o._DEFAULT_TEXT_FILL,l.fill()),this},r.Font.prototype._textWidth=function(e){if(" "===e)return this.font.charToGlyph(" ").advanceWidth*this._scale();var t=this.textBounds(e);return t.w+t.advance},r.Font.prototype._textAscent=function(){var e=this.textBounds("ABCjgq|");return Math.abs(e.y)},r.Font.prototype._textDescent=function(){var e=this.textBounds("ABCjgq|");return e.h-Math.abs(e.y)},r.Font.prototype._scale=function(e){return 1/this.font.unitsPerEm*(e||this.parent._textSize)},r.Font.prototype.textBounds=function(e,t,n,r,o){t=void 0!==t?t:0,n=void 0!==n?n:0,r=r||this.parent._textSize;var s=this.cache[i("textBounds",e,t,n,r)];if(!s){if(" "!==e){var a,l,u,c,h=[],d=[],p=this._scale(r);this.font.forEachGlyph(e,t,n,r,o,function(e,t,n){if("space"!==e.name){t=void 0!==t?t:0,n=void 0!==n?n:0;var i=e.getMetrics();h.push(t+i.xMin*p),d.push(n+-i.yMin*p),h.push(t+i.xMax*p),d.push(n+-i.yMax*p)}}),a=Math.min.apply(null,h),l=Math.min.apply(null,d),u=Math.max.apply(null,h),c=Math.max.apply(null,d),s={x:a,y:l,h:c-l,w:u-a,advance:a-t}}else{var f=this._textWidth(e);s={x:t,y:n,h:0,w:f,advance:0}}this.cache[i("textBounds",e,t,n,r)]=s}return s},r.Font.prototype._drawPoints=function(e,t,n,i){function r(e,t,n,i){for(var r=0;r<e.length;r++)l.ellipse(t+e[r].x*i,n+e[r].y*i,3,3)}var o,s,a,l=this.parent,u=this._scale();t=void 0!==t?t:0,n=void 0!==n?n:0,this.font.forEachGlyph(e,t,n,l._textSize,i,function(e,t,n){s=[],a=[],o=e.path.commands;for(var i=0;i<o.length;i+=1){var c=o[i];void 0!==c.x&&s.push({x:c.x,y:-c.y}),void 0!==c.x1&&a.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&a.push({x:c.x2,y:-c.y2})}l.noStroke(),l.fill(0,0,255),r(s,t,n,u),l.fill(255,0,0),r(a,t,n,u)})},r.Font.prototype.list=function(){throw"not yet implemented"},r.Font.prototype._handleAlignment=function(e,t,n,i,r){var s=this._textWidth(n),a=this._textAscent(),l=this._textDescent(),u=a+l;return t.textAlign===o.CENTER?i-=s/2:t.textAlign===o.RIGHT&&(i-=s),t.textBaseline===o.TOP?r+=u:t.textBaseline===o._CTX_MIDDLE?r+=u/2-l:t.textBaseline===o.BOTTOM&&(r-=l),{x:i,y:r}},r.Font}({},amdclean.core_core,amdclean.core_constants),amdclean.core_p5Graphics=function(e,t,n){var i=t,r=n;return i.Graphics=function(e,t,n,o){var s=n||r.P2D,a=document.createElement("canvas"),l=this._userNode||document.body;l.appendChild(a),i.Element.call(this,a,o,!1),this._styles=[],this.width=e,this.height=t,this.pixelDensity=o.pixelDensity,this._graphics=s===r.WEBGL?new i.Renderer3D(a,this,!1):new i.Renderer2D(a,this,!1),this._graphics.resize(e,t),this._graphics._applyDefaults(),o._elements.push(this);for(var u in i.prototype)this[u]||(this[u]="function"==typeof i.prototype[u]?i.prototype[u].bind(this):i.prototype[u]);return this},i.Graphics.prototype=Object.create(i.Element.prototype),i.Graphics}({},amdclean.core_core,amdclean.core_constants),amdclean.core_canvas=function(e,t){var n=t;return{modeAdjust:function(e,t,i,r,o){return o===n.CORNER?{x:e,y:t,w:i,h:r}:o===n.CORNERS?{x:e,y:t,w:i-e,h:r-t}:o===n.RADIUS?{x:e-i,y:t-r,w:2*i,h:2*r}:o===n.CENTER?{x:e-.5*i,y:t-.5*r,w:i,h:r}:void 0},arcModeAdjust:function(e,t,i,r,o){return o===n.CORNER?{x:e+.5*i,y:t+.5*r,w:i,h:r}:o===n.CORNERS?{x:e,y:t,w:i+e,h:r+t}:o===n.RADIUS?{x:e,y:t,w:2*i,h:2*r}:o===n.CENTER?{x:e,y:t,w:i,h:r}:void 0}}}({},amdclean.core_constants),amdclean.image_filters=function(){"use strict";function e(e){var t=0|3.5*e;if(t=1>t?1:248>t?t:248,i!==t){i=t,r=1+i<<1,o=new Int32Array(r),s=new Array(r);for(var n=0;r>n;n++)s[n]=new Int32Array(256);for(var a,l,u,c,h=1,d=t-1;t>h;h++){o[t+h]=o[d]=l=d*d,u=s[t+h],c=s[d--];for(var p=0;256>p;p++)u[p]=c[p]=l*p}a=o[t]=t*t,u=s[t];for(var f=0;256>f;f++)u[f]=a*f}}function t(t,a){for(var l=n._toPixels(t),u=t.width,c=t.height,h=u*c,d=new Int32Array(h),p=0;h>p;p++)d[p]=n._getARGB(l,p);var f,g,m,v,y,b,w,C,x,A,S=new Int32Array(h),_=new Int32Array(h),E=new Int32Array(h),$=new Int32Array(h),T=0;e(a);var k,D,F,M;for(D=0;c>D;D++){for(k=0;u>k;k++){if(v=m=g=y=f=0,b=k-i,0>b)A=-b,b=0;else{if(b>=u)break;A=0}for(F=A;r>F&&!(b>=u);F++){var R=d[b+T];M=s[F],y+=M[(-16777216&R)>>>24],g+=M[(16711680&R)>>16],m+=M[(65280&R)>>8],v+=M[255&R],f+=o[F],b++}w=T+k,S[w]=y/f,_[w]=g/f,E[w]=m/f,$[w]=v/f}T+=u}for(T=0,C=-i,x=C*u,D=0;c>D;D++){for(k=0;u>k;k++){if(v=m=g=y=f=0,0>C)A=w=-C,b=k;else{if(C>=c)break;A=0,w=C,b=k+x}for(F=A;r>F&&!(w>=c);F++)M=s[F],y+=M[S[b]],g+=M[_[b]],m+=M[E[b]],v+=M[$[b]],f+=o[F],w++,b+=u;d[k+T]=y/f<<24|g/f<<16|m/f<<8|v/f}T+=u,x+=u,C++}n._setPixels(l,d)}var n={};n._toPixels=function(e){return e instanceof ImageData?e.data:e.getContext("2d").getImageData(0,0,e.width,e.height).data},n._getARGB=function(e,t){var n=4*t;return 4278190080&e[n+3]<<24|16711680&e[n]<<16|65280&e[n+1]<<8|255&e[n+2]},n._setPixels=function(e,t){for(var n=0,i=0,r=e.length;r>i;i++)n=4*i,e[n+0]=(16711680&t[i])>>>16,e[n+1]=(65280&t[i])>>>8,e[n+2]=255&t[i],e[n+3]=(4278190080&t[i])>>>24},n._toImageData=function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},n._createImageData=function(e,t){return n._tmpCanvas=document.createElement("canvas"),n._tmpCtx=n._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},n.apply=function(e,t,n){var i=e.getContext("2d"),r=i.getImageData(0,0,e.width,e.height),o=t(r,n);o instanceof ImageData?i.putImageData(o,0,0,0,0,e.width,e.height):i.putImageData(r,0,0,0,0,e.width,e.height)},n.threshold=function(e,t){var i=n._toPixels(e);void 0===t&&(t=.5);for(var r=Math.floor(255*t),o=0;o<i.length;o+=4){var s,a=i[o],l=i[o+1],u=i[o+2],c=.2126*a+.7152*l+.0722*u;s=c>=r?255:0,i[o]=i[o+1]=i[o+2]=s}},n.gray=function(e){for(var t=n._toPixels(e),i=0;i<t.length;i+=4){var r=t[i],o=t[i+1],s=t[i+2],a=.2126*r+.7152*o+.0722*s;t[i]=t[i+1]=t[i+2]=a}},n.opaque=function(e){for(var t=n._toPixels(e),i=0;i<t.length;i+=4)t[i+3]=255;return t},n.invert=function(e){for(var t=n._toPixels(e),i=0;i<t.length;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]},n.posterize=function(e,t){var i=n._toPixels(e);if(2>t||t>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=t-1,o=0;o<i.length;o+=4){var s=i[o],a=i[o+1],l=i[o+2];i[o]=255*(s*t>>8)/r,i[o+1]=255*(a*t>>8)/r,i[o+2]=255*(l*t>>8)/r}},n.dilate=function(e){for(var t,i,r,o,s,a,l,u,c,h,d,p,f,g,m,v,y,b=n._toPixels(e),w=0,C=b.length?b.length/4:0,x=new Int32Array(C);C>w;)for(t=w,i=w+e.width;i>w;)r=o=n._getARGB(b,w),l=w-1,a=w+1,u=w-e.width,c=w+e.width,t>l&&(l=w),a>=i&&(a=w),0>u&&(u=0),c>=C&&(c=w),p=n._getARGB(b,u),d=n._getARGB(b,l),f=n._getARGB(b,c),h=n._getARGB(b,a),s=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),m=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),g=77*(255&h>>16)+151*(255&h>>8)+28*(255&h),v=77*(255&p>>16)+151*(255&p>>8)+28*(255&p),y=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),m>s&&(o=d,s=m),g>s&&(o=h,s=g),v>s&&(o=p,s=v),y>s&&(o=f,s=y),x[w++]=o;n._setPixels(b,x)},n.erode=function(e){for(var t,i,r,o,s,a,l,u,c,h,d,p,f,g,m,v,y,b=n._toPixels(e),w=0,C=b.length?b.length/4:0,x=new Int32Array(C);C>w;)for(t=w,i=w+e.width;i>w;)r=o=n._getARGB(b,w),l=w-1,a=w+1,u=w-e.width,c=w+e.width,t>l&&(l=w),a>=i&&(a=w),0>u&&(u=0),c>=C&&(c=w),p=n._getARGB(b,u),d=n._getARGB(b,l),f=n._getARGB(b,c),h=n._getARGB(b,a),s=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),m=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),g=77*(255&h>>16)+151*(255&h>>8)+28*(255&h),v=77*(255&p>>16)+151*(255&p>>8)+28*(255&p),y=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),s>m&&(o=d,s=m),s>g&&(o=h,s=g),s>v&&(o=p,s=v),s>y&&(o=f,s=y),x[w++]=o;n._setPixels(b,x)};var i,r,o,s;return n.blur=function(e,n){t(e,n)},n}({}),amdclean.core_p5Renderer=function(e,t){var n=t;return n.Renderer=function(e,t,i){n.Element.call(this,e,t),this.canvas=e,this._pInst=t,i?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[])},n.Renderer.prototype=Object.create(n.Element.prototype),n.Renderer.prototype.resize=function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst.pixelDensity,this.elt.height=t*this._pInst.pixelDensity,this.elt.style.width=e+"px",this.elt.style.height=t+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},n.Renderer}({},amdclean.core_core),amdclean.core_p5Renderer2D=function(e,t,n,i,r){var o=t,s=n,a=i,l=r,u="rgba(0,0,0,0)";return o.Renderer2D=function(e,t,n){return o.Renderer.call(this,e,t,n),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},o.Renderer2D.prototype=Object.create(o.Renderer.prototype),o.Renderer2D.prototype._applyDefaults=function(){this.drawingContext.fillStyle=a._DEFAULT_FILL,this.drawingContext.strokeStyle=a._DEFAULT_STROKE,this.drawingContext.lineCap=a.ROUND,this.drawingContext.font="normal 12px sans-serif"},o.Renderer2D.prototype.resize=function(e,t){o.Renderer.prototype.resize.call(this,e,t),this.drawingContext.scale(this._pInst.pixelDensity,this._pInst.pixelDensity)},o.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst.pixelDensity,this._pInst.pixelDensity),arguments[0]instanceof o.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var e=this.drawingContext.fillStyle,t=this._pInst.color.apply(this._pInst,arguments),n=t.toString();this.drawingContext.fillStyle=n,this.drawingContext.fillRect(0,0,this.width,this.height),this.drawingContext.fillStyle=e}this.drawingContext.restore()},o.Renderer2D.prototype.clear=function(){this.drawingContext.clearRect(0,0,this.width,this.height)},o.Renderer2D.prototype.fill=function(){var e=this.drawingContext,t=this._pInst.color.apply(this._pInst,arguments);e.fillStyle=t.toString()},o.Renderer2D.prototype.stroke=function(){var e=this.drawingContext,t=this._pInst.color.apply(this._pInst,arguments);e.strokeStyle=t.toString()},o.Renderer2D.prototype.image=function(e,t,n,i,r){var o=e.canvas||e.elt;try{this._pInst._tint&&e.canvas?this.drawingContext.drawImage(this._getTintedImageCanvas(e),t,n,i,r):this.drawingContext.drawImage(o,t,n,i,r)}catch(s){if("NS_ERROR_NOT_AVAILABLE"!==s.name)throw s}},o.Renderer2D.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=l._toPixels(e.canvas),n=document.createElement("canvas");n.width=e.canvas.width,n.height=e.canvas.height;for(var i=n.getContext("2d"),r=i.createImageData(e.canvas.width,e.canvas.height),o=r.data,s=0;s<t.length;s+=4){var a=t[s],u=t[s+1],c=t[s+2],h=t[s+3];o[s]=a*this._pInst._tint[0]/255,o[s+1]=u*this._pInst._tint[1]/255,o[s+2]=c*this._pInst._tint[2]/255,o[s+3]=h*this._pInst._tint[3]/255}return i.putImageData(r,0,0),n},o.Renderer2D.prototype.blendMode=function(e){this.drawingContext.globalCompositeOperation=e},o.Renderer2D.prototype.blend=function(){var e=this.drawingContext.globalCompositeOperation,t=arguments[arguments.length-1],n=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=t,this._pInst.copy.apply(this._pInst,n),this.drawingContext.globalCompositeOperation=e},o.Renderer2D.prototype.copy=function(){var e,t,n,i,r,s,a,l,u;if(9===arguments.length)e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3],r=arguments[4],s=arguments[5],a=arguments[6],l=arguments[7],u=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=this._pInst,t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3],s=arguments[4],a=arguments[5],l=arguments[6],u=arguments[7]}o.Renderer2D._copyHelper(e,t,n,i,r,s,a,l,u)},o.Renderer2D._copyHelper=function(e,t,n,i,r,o,s,a,l){var u=e.canvas.width/e.width;this.drawingContext.drawImage(e.canvas,u*t,u*n,u*i,u*r,o,s,a,l)},o.Renderer2D.prototype.get=function(e,t,n,i){if(void 0===e&&void 0===t&&void 0===n&&void 0===i?(e=0,t=0,n=this.width,i=this.height):void 0===n&&void 0===i&&(n=1,i=1),e>this.width||t>this.height||0>e||0>t)return[0,0,0,255];var r=this.pixelDensity||this._pInst.pixelDensity;if(1===n&&1===i){for(var s=this.drawingContext.getImageData(e*r,t*r,n,i),a=s.data,l=[],u=0;u<a.length;u+=4)l.push(a[u],a[u+1],a[u+2],a[u+3]);return l}var c=e*r,h=t*r,d=Math.min(n,this.width),p=Math.min(i,this.height),f=d*r,g=p*r,m=new o.Image(d,p);return m.canvas.getContext("2d").drawImage(this.canvas,c,h,f,g,0,0,d,p),m},o.Renderer2D.prototype.loadPixels=function(){var e=this.pixelDensity||this._pInst.pixelDensity,t=this.width*e,n=this.height*e,i=this.drawingContext.getImageData(0,0,t,n);this._pInst?(this._pInst._setProperty("imageData",i),this._pInst._setProperty("pixels",i.data)):(this._setProperty("imageData",i),this._setProperty("pixels",i.data))},o.Renderer2D.prototype.set=function(e,t,n){if(n instanceof o.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst.pixelDensity,this._pInst.pixelDensity),this.drawingContext.drawImage(n.canvas,e,t),this.loadPixels.call(this._pInst),this.drawingContext.restore();else{var i=this._pInst||this,r=0,s=0,a=0,l=0,u=4*(t*i.pixelDensity*this.width*i.pixelDensity+e*i.pixelDensity);if(i.imageData||i.loadPixels.call(i),"number"==typeof n)u<i.pixels.length&&(r=n,s=n,a=n,l=255);else if(n instanceof Array){if(n.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<i.pixels.length&&(r=n[0],s=n[1],a=n[2],l=n[3])}else n instanceof o.Color&&u<i.pixels.length&&(r=n.rgba[0],s=n.rgba[1],a=n.rgba[2],l=n.rgba[3]);for(var c=0;c<i.pixelDensity;c++)for(var h=0;h<i.pixelDensity;h++)u=4*((t*i.pixelDensity+h)*this.width*i.pixelDensity+(e*i.pixelDensity+c)),i.pixels[u]=r,i.pixels[u+1]=s,i.pixels[u+2]=a,i.pixels[u+3]=l}},o.Renderer2D.prototype.updatePixels=function(e,t,n,i){var r=this.pixelDensity||this._pInst.pixelDensity;void 0===e&&void 0===t&&void 0===n&&void 0===i&&(e=0,t=0,n=this.width,i=this.height),n*=r,i*=r,this._pInst?this.drawingContext.putImageData(this._pInst.imageData,e,t,0,0,n,i):this.drawingContext.putImageData(this.imageData,e,t,0,0,n,i)},o.Renderer2D.prototype.arc=function(e,t,n,i,r,o,l,u){if(this._pInst._doStroke||this._pInst._doFill){var c=this.drawingContext,h=s.arcModeAdjust(e,t,n,i,this._pInst._ellipseMode),d=h.w/2,p=h.h/2;
return c.beginPath(),u.forEach(function(e,t){0===t&&c.moveTo(h.x+e.x1*d,h.y+e.y1*p),c.bezierCurveTo(h.x+e.x2*d,h.y+e.y2*p,h.x+e.x3*d,h.y+e.y3*p,h.x+e.x4*d,h.y+e.y4*p)}),this._pInst._doFill&&((l===a.PIE||null==l)&&c.lineTo(h.x,h.y),c.closePath(),c.fill(),this._pInst._doStroke&&(l===a.CHORD||l===a.PIE))?(c.stroke(),this):(this._pInst._doStroke&&(l===a.OPEN||null==l)&&(c.beginPath(),u.forEach(function(e,t){0===t&&c.moveTo(h.x+e.x1*d,h.y+e.y1*p),c.bezierCurveTo(h.x+e.x2*d,h.y+e.y2*p,h.x+e.x3*d,h.y+e.y3*p,h.x+e.x4*d,h.y+e.y4*p)}),c.stroke()),this)}},o.Renderer2D.prototype.ellipse=function(e,t,n,i){var r=this.drawingContext,o=this._pInst._doFill,a=this._pInst._doStroke;if(o&&!a){if(r.fillStyle===u)return this}else if(!o&&a&&r.strokeStyle===u)return this;var l=s.modeAdjust(e,t,n,i,this._pInst._ellipseMode),c=.5522848,h=l.w/2*c,d=l.h/2*c,p=l.x+l.w,f=l.y+l.h,g=l.x+l.w/2,m=l.y+l.h/2;r.beginPath(),r.moveTo(l.x,m),r.bezierCurveTo(l.x,m-d,g-h,l.y,g,l.y),r.bezierCurveTo(g+h,l.y,p,m-d,p,m),r.bezierCurveTo(p,m+d,g+h,f,g,f),r.bezierCurveTo(g-h,f,l.x,m+d,l.x,m),r.closePath(),o&&r.fill(),a&&r.stroke()},o.Renderer2D.prototype.line=function(e,t,n,i){var r=this.drawingContext;return this._pInst._doStroke?r.strokeStyle===u?this:(1===r.lineWidth%2&&r.translate(.5,.5),r.beginPath(),r.moveTo(e,t),r.lineTo(n,i),r.stroke(),1===r.lineWidth%2&&r.translate(-.5,-.5),this):this},o.Renderer2D.prototype.point=function(e,t){var n=this.drawingContext,i=n.strokeStyle,r=n.fillStyle;return this._pInst._doStroke?n.strokeStyle===u?this:(e=Math.round(e),t=Math.round(t),n.fillStyle=i,n.lineWidth>1?(n.beginPath(),n.arc(e,t,n.lineWidth/2,0,a.TWO_PI,!1),n.fill()):n.fillRect(e,t,1,1),void(n.fillStyle=r)):this},o.Renderer2D.prototype.quad=function(e,t,n,i,r,o,s,a){var l=this.drawingContext,c=this._pInst._doFill,h=this._pInst._doStroke;if(c&&!h){if(l.fillStyle===u)return this}else if(!c&&h&&l.strokeStyle===u)return this;return l.beginPath(),l.moveTo(e,t),l.lineTo(n,i),l.lineTo(r,o),l.lineTo(s,a),l.closePath(),c&&l.fill(),h&&l.stroke(),this},o.Renderer2D.prototype.rect=function(e,t,n,i,r,o,a,l){var c=this.drawingContext,h=this._pInst._doFill,d=this._pInst._doStroke;if(h&&!d){if(c.fillStyle===u)return this}else if(!h&&d&&c.strokeStyle===u)return this;var p=s.modeAdjust(e,t,n,i,this._pInst._rectMode);if(this._pInst._doStroke&&1===c.lineWidth%2&&c.translate(.5,.5),c.beginPath(),"undefined"==typeof r)c.rect(p.x,p.y,p.w,p.h);else{"undefined"==typeof o&&(o=r),"undefined"==typeof a&&(a=o),"undefined"==typeof l&&(l=a);var f=p.x,g=p.y,m=p.w,v=p.h,y=m/2,b=v/2;2*r>m&&(r=y),2*r>v&&(r=b),2*o>m&&(o=y),2*o>v&&(o=b),2*a>m&&(a=y),2*a>v&&(a=b),2*l>m&&(l=y),2*l>v&&(l=b),c.beginPath(),c.moveTo(f+r,g),c.arcTo(f+m,g,f+m,g+v,o),c.arcTo(f+m,g+v,f,g+v,a),c.arcTo(f,g+v,f,g,l),c.arcTo(f,g,f+m,g,r),c.closePath()}return this._pInst._doFill&&c.fill(),this._pInst._doStroke&&c.stroke(),this._pInst._doStroke&&1===c.lineWidth%2&&c.translate(-.5,-.5),this},o.Renderer2D.prototype.triangle=function(e,t,n,i,r,o){var s=this.drawingContext,a=this._pInst._doFill,l=this._pInst._doStroke;if(a&&!l){if(s.fillStyle===u)return this}else if(!a&&l&&s.strokeStyle===u)return this;s.beginPath(),s.moveTo(e,t),s.lineTo(n,i),s.lineTo(r,o),s.closePath(),a&&s.fill(),l&&s.stroke()},o.Renderer2D.prototype.endShape=function(e,t,n,i,r,o,s){if(0===t.length)return this;if(!this._pInst._doStroke&&!this._pInst._doFill)return this;var l,u=e===a.CLOSE;u&&!o&&t.push(t[0]);var c,h,d=t.length;if(!n||s!==a.POLYGON&&null!==s)if(!i||s!==a.POLYGON&&null!==s)if(!r||s!==a.POLYGON&&null!==s)if(s===a.POINTS)for(c=0;d>c;c++)l=t[c],this._pInst._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(s===a.LINES)for(c=0;d>c+1;c+=2)l=t[c],this._pInst._doStroke&&this._pInst.stroke(t[c+1][6]),this._pInst.line(l[0],l[1],t[c+1][0],t[c+1][1]);else if(s===a.TRIANGLES)for(c=0;d>c+2;c+=3)l=t[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[c+1][0],t[c+1][1]),this.drawingContext.lineTo(t[c+2][0],t[c+2][1]),this.drawingContext.lineTo(l[0],l[1]),this._pInst._doFill&&(this._pInst.fill(t[c+2][5]),this.drawingContext.fill()),this._pInst._doStroke&&(this._pInst.stroke(t[c+2][6]),this.drawingContext.stroke()),this.drawingContext.closePath();else if(s===a.TRIANGLE_STRIP)for(c=0;d>c+1;c++)l=t[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[c+1][0],t[c+1][1]),this.drawingContext.lineTo(l[0],l[1]),this._pInst._doStroke&&this._pInst.stroke(t[c+1][6]),this._pInst._doFill&&this._pInst.fill(t[c+1][5]),d>c+2&&(this.drawingContext.lineTo(t[c+2][0],t[c+2][1]),this._pInst._doStroke&&this._pInst.stroke(t[c+2][6]),this._pInst._doFill&&this._pInst.fill(t[c+2][5])),this._doFillStrokeClose();else if(s===a.TRIANGLE_FAN){if(d>2)for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[1][0],t[1][1]),this.drawingContext.lineTo(t[2][0],t[2][1]),this._pInst._doFill&&this._pInst.fill(t[2][5]),this._pInst._doStroke&&this._pInst.stroke(t[2][6]),this._doFillStrokeClose(),c=3;d>c;c++)l=t[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[c-1][0],t[c-1][1]),this.drawingContext.lineTo(l[0],l[1]),this._pInst._doFill&&this._pInst.fill(l[5]),this._pInst._doStroke&&this._pInst.stroke(l[6]),this._doFillStrokeClose()}else if(s===a.QUADS)for(c=0;d>c+3;c+=4){for(l=t[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),h=1;4>h;h++)this.drawingContext.lineTo(t[c+h][0],t[c+h][1]);this.drawingContext.lineTo(l[0],l[1]),this._pInst._doFill&&this._pInst.fill(t[c+3][5]),this._pInst._doStroke&&this._pInst.stroke(t[c+3][6]),this._doFillStrokeClose()}else if(s===a.QUAD_STRIP){if(d>3)for(c=0;d>c+1;c+=2)l=t[c],this.drawingContext.beginPath(),d>c+3?(this.drawingContext.moveTo(t[c+2][0],t[c+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[c+1][0],t[c+1][1]),this.drawingContext.lineTo(t[c+3][0],t[c+3][1]),this._pInst._doFill&&this._pInst.fill(t[c+3][5]),this._pInst._doStroke&&this._pInst.stroke(t[c+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[c+1][0],t[c+1][1])),this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),c=1;d>c;c++)l=t[c],l.isVert&&(l.moveTo?this.drawingContext.moveTo(l[0],l[1]):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),c=0;d>c;c++)t[c].isVert?t[c].moveTo?this.drawingContext.moveTo([0],t[c][1]):this.drawingContext.lineTo(t[c][0],t[c][1]):this.drawingContext.quadraticCurveTo(t[c][0],t[c][1],t[c][2],t[c][3]);this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),c=0;d>c;c++)t[c].isVert?t[c].moveTo?this.drawingContext.moveTo(t[c][0],t[c][1]):this.drawingContext.lineTo(t[c][0],t[c][1]):this.drawingContext.bezierCurveTo(t[c][0],t[c][1],t[c][2],t[c][3],t[c][4],t[c][5]);this._doFillStrokeClose()}else if(d>3){var p=[],f=1-this._pInst._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),c=1;d>c+2;c++)l=t[c],p[0]=[l[0],l[1]],p[1]=[l[0]+(f*t[c+1][0]-f*t[c-1][0])/6,l[1]+(f*t[c+1][1]-f*t[c-1][1])/6],p[2]=[t[c+1][0]+(f*t[c][0]-f*t[c+2][0])/6,t[c+1][1]+(f*t[c][1]-f*t[c+2][1])/6],p[3]=[t[c+1][0],t[c+1][1]],this.drawingContext.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]);u&&this.drawingContext.lineTo(t[c+1][0],t[c+1][1]),this._doFillStrokeClose()}return n=!1,i=!1,r=!1,o=!1,u&&t.pop(),this},o.Renderer2D.prototype.noSmooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!1:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!1:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!1:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!1),this},o.Renderer2D.prototype.smooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!0:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!0:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!0:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!0),this},o.Renderer2D.prototype.strokeCap=function(e){return(e===a.ROUND||e===a.SQUARE||e===a.PROJECT)&&(this.drawingContext.lineCap=e),this},o.Renderer2D.prototype.strokeJoin=function(e){return(e===a.ROUND||e===a.BEVEL||e===a.MITER)&&(this.drawingContext.lineJoin=e),this},o.Renderer2D.prototype.strokeWeight=function(e){return this.drawingContext.lineWidth="undefined"==typeof e||0===e?1e-4:e,this},o.Renderer2D.prototype._getFill=function(){return this.drawingContext.fillStyle},o.Renderer2D.prototype._getStroke=function(){return this.drawingContext.strokeStyle},o.Renderer2D.prototype.bezier=function(e,t,n,i,r,o,s,a){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(n,i,r,o,s,a),this._pInst.endShape(),this},o.Renderer2D.prototype.curve=function(e,t,n,i,r,o,s,a){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(n,i),this._pInst.curveVertex(r,o),this._pInst.curveVertex(s,a),this._pInst.endShape(),this},o.Renderer2D.prototype._doFillStrokeClose=function(){this._pInst._doFill&&this.drawingContext.fill(),this._pInst._doStroke&&this.drawingContext.stroke(),this.drawingContext.closePath()},o.Renderer2D.prototype.applyMatrix=function(e,t,n,i,r,o){this.drawingContext.transform(e,t,n,i,r,o)},o.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this},o.Renderer2D.prototype.rotate=function(e){this.drawingContext.rotate(e)},o.Renderer2D.prototype.scale=function(){var e=1,t=1;return 1===arguments.length?e=t=arguments[0]:(e=arguments[0],t=arguments[1]),this.drawingContext.scale(e,t),this},o.Renderer2D.prototype.shearX=function(e){return this._pInst._angleMode===a.DEGREES&&(e=this._pInst.radians(e)),this.drawingContext.transform(1,0,this._pInst.tan(e),1,0,0),this},o.Renderer2D.prototype.shearY=function(e){return this._pInst._angleMode===a.DEGREES&&(e=this._pInst.radians(e)),this.drawingContext.transform(1,this._pInst.tan(e),0,1,0,0),this},o.Renderer2D.prototype.translate=function(e,t){return this.drawingContext.translate(e,t),this},o.Renderer2D.prototype.text=function(e,t,n,i,r){var o,s,l,u,c,h,d,p,f,g,m=this._pInst;if(m._doFill||m._doStroke){if("string"!=typeof e&&(e=e.toString()),e=e.replace(/(\t)/g,"  "),o=e.split("\n"),"undefined"!=typeof i){for(f=0,l=0;l<o.length;l++)for(c="",p=o[l].split(" "),s=0;s<p.length;s++)h=c+p[s]+" ",d=this.textWidth(h),d>i?(c=p[s]+" ",f+=m.textLeading()):c=h;switch(this.drawingContext.textAlign){case a.CENTER:t+=i/2;break;case a.RIGHT:t+=i}if("undefined"!=typeof r)switch(this.drawingContext.textBaseline){case a.BOTTOM:n+=r-f;break;case a._CTX_MIDDLE:n+=(r-f)/2;break;case a.BASELINE:g=!0,this.drawingContext.textBaseline=a.TOP}for(l=0;l<o.length;l++){for(c="",p=o[l].split(" "),s=0;s<p.length;s++)h=c+p[s]+" ",d=this.textWidth(h),d>i?(this._renderText(m,c,t,n),c=p[s]+" ",n+=m.textLeading()):c=h;this._renderText(m,c,t,n),n+=m.textLeading()}}else for(u=0;u<o.length;u++)this._renderText(m,o[u],t,n),n+=m.textLeading();return g&&(this.drawingContext.textBaseline=a.BASELINE),m}},o.Renderer2D.prototype._renderText=function(e,t,n,i){return e._isOpenType()?e._textFont._renderPath(t,n,i):(e._doStroke&&e._strokeSet&&this.drawingContext.strokeText(t,n,i),e._doFill&&(this.drawingContext.fillStyle=e._fillSet?this.drawingContext.fillStyle:a._DEFAULT_TEXT_FILL,this.drawingContext.fillText(t,n,i)),e)},o.Renderer2D.prototype.textWidth=function(e){return this._pInst._isOpenType()?this._pInst._textFont._textWidth(e):this.drawingContext.measureText(e).width},o.Renderer2D.prototype.textAlign=function(e,t){if(arguments.length)return(e===a.LEFT||e===a.RIGHT||e===a.CENTER)&&(this.drawingContext.textAlign=e),(t===a.TOP||t===a.BOTTOM||t===a.CENTER||t===a.BASELINE)&&(this.drawingContext.textBaseline=t===a.CENTER?a._CTX_MIDDLE:t),this._pInst;var n=this.drawingContext.textBaseline;return n===a._CTX_MIDDLE&&(n=a.CENTER),{horizontal:this.drawingContext.textAlign,vertical:n}},o.Renderer2D.prototype._applyTextProperties=function(){var e,t=this._pInst;return t._setProperty("_textAscent",null),t._setProperty("_textDescent",null),e=t._textFont,t._isOpenType()&&(e=t._textFont.font.familyName,t._setProperty("_textStyle",t._textFont.font.styleName)),this.drawingContext.font=t._textStyle+" "+t._textSize+"px "+e,t},o.Renderer2D.prototype.push=function(){this.drawingContext.save()},o.Renderer2D.prototype.pop=function(){this.drawingContext.restore()},o.Renderer2D}({},amdclean.core_core,amdclean.core_canvas,amdclean.core_constants,amdclean.image_filters,amdclean.core_p5Renderer),amdclean.image_p5Image=function(e,t,n){"use strict";var i=t,r=n;return i.Image=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this.pixelDensity=1,this.pixels=[]},i.Image.prototype._setProperty=function(e,t){this[e]=t},i.Image.prototype.loadPixels=function(){i.Renderer2D.prototype.loadPixels.call(this)},i.Image.prototype.updatePixels=function(e,t,n,r){i.Renderer2D.prototype.updatePixels.call(this,e,t,n,r)},i.Image.prototype.get=function(e,t,n,r){return i.Renderer2D.prototype.get.call(this,e,t,n,r)},i.Image.prototype.set=function(e,t,n){i.Renderer2D.prototype.set.call(this,e,t,n)},i.Image.prototype.resize=function(e,t){e=e||this.canvas.width,t=t||this.canvas.height;var n=document.createElement("canvas");n.width=e,n.height=t,n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(n,0,0,e,t,0,0,e,t),this.pixels.length>0&&this.loadPixels()},i.Image.prototype.copy=function(){i.prototype.copy.apply(this,arguments)},i.Image.prototype.mask=function(e){void 0===e&&(e=this);var t=this.drawingContext.globalCompositeOperation,n=1;e instanceof i.Renderer&&(n=e._pInst.pixelDensity);var r=[e,0,0,n*e.width,n*e.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",this.copy.apply(this,r),this.drawingContext.globalCompositeOperation=t},i.Image.prototype.filter=function(e,t){r.apply(this.canvas,r[e.toLowerCase()],t)},i.Image.prototype.blend=function(){i.prototype.blend.apply(this,arguments)},i.Image.prototype.save=function(e,t){var n;if(t)switch(t.toLowerCase()){case"png":n="image/png";break;case"jpeg":n="image/jpeg";break;case"jpg":n="image/jpeg";break;default:n="image/png"}else t="png",n="image/png";var r="image/octet-stream",o=this.canvas.toDataURL(n);o=o.replace(n,r),i.prototype.downloadFile(o,e,t)},i.Image}({},amdclean.core_core,amdclean.image_filters),amdclean.math_polargeometry=function(){return{degreesToRadians:function(e){return 2*Math.PI*e/360},radiansToDegrees:function(e){return 360*e/(2*Math.PI)}}}({}),amdclean.math_p5Vector=function(e,t,n,i){"use strict";var r=t,o=n,s=i;return r.Vector=function(){var e,t,n;arguments[0]instanceof r?(this.p5=arguments[0],e=arguments[1][0]||0,t=arguments[1][1]||0,n=arguments[1][2]||0):(e=arguments[0]||0,t=arguments[1]||0,n=arguments[2]||0),this.x=e,this.y=t,this.z=n},r.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"},r.Vector.prototype.set=function(e,t,n){return e instanceof r.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this):e instanceof Array?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0,this):(this.x=e||0,this.y=t||0,this.z=n||0,this)},r.Vector.prototype.copy=function(){return this.p5?new r.Vector(this.p5,[this.x,this.y,this.z]):new r.Vector(this.x,this.y,this.z)},r.Vector.prototype.add=function(e,t,n){return e instanceof r.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0,this):e instanceof Array?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0,this):(this.x+=e||0,this.y+=t||0,this.z+=n||0,this)},r.Vector.prototype.sub=function(e,t,n){return e instanceof r.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0,this):e instanceof Array?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0,this):(this.x-=e||0,this.y-=t||0,this.z-=n||0,this)},r.Vector.prototype.mult=function(e){return this.x*=e||0,this.y*=e||0,this.z*=e||0,this},r.Vector.prototype.div=function(e){return this.x/=e,this.y/=e,this.z/=e,this},r.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},r.Vector.prototype.magSq=function(){var e=this.x,t=this.y,n=this.z;return e*e+t*t+n*n},r.Vector.prototype.dot=function(e,t,n){return e instanceof r.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(n||0)},r.Vector.prototype.cross=function(e){var t=this.y*e.z-this.z*e.y,n=this.z*e.x-this.x*e.z,i=this.x*e.y-this.y*e.x;return this.p5?new r.Vector(this.p5,[t,n,i]):new r.Vector(t,n,i)},r.Vector.prototype.dist=function(e){var t=e.copy().sub(this);return t.mag()},r.Vector.prototype.normalize=function(){return this.div(this.mag())},r.Vector.prototype.limit=function(e){var t=this.magSq();return t>e*e&&(this.div(Math.sqrt(t)),this.mult(e)),this},r.Vector.prototype.setMag=function(e){return this.normalize().mult(e)},r.Vector.prototype.heading=function(){var e=Math.atan2(this.y,this.x);return this.p5?this.p5._angleMode===s.RADIANS?e:o.radiansToDegrees(e):e},r.Vector.prototype.rotate=function(e){this.p5&&this.p5._angleMode===s.DEGREES&&(e=o.degreesToRadians(e));var t=this.heading()+e,n=this.mag();return this.x=Math.cos(t)*n,this.y=Math.sin(t)*n,this},r.Vector.prototype.lerp=function(e,t,n,i){return e instanceof r.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*i||0,this.y+=(t-this.y)*i||0,this.z+=(n-this.z)*i||0,this)},r.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},r.Vector.prototype.equals=function(e,t,n){var i,o,s;return e instanceof r.Vector?(i=e.x||0,o=e.y||0,s=e.z||0):e instanceof Array?(i=e[0]||0,o=e[1]||0,s=e[2]||0):(i=e||0,o=t||0,s=n||0),this.x===i&&this.y===o&&this.z===s},r.Vector.fromAngle=function(e){return this.p5&&this.p5._angleMode===s.DEGREES&&(e=o.degreesToRadians(e)),this.p5?new r.Vector(this.p5,[Math.cos(e),Math.sin(e),0]):new r.Vector(Math.cos(e),Math.sin(e),0)},r.Vector.random2D=function(){var e;return e=this.p5?this.p5._angleMode===s.DEGREES?this.p5.random(360):this.p5.random(s.TWO_PI):2*Math.random()*Math.PI,this.fromAngle(e)},r.Vector.random3D=function(){var e,t;this.p5?(e=this.p5.random(0,s.TWO_PI),t=this.p5.random(-1,1)):(e=2*Math.random()*Math.PI,t=2*Math.random()-1);var n=Math.sqrt(1-t*t)*Math.cos(e),i=Math.sqrt(1-t*t)*Math.sin(e);return this.p5?new r.Vector(this.p5,[n,i,t]):new r.Vector(n,i,t)},r.Vector.add=function(e,t,n){return n?n.set(e):n=e.copy(),n.add(t),n},r.Vector.sub=function(e,t,n){return n?n.set(e):n=e.copy(),n.sub(t),n},r.Vector.mult=function(e,t,n){return n?n.set(e):n=e.copy(),n.mult(t),n},r.Vector.div=function(e,t,n){return n?n.set(e):n=e.copy(),n.div(t),n},r.Vector.dot=function(e,t){return e.dot(t)},r.Vector.cross=function(e,t){return e.cross(t)},r.Vector.dist=function(e,t){return e.dist(t)},r.Vector.lerp=function(e,t,n,i){return i?i.set(e):i=e.copy(),i.lerp(t,n),i},r.Vector.angleBetween=function(e,t){var n=Math.acos(e.dot(t)/(e.mag()*t.mag()));return this.p5&&this.p5._angleMode===s.DEGREES&&(n=o.radiansToDegrees(n)),n},r.Vector}({},amdclean.core_core,amdclean.math_polargeometry,amdclean.core_constants),amdclean.io_p5TableRow=function(e,t){"use strict";var n=t;return n.TableRow=function(e,t){var n=[],i={};e&&(t=t||",",n=e.split(t));for(var r=0;r<n.length;r++){var o=r,s=n[r];i[o]=s}this.arr=n,this.obj=i,this.table=null},n.TableRow.prototype.set=function(e,t){if("string"==typeof e){var n=this.table.columns.indexOf(e);if(!(n>=0))throw'This table has no column named "'+e+'"';this.obj[e]=t,this.arr[n]=t}else{if(!(e<this.table.columns.length))throw"Column #"+e+" is out of the range of this table";this.arr[e]=t;var i=this.table.columns[e];this.obj[i]=t}},n.TableRow.prototype.setNum=function(e,t){var n=parseFloat(t,10);this.set(e,n)},n.TableRow.prototype.setString=function(e,t){var n=t.toString();this.set(e,n)},n.TableRow.prototype.get=function(e){return"string"==typeof e?this.obj[e]:this.arr[e]},n.TableRow.prototype.getNum=function(e){var t;if(t="string"==typeof e?parseFloat(this.obj[e],10):parseFloat(this.arr[e],10),"NaN"===t.toString())throw"Error: "+this.obj[e]+" is NaN (Not a Number)";return t},n.TableRow.prototype.getString=function(e){return"string"==typeof e?this.obj[e].toString():this.arr[e].toString()},n.TableRow}({},amdclean.core_core),amdclean.io_p5Table=function(e,t){"use strict";var n=t;return n.Table=function(){this.columns=[],this.rows=[]},n.Table.prototype.addRow=function(e){var t=e||new n.TableRow;if("undefined"==typeof t.arr||"undefined"==typeof t.obj)throw"invalid TableRow: "+t;return t.table=this,this.rows.push(t),t},n.Table.prototype.removeRow=function(e){this.rows[e].table=null;var t=this.rows.splice(e+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(t)},n.Table.prototype.getRow=function(e){return this.rows[e]},n.Table.prototype.getRows=function(){return this.rows},n.Table.prototype.findRow=function(e,t){if("string"==typeof t){for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[t]===e)return this.rows[n]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[t]===e)return this.rows[i];return null},n.Table.prototype.findRows=function(e,t){var n=[];if("string"==typeof t)for(var i=0;i<this.rows.length;i++)this.rows[i].obj[t]===e&&n.push(this.rows[i]);else for(var r=0;r<this.rows.length;r++)this.rows[r].arr[t]===e&&n.push(this.rows[r]);return n},n.Table.prototype.matchRow=function(e,t){if("number"==typeof t){for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[t].match(e))return this.rows[n]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[t].match(e))return this.rows[i];return null},n.Table.prototype.matchRows=function(e,t){var n=[];if("number"==typeof t)for(var i=0;i<this.rows.length;i++)this.rows[i].arr[t].match(e)&&n.push(this.rows[i]);else for(var r=0;r<this.rows.length;r++)this.rows[r].obj[t].match(e)&&n.push(this.rows[r]);return n},n.Table.prototype.getColumn=function(e){var t=[];if("string"==typeof e)for(var n=0;n<this.rows.length;n++)t.push(this.rows[n].obj[e]);else for(var i=0;i<this.rows.length;i++)t.push(this.rows[i].arr[e]);return t},n.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},n.Table.prototype.addColumn=function(e){var t=e||null;this.columns.push(t)},n.Table.prototype.getColumnCount=function(){return this.columns.length},n.Table.prototype.getRowCount=function(){return this.rows.length},n.Table.prototype.removeTokens=function(e,t){for(var n=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},i=[],r=0;r<e.length;r++)i.push(n(e.charAt(r)));var o=new RegExp(i.join("|"),"g");if("undefined"==typeof t)for(var s=0;s<this.columns.length;s++)for(var a=0;a<this.rows.length;a++){var l=this.rows[a].arr[s];l=l.replace(o,""),this.rows[a].arr[s]=l,this.rows[a].obj[this.columns[s]]=l}else if("string"==typeof t)for(var u=0;u<this.rows.length;u++){var c=this.rows[u].obj[t];c=c.replace(o,""),this.rows[u].obj[t]=c;var h=this.columns.indexOf(t);this.rows[u].arr[h]=c}else for(var d=0;d<this.rows.length;d++){var p=this.rows[d].arr[t];p=p.replace(o,""),this.rows[d].arr[t]=p,this.rows[d].obj[this.columns[t]]=p}},n.Table.prototype.trim=function(e){var t=new RegExp(" ","g");if("undefined"==typeof e)for(var n=0;n<this.columns.length;n++)for(var i=0;i<this.rows.length;i++){var r=this.rows[i].arr[n];r=r.replace(t,""),this.rows[i].arr[n]=r,this.rows[i].obj[this.columns[n]]=r}else if("string"==typeof e)for(var o=0;o<this.rows.length;o++){var s=this.rows[o].obj[e];s=s.replace(t,""),this.rows[o].obj[e]=s;var a=this.columns.indexOf(e);this.rows[o].arr[a]=s}else for(var l=0;l<this.rows.length;l++){var u=this.rows[l].arr[e];u=u.replace(t,""),this.rows[l].arr[e]=u,this.rows[l].obj[this.columns[e]]=u}},n.Table.prototype.removeColumn=function(e){var t,n;"string"==typeof e?(t=e,n=this.columns.indexOf(e),console.log("string")):(n=e,t=this.columns[e]);var i=this.columns.splice(n+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var r=0;r<this.rows.length;r++){var o=this.rows[r].arr,s=o.splice(n+1,o.length);o.pop(),this.rows[r].arr=o.concat(s),delete this.rows[r].obj[t]}},n.Table.prototype.set=function(e,t,n){this.rows[e].set(t,n)},n.Table.prototype.setNum=function(e,t,n){this.rows[e].set(t,n)},n.Table.prototype.setString=function(e,t,n){this.rows[e].set(t,n)},n.Table.prototype.get=function(e,t){return this.rows[e].get(t)},n.Table.prototype.getNum=function(e,t){return this.rows[e].getNum(t)},n.Table.prototype.getString=function(e,t){return this.rows[e].getString(t)},n.Table.prototype.getObject=function(e){for(var t,n,i,r={},o=0;o<this.rows.length;o++)if(t=this.rows[o].obj,"string"==typeof e){if(n=this.columns.indexOf(e),!(n>=0))throw'This table has no column named "'+e+'"';i=t[e],r[i]=t}else r[o]=this.rows[o].obj;return r},n.Table.prototype.getArray=function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e},n.Table}({},amdclean.core_core),amdclean.color_creating_reading=function(e,t){"use strict";var n=t;return n.prototype.alpha=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getAlpha();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.blue=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getBlue();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.brightness=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getBrightness();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.color=function(){if(arguments[0]instanceof n.Color)return arguments[0];if(arguments[0]instanceof Array)return new n.Color(this,arguments[0]);var e=Array.prototype.slice.call(arguments);return new n.Color(this,e)},n.prototype.green=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getGreen();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.hue=function(e){if(!e instanceof n.Color)throw new Error("Needs p5.Color as argument.");return e.getHue()},n.prototype.lerpColor=function(e,t,i){if(i=Math.max(Math.min(i,1),0),e instanceof Array){for(var r=[],o=0;o<e.length;o++)r.push(Math.sqrt(n.prototype.lerp(e[o]*e[o],t[o]*t[o],i)));return r}if(e instanceof n.Color){for(var s=[],a=0;4>a;a++)s.push(Math.sqrt(n.prototype.lerp(e.rgba[a]*e.rgba[a],t.rgba[a]*t.rgba[a],i)));return new n.Color(this,s)}return Math.sqrt(n.prototype.lerp(e*e,t*t,i))},n.prototype.lightness=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getLightness();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.red=function(e){if(e instanceof n.Color||e instanceof Array)return this.color(e).getRed();throw new Error("Needs p5.Color or pixel array as argument.")},n.prototype.saturation=function(e){if(!e instanceof n.Color)throw new Error("Needs p5.Color as argument.");return e.getSaturation()},n}({},amdclean.core_core,amdclean.color_p5Color),amdclean.color_setting=function(e,t,n){"use strict";var i=t,r=n;return i.prototype._doStroke=!0,i.prototype._doFill=!0,i.prototype._strokeSet=!1,i.prototype._fillSet=!1,i.prototype._colorMode=r.RGB,i.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},i.prototype.background=function(){return arguments[0]instanceof i.Image?this.image(arguments[0],0,0,this.width,this.height):this._graphics.background.apply(this._graphics,arguments),this},i.prototype.clear=function(){return this._graphics.clear(),this},i.prototype.colorMode=function(){if(arguments[0]===r.RGB||arguments[0]===r.HSB||arguments[0]===r.HSL){this._colorMode=arguments[0];var e=this._colorMaxes[this._colorMode];2===arguments.length?(e[0]=arguments[1],e[1]=arguments[1],e[2]=arguments[1],e[3]=arguments[1]):arguments.length>2&&(e[0]=arguments[1],e[1]=arguments[2],e[2]=arguments[3]),5===arguments.length&&(e[3]=arguments[4])}return this},i.prototype.fill=function(){return this._setProperty("_fillSet",!0),this._setProperty("_doFill",!0),this._graphics.fill.apply(this._graphics,arguments),this},i.prototype.noFill=function(){return this._setProperty("_doFill",!1),this},i.prototype.noStroke=function(){return this._setProperty("_doStroke",!1),this},i.prototype.stroke=function(){return this._setProperty("_strokeSet",!0),this._setProperty("_doStroke",!0),this._graphics.stroke.apply(this._graphics,arguments),this},i}({},amdclean.core_core,amdclean.core_constants,amdclean.color_p5Color),amdclean.utilities_conversion=function(e,t){"use strict";var n=t;return n.prototype["float"]=function(e){return parseFloat(e)},n.prototype["int"]=function(e,t){return"string"==typeof e?(t=t||10,parseInt(e,t)):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map(function(e){return n.prototype["int"](e,t)}):void 0},n.prototype.str=function(e){return e instanceof Array?e.map(n.prototype.str):String(e)},n.prototype["boolean"]=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(n.prototype["boolean"]):void 0},n.prototype["byte"]=function(e){var t=n.prototype["int"](e,10);return"number"==typeof t?(t+128)%256-128:t instanceof Array?t.map(n.prototype["byte"]):void 0},n.prototype["char"]=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(n.prototype["char"]):"string"==typeof e?n.prototype["char"](parseInt(e,10)):void 0:String.fromCharCode(e)},n.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(n.prototype.unchar):void 0},n.prototype.hex=function(e,t){if(t=void 0===t||null===t?t=8:t,e instanceof Array)return e.map(function(e){return n.prototype.hex(e,t)});if("number"==typeof e){0>e&&(e=4294967295+e+1);for(var i=Number(e).toString(16).toUpperCase();i.length<t;)i="0"+i;return i.length>=t&&(i=i.substring(i.length-t,i.length)),i}},n.prototype.unhex=function(e){return e instanceof Array?e.map(n.prototype.unhex):parseInt("0x"+e,16)},n}({},amdclean.core_core),amdclean.utilities_array_functions=function(e,t){"use strict";var n=t;return n.prototype.append=function(e,t){return e.push(t),e},n.prototype.arrayCopy=function(e,t,n,i,r){var o,s;"undefined"!=typeof r?(s=Math.min(r,e.length),o=i,e=e.slice(t,s+t)):("undefined"!=typeof n?(s=n,s=Math.min(s,e.length)):s=e.length,o=0,n=t,e=e.slice(0,s)),Array.prototype.splice.apply(n,[o,s].concat(e))},n.prototype.concat=function(e,t){return e.concat(t)},n.prototype.reverse=function(e){return e.reverse()},n.prototype.shorten=function(e){return e.pop(),e},n.prototype.shuffle=function(e,t){e=t||ArrayBuffer.isView(e)?e:e.slice();for(var n,i,r=e.length;r>1;)n=0|Math.random()*r,i=e[--r],e[r]=e[n],e[n]=i;return e},n.prototype.sort=function(e,t){var n=t?e.slice(0,Math.min(t,e.length)):e,i=t?e.slice(Math.min(t,e.length)):[];return n="string"==typeof n[0]?n.sort():n.sort(function(e,t){return e-t}),n.concat(i)},n.prototype.splice=function(e,t,n){return Array.prototype.splice.apply(e,[n,0].concat(t)),e},n.prototype.subset=function(e,t,n){return"undefined"!=typeof n?e.slice(t,t+n):e.slice(t,e.length)},n}({},amdclean.core_core),amdclean.utilities_string_functions=function(e,t){"use strict";function n(){var e=arguments[0],t=0>e,n=t?e.toString().substring(1):e.toString(),i=n.indexOf("."),r=-1!==i?n.substring(0,i):n,o=-1!==i?n.substring(i+1):"",s=t?"-":"";if(3===arguments.length){var a="";(-1!==i||arguments[2]-o.length>0)&&(a="."),o.length>arguments[2]&&(o=o.substring(0,arguments[2]));for(var l=0;l<arguments[1]-r.length;l++)s+="0";s+=r,s+=a,s+=o;for(var u=0;u<arguments[2]-o.length;u++)s+="0";return s}for(var c=0;c<Math.max(arguments[1]-r.length,0);c++)s+="0";
return s+=n}function i(){var e=arguments[0].toString(),t=e.indexOf("."),n=-1!==t?e.substring(t):"",i=-1!==t?e.substring(0,t):e;if(i=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===arguments[1])n="";else if(void 0!==arguments[1])if(arguments[1]>n.length){n+=-1===t?".":"";for(var r=arguments[1]-n.length+1,o=0;r>o;o++)n+="0"}else n=n.substring(0,arguments[1]+1);return i+n}function r(){return parseFloat(arguments[0])>0?"+"+arguments[0].toString():arguments[0].toString()}function o(){return parseFloat(arguments[0])>0?" "+arguments[0].toString():arguments[0].toString()}var s=t;return s.prototype.join=function(e,t){return e.join(t)},s.prototype.match=function(e,t){return e.match(t)},s.prototype.matchAll=function(e,t){for(var n=new RegExp(t,"g"),i=n.exec(e),r=[];null!==i;)r.push(i),i=n.exec(e);return r},s.prototype.nf=function(){if(arguments[0]instanceof Array){var e=arguments[1],t=arguments[2];return arguments[0].map(function(i){return n(i,e,t)})}var i=Object.prototype.toString.call(arguments[0]);return"[object Arguments]"===i?3===arguments[0].length?this.nf(arguments[0][0],arguments[0][1],arguments[0][2]):2===arguments[0].length?this.nf(arguments[0][0],arguments[0][1]):this.nf(arguments[0][0]):n.apply(this,arguments)},s.prototype.nfc=function(){if(arguments[0]instanceof Array){var e=arguments[1];return arguments[0].map(function(t){return i(t,e)})}return i.apply(this,arguments)},s.prototype.nfp=function(){var e=this.nf.apply(this,arguments);return e instanceof Array?e.map(r):r(e)},s.prototype.nfs=function(){var e=this.nf.apply(this,arguments);return e instanceof Array?e.map(o):o(e)},s.prototype.split=function(e,t){return e.split(t)},s.prototype.splitTokens=function(){var e=arguments.length>0?arguments[1]:/\s/g;return arguments[0].split(e).filter(function(e){return e})},s.prototype.trim=function(e){return e instanceof Array?e.map(this.trim):e.trim()},s}({},amdclean.core_core),amdclean.core_environment=function(e,t,n){"use strict";function i(e){var t=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled;if(!t)throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function r(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}var o=t,s=n,a=[s.ARROW,s.CROSS,s.HAND,s.MOVE,s.TEXT,s.WAIT];return o.prototype._frameRate=0,o.prototype._lastFrameTime=window.performance.now(),o.prototype._targetFrameRate=60,o.prototype.print=window.console&&console.log?function(e){try{var t=JSON.parse(JSON.stringify(e));console.log(t)}catch(n){console.log(e)}}:function(){},o.prototype.println=o.prototype.print,o.prototype.frameCount=0,o.prototype.focused=document.hasFocus(),o.prototype.cursor=function(e,t,n){var i="auto",r=this._curElement.elt;if(a.indexOf(e)>-1)i=e;else if("string"==typeof e){var o="";t&&n&&"number"==typeof t&&"number"==typeof n&&(o=t+" "+n),i="http://"!==e.substring(0,6)?"url("+e+") "+o+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url("+e+") "+o+", auto":e}r.style.cursor=i},o.prototype.frameRate=function(e){return"undefined"==typeof e?this._frameRate:(this._setProperty("_targetFrameRate",e),this._runFrames(),this)},o.prototype.getFrameRate=function(){return this.frameRate()},o.prototype.setFrameRate=function(e){return this.frameRate(e)},o.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},o.prototype.displayWidth=screen.width,o.prototype.displayHeight=screen.height,o.prototype.windowWidth=window.innerWidth,o.prototype.windowHeight=window.innerHeight,o.prototype._onresize=function(e){this._setProperty("windowWidth",window.innerWidth),this._setProperty("windowHeight",window.innerHeight);var t,n=this._isGlobal?window:this;"function"==typeof n.windowResized&&(t=n.windowResized(e),void 0===t||t||e.preventDefault())},o.prototype.width=0,o.prototype.height=0,o.prototype.fullscreen=function(e){return"undefined"==typeof e?document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement:void(e?i(document.documentElement):r())},o.prototype.devicePixelScaling=function(e){this.pixelDensity=e?"number"==typeof e?e:window.devicePixelRatio||1:1,this.resizeCanvas(this.width,this.height,!0)},o.prototype.getURL=function(){return location.href},o.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(e){return""!==e})},o.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,n={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,n[e[1]]=e[2];return n},o}({},amdclean.core_core,amdclean.core_constants),amdclean.image_image=function(e,t,n){"use strict";var i=t,r=n;i.prototype._imageMode=r.CORNER,i.prototype._tint=null,i.prototype.createImage=function(e,t){return new i.Image(e,t)};var o=[];return i.prototype.saveCanvas=function(e,t,n){t||(t=i.prototype._checkFileExtension(e,t)[1],""===t&&(t="png"));var r;if(n?r=n:this._curElement&&this._curElement.elt&&(r=this._curElement.elt),i.prototype._isSafari()){var o="Hello, Safari user!\n";o+="Now capturing a screenshot...\n",o+="To save this image,\n",o+="go to File --> Save As.\n",alert(o),window.location.href=r.toDataURL()}else{var s;if("undefined"==typeof t)t="png",s="image/png";else switch(t){case"png":s="image/png";break;case"jpeg":s="image/jpeg";break;case"jpg":s="image/jpeg";break;default:s="image/png"}var a="image/octet-stream",l=r.toDataURL(s);l=l.replace(s,a),i.prototype.downloadFile(l,e,t)}},i.prototype.saveFrames=function(e,t,n,r,s){var a=n||3;a=i.prototype.constrain(a,0,15),a=1e3*a;var l=r||15;l=i.prototype.constrain(l,0,22);var u=0,c=i.prototype._makeFrame,h=this._curElement.elt,d=setInterval(function(){c(e+u,t,h),u++},1e3/l);setTimeout(function(){if(clearInterval(d),s)s(o);else for(var e=0;e<o.length;e++){var t=o[e];i.prototype.downloadFile(t.imageData,t.filename,t.ext)}o=[]},a+.01)},i.prototype._makeFrame=function(e,t,n){var i;i=this?this._curElement.elt:n;var r;if(t)switch(t.toLowerCase()){case"png":r="image/png";break;case"jpeg":r="image/jpeg";break;case"jpg":r="image/jpeg";break;default:r="image/png"}else t="png",r="image/png";var s="image/octet-stream",a=i.toDataURL(r);a=a.replace(r,s);var l={};l.imageData=a,l.filename=e,l.ext=t,o.push(l)},i}({},amdclean.core_core,amdclean.core_constants),amdclean.core_error_helpers=function(e,t){"use strict";function n(e,t,n){if(e.match(/^p5\./)){var i=e.split(".");return n instanceof o[i[1]]}return"Boolean"===e||e.toLowerCase()===t||f.indexOf(e)>-1&&p(n)}function i(e,t,n){s&&(r(),s=!1),"undefined"===h(n)?n="#B40033":"number"===h(n)&&(n=b[n]),"load"===t.substring(0,4)?console.log("%c> p5.js says: "+e+"%c[https://github.com/processing/p5.js/wiki/Local-server]","background-color:"+n+";color:#FFF;","background-color:transparent;color:"+n+";","background-color:"+n+";color:#FFF;","background-color:transparent;color:"+n+";"):console.log("%c> p5.js says: "+e+"%c [http://p5js.org/reference/#p5/"+t+"]","background-color:"+n+";color:#FFF;","background-color:transparent;color:"+n+";")}function r(){var e="transparent",t="#ED225D",n="#ED225D",i="white";console.log("%c    _ \n /\\| |/\\ \n \\ ` ' /  \n / , . \\  \n \\/|_|\\/ \n\n%c> p5.js says: Welcome! This is your friendly debugger. To turn me off switch to using p5.min.js.","background-color:"+e+";color:"+t+";","background-color:"+n+";color:"+i+";")}for(var o=t,s=!0,a={},l=a.toString,u=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],c=0;c<u.length;c++)a["[object "+u[c]+"]"]=u[c].toLowerCase();var h=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[l.call(e)]||"object":typeof e},d=Array.isArray||function(e){return"array"===h(e)},p=function(e){return!d(e)&&e-parseFloat(e)+1>=0},f=["Number","Integer","Number/Constant"],g=0,m=1,v=2,y=3,b=["#2D7BB6","#EE9900","#4DB200","#C83C00"];o.prototype._validateParameters=function(e,t,r){d(r[0])||(r=[r]);for(var o,s=Math.abs(t.length-r[0].length),a=0,l=1,u=r.length;u>l;l++){var c=Math.abs(t.length-r[l].length);s>=c&&(a=l,s=c)}var p="X";s>0&&(o="You wrote "+e+"(",t.length>0&&(o+=p+(","+p).repeat(t.length-1)),o+="). "+e+" was expecting "+r[a].length+" parameters. Try "+e+"(",r[a].length>0&&(o+=p+(","+p).repeat(r[a].length-1)),o+=").",r.length>1&&(o+=" "+e+" takes different numbers of parameters depending on what you want to do. Click this link to learn more: "),i(o,e,g));for(var f=0;f<r.length;f++)for(var y=0;y<r[f].length&&y<t.length;y++){var b=r[f][y],w=h(t[y]);"undefined"===w||null===w?i("It looks like "+e+" received an empty variable in spot #"+(y+1)+". If not intentional, this is often a problem with scope: [link to scope].",e,m):"*"===b||n(b,w,t[y])||(o=e+" was expecting a "+b.toLowerCase()+" for parameter #"+(y+1)+", received ",o+="string"===w?'"'+t[y]+'"':t[y],o+=" instead.",r.length>1&&(o+=" "+e+" takes different numbers of parameters depending on what you want to do. Click this link to learn more:"),i(o,e,v))}};var w={0:{fileType:"image",method:"loadImage",message:" hosting the image online,"},1:{fileType:"XML file",method:"loadXML"},2:{fileType:"table file",method:"loadTable"},3:{fileType:"text file",method:"loadStrings"}};return o._friendlyFileLoadError=function(e,t){var n=w[e],r="It looks like there was a problem loading your "+n.fileType+". Try checking if the file path%c ["+t+"] %cis correct,"+(n.message||"")+" or running a local server.";i(r,n.method,y)},o}({},amdclean.core_core),amdclean.image_loading_displaying=function(e,t,n,i,r){"use strict";var o=t,s=n,a=i,l=r;return o.prototype.loadImage=function(e,t,n){var i=new Image,r=new o.Image(1,1,this);return i.onload=function(){r.width=r.canvas.width=i.width,r.height=r.canvas.height=i.height,r.canvas.getContext("2d").drawImage(i,0,0),"function"==typeof t&&t(r)},i.onerror=function(e){o._friendlyFileLoadError(0,i.src),"function"==typeof n&&n(e)},0!==e.indexOf("data:image/")&&(i.crossOrigin="Anonymous"),i.src=e,r},o.prototype.image=function(e,t,n,i,r){t=t||0,n=n||0,i=i||e.width,r=r||e.height;var o=a.modeAdjust(t,n,i,r,this._imageMode);this._graphics.image(e,o.x,o.y,o.w,o.h)},o.prototype.tint=function(){var e=this.color.apply(this,arguments);this._tint=e.rgba},o.prototype.noTint=function(){this._tint=null},o.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=s._toPixels(e.canvas),n=document.createElement("canvas");n.width=e.canvas.width,n.height=e.canvas.height;for(var i=n.getContext("2d"),r=i.createImageData(e.canvas.width,e.canvas.height),o=r.data,a=0;a<t.length;a+=4){var l=t[a],u=t[a+1],c=t[a+2],h=t[a+3];o[a]=l*this._tint[0]/255,o[a+1]=u*this._tint[1]/255,o[a+2]=c*this._tint[2]/255,o[a+3]=h*this._tint[3]/255}return i.putImageData(r,0,0),n},o.prototype.imageMode=function(e){(e===l.CORNER||e===l.CORNERS||e===l.CENTER)&&(this._imageMode=e)},o}({},amdclean.core_core,amdclean.image_filters,amdclean.core_canvas,amdclean.core_constants,amdclean.core_error_helpers),amdclean.image_pixels=function(e,t,n){"use strict";var i=t,r=n;return i.prototype.pixels=[],i.prototype.blend=function(){this._graphics.blend.apply(this._graphics,arguments)},i.prototype.copy=function(){i.Renderer2D._copyHelper.apply(this,arguments)},i.prototype.filter=function(e,t){r.apply(this.canvas,r[e.toLowerCase()],t)},i.prototype.get=function(e,t,n,i){return this._graphics.get(e,t,n,i)},i.prototype.loadPixels=function(){this._graphics.loadPixels()},i.prototype.set=function(e,t,n){this._graphics.set(e,t,n)},i.prototype.updatePixels=function(e,t,n,i){this._graphics.updatePixels(e,t,n,i)},i}({},amdclean.core_core,amdclean.image_filters,amdclean.color_p5Color),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("reqwest",n):t[e]=n()}("reqwest",amdclean,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||window.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,i=t.headers||{};i.Accept=i.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var r="function"==typeof FormData&&t.data instanceof FormData;t.crossOrigin||i[requestedWith]||(i[requestedWith]=defaultHeaders.requestedWith),i[contentType]||r||(i[contentType]=t.contentType||defaultHeaders.contentType);for(n in i)i.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,i[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,i){var r=uniqid++,o=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(r),a=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),l=i.match(a),u=doc.createElement("script"),c=0,h=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?i=i.replace(a,"$1="+s):s=l[3]:i=urlappend(i,o+"="+s),win[s]=generalCallback,u.type="text/javascript",u.src=i,u.async=!0,"undefined"==typeof u.onreadystatechange||h||(u.htmlFor=u.id="_reqwest_"+r),u.onload=u.onreadystatechange=function(){return u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||c?!1:(u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),void(c=1))},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),c=1}}}function getRequest(e,t){var n,i=this.o,r=(i.method||"GET").toUpperCase(),o="string"==typeof i?i:i.url,s=i.processData!==!1&&i.data&&"string"!=typeof i.data?reqwest.toQueryString(i.data):i.data||null,a=!1;return"jsonp"!=i.type&&"GET"!=r||!s||(o=urlappend(o,s),s=null),"jsonp"==i.type?handleJsonp(i,e,t,o):(n=i.xhr&&i.xhr(i)||xhr(i),n.open(r,o,i.async===!1?!1:!0),setHeaders(n,i),setCredentials(n,i),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},a=!0):n.onreadystatechange=handleReadyState(this,e,t),i.before&&i.before(n),a?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,i,r,o,s=e.name,a=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),i=/radio/i.test(e.type),r=e.value,(!(n||i)||e.checked)&&t(s,normalize(n&&""===r?"on":r)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&l(e.options[o])}}function eachFormElement(){var e,t,n=this,i=function(e,t){var i,r,o;for(i=0;i<t.length;i++)for(o=e[byTag](t[i]),r=0;r<o.length;r++)serial(o[r],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),i(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,i){var r,o,s,a=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)s=t[o],n||a.test(e)?i(e,s):buildParams(e+"["+("object"==typeof s?o:"")+"]",s,n,i);else if(t&&"[object Object]"===t.toString())for(r in t)buildParams(e+"["+r+"]",t[r],n,i);else i(e,t)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,i,r=t||!1,o=[],s=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=s(e)+"="+s(t)};if(isArray(e))for(i=0;e&&i<e.length;i++)a(e[i].name,e[i].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],r,a);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),amdclean.io_files=function(e,t,n){"use strict";function i(e,t){var n={};if(t=t||[],"undefined"==typeof t)for(var i=0;i<e.length;i++)t[i.toString()]=i;for(var r=0;r<t.length;r++){var o=t[r],s=e[r];n[o]=s}return n}function r(e,t){t&&t!==!0&&"true"!==t||(t=""),e||(e="untitled");var n="";return e&&e.indexOf(".")>-1&&(n=e.split(".").pop()),t&&n!==t&&(n=t,e=e+"."+n),[e,n]}function o(e){document.body.removeChild(e.target)}var s=t,n=n;s.prototype.loadFont=function(e,t){var n=new s.Font(this);return opentype.load(e,function(e,i){if(e)throw Error(e);n.font=i,"undefined"!=typeof t&&t(n)}),n},s.prototype.createInput=function(){throw"not yet implemented"},s.prototype.createReader=function(){throw"not yet implemented"},s.prototype.loadBytes=function(){throw"not yet implemented"},s.prototype.loadJSON=function(){var e=arguments[0],t=arguments[1],i=[],r="json";return"string"==typeof arguments[2]&&("jsonp"===arguments[2]||"json"===arguments[2])&&(r=arguments[2]),n({url:e,type:r,crossOrigin:!0}).then(function(e){for(var n in e)i[n]=e[n];"undefined"!=typeof t&&t(e)}),i},s.prototype.loadStrings=function(e,t){var n=[],i=new XMLHttpRequest;return i.open("GET",e,!0),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var r=i.responseText.match(/[^\r\n]+/g);for(var o in r)n[o]=r[o];"undefined"!=typeof t&&t(n)}else s._friendlyFileLoadError(3,e)},i.send(null),n},s.prototype.loadTable=function(e){for(var t=null,r=[],o=!1,a=",",l=!1,u=1;u<arguments.length;u++)if("function"==typeof arguments[u])t=arguments[u];else if("string"==typeof arguments[u])if(r.push(arguments[u]),"header"===arguments[u]&&(o=!0),"csv"===arguments[u]){if(l)throw new Error("Cannot set multiple separator types.");a=",",l=!0}else if("tsv"===arguments[u]){if(l)throw new Error("Cannot set multiple separator types.");a="	",l=!0}var c=new s.Table;return n({url:e,crossOrigin:!0,type:"csv"}).then(function(e){e=e.responseText;for(var n,r={},l=0,h=1,d=2,p=4,f='"',g="\r",m="\n",v=[],y=0,b=null,w=function(){r.escaped=!1,b=[],x()},C=function(){r.currentState=p,v.push(b),b=null},x=function(){r.currentState=l,r.token=""},A=function(){b.push(r.token),x()};;){if(n=e[y++],null==n){if(r.escaped)throw new Error("Unclosed quote in file.");if(b){A(),C();break}}if(null===b&&w(),r.currentState===l){if(n===f){r.escaped=!0,r.currentState=h;continue}r.currentState=h}r.currentState===h&&r.escaped?n===f?e[y]===f?(r.token+=f,y++):(r.escaped=!1,r.currentState=d):r.token+=n:n===g?(e[y]===m&&y++,A(),C()):n===m?(A(),C()):n===a?A():r.currentState===h&&(r.token+=n)}if(o)c.columns=v.shift();else for(u=0;u<v.length;u++)c.columns[u]=u.toString();var S;for(u=0;u<v.length&&(u!==v.length-1||1!==v[u].length||"undefined"!==v[u][0]);u++)S=new s.TableRow,S.arr=v[u],S.obj=i(v[u],c.columns),c.addRow(S);null!==t&&t(c)}).fail(function(){s._friendlyFileLoadError(2,e),"undefined"!=typeof t&&t(!1)}),c},s.prototype.loadXML=function(e,t){var i=document.implementation.createDocument(null,null);return n({url:e,type:"xml",crossOrigin:!0,error:function(){s._friendlyFileLoadError(1,e)}}).then(function(e){var n=e.documentElement;i.appendChild(n),"undefined"!=typeof t&&t(e)}),i},s.prototype.parseXML=function(){throw"not yet implemented"},s.prototype.selectFolder=function(){throw"not yet implemented"},s.prototype.selectInput=function(){throw"not yet implemented"},s.prototype.httpGet=function(){var e=Array.prototype.slice.call(arguments);e.push("GET"),s.prototype.httpDo.apply(this,e)},s.prototype.httpPost=function(){var e=Array.prototype.slice.call(arguments);e.push("POST"),s.prototype.httpDo.apply(this,e)},s.prototype.httpDo=function(){for(var e,t="GET",i=arguments[0],r={},o="",s=1;s<arguments.length;s++){var a=arguments[s];"string"==typeof a?"GET"===a||"POST"===a||"PUT"===a?t=a:o=a:"object"==typeof a?r=a:"function"==typeof a&&(e=a)}""===o&&(o=-1!==i.indexOf("json")?"json":-1!==i.indexOf("xml")?"xml":"text"),n({url:i,method:t,data:r,type:o,crossOrigin:!0,success:function(t){"undefined"!=typeof e&&e("text"===o?t.response:t)}})},window.URL=window.URL||window.webkitURL,s.prototype._pWriters=[],s.prototype.beginRaw=function(){throw"not yet implemented"},s.prototype.beginRecord=function(){throw"not yet implemented"},s.prototype.createOutput=function(){throw"not yet implemented"},s.prototype.createWriter=function(e,t){var n;for(var i in s.prototype._pWriters)if(s.prototype._pWriters[i].name===e)return n=new s.PrintWriter(e+window.millis(),t),s.prototype._pWriters.push(n),n;return n=new s.PrintWriter(e,t),s.prototype._pWriters.push(n),n},s.prototype.endRaw=function(){throw"not yet implemented"},s.prototype.endRecord=function(){throw"not yet implemented"},s.PrintWriter=function(e,t){var n=this;this.name=e,this.content="",this.print=function(e){this.content+=e},this.println=function(e){this.content+=e+"\n"},this.flush=function(){this.content=""},this.close=function(){var i=[];i.push(this.content),s.prototype.writeFile(i,e,t);for(var r in s.prototype._pWriters)s.prototype._pWriters[r].name===this.name&&s.prototype._pWriters.splice(r,1);n.flush(),n={}}},s.prototype.saveBytes=function(){throw"not yet implemented"},s.prototype.save=function(){var e=arguments,t=this._curElement.elt;if(0===e.length)return void s.prototype.saveCanvas(t);if(e[0]instanceof s.Renderer)return void s.prototype.saveCanvas(e[0].elt,e[1],e[2]);if(1===e.length&&"string"==typeof e[0])s.prototype.saveCanvas(t,e[0]);else{var n=r(e[1],e[2])[1];switch(n){case"json":return void s.prototype.saveJSON(e[0],e[1],e[2]);case"txt":return void s.prototype.saveStrings(e[0],e[1],e[2]);default:e[0]instanceof Array?s.prototype.saveStrings(e[0],e[1],e[2]):e[0]instanceof s.Table?s.prototype.saveTable(e[0],e[1],e[2],e[3]):e[0]instanceof s.Image?s.prototype.saveCanvas(e[0].canvas,e[1]):e[0]instanceof s.SoundFile&&s.prototype.saveSound(e[0],e[1],e[2],e[3])}}},s.prototype.saveJSON=function(e,t,n){var i;i=n?JSON.stringify(e):JSON.stringify(e,void 0,2),console.log(i),this.saveStrings(i.split("\n"),t,"json")},s.prototype.saveJSONObject=s.prototype.saveJSON,s.prototype.saveJSONArray=s.prototype.saveJSON,s.prototype.saveStream=function(){throw"not yet implemented"},s.prototype.saveStrings=function(e,t,n){var i=n||"txt",r=this.createWriter(t,i);for(var o in e)o<e.length-1?r.println(e[o]):r.print(e[o]);r.close(),r.flush()},s.prototype.saveXML=function(){throw"not yet implemented"},s.prototype.selectOutput=function(){throw"not yet implemented"},s.prototype.saveTable=function(e,t,n){var i=this.createWriter(t,n),r=e.columns,o=",";if("tsv"===n&&(o="	"),"html"!==n){if("0"!==r[0])for(var s=0;s<r.length;s++)s<r.length-1?i.print(r[s]+o):i.println(r[s]);for(var l=0;l<e.rows.length;l++){var u;for(u=0;u<e.rows[l].arr.length;u++)u<e.rows[l].arr.length-1?i.print(e.rows[l].arr[u]+o):l<e.rows.length-1?i.println(e.rows[l].arr[u]):i.print(e.rows[l].arr[u])}}else{i.println("<html>"),i.println("<head>");var c='  <meta http-equiv="content-type" content';if(c+='="text/html;charset=utf-8" />',i.println(c),i.println("</head>"),i.println("<body>"),i.println("  <table>"),"0"!==r[0]){i.println("    <tr>");for(var h=0;h<r.length;h++){var d=a(r[h]);i.println("      <td>"+d),i.println("      </td>")}i.println("    </tr>")}for(var p=0;p<e.rows.length;p++){i.println("    <tr>");for(var f=0;f<e.columns.length;f++){var g=e.rows[p].getString(f),m=a(g);i.println("      <td>"+m),i.println("      </td>")}i.println("    </tr>")}i.println("  </table>"),i.println("</body>"),i.print("</html>")}i.close(),i.flush()};var a=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};return s.prototype.writeFile=function(e,t,n){var i="application/octet-stream";s.prototype._isSafari()&&(i="text/plain");var r=new Blob(e,{type:i}),o=window.URL.createObjectURL(r);s.prototype.downloadFile(o,t,n)},s.prototype.downloadFile=function(e,t,n){var i=r(t,n),a=i[0],l=i[1],u=document.createElement("a");if(u.href=e,u.download=a,u.onclick=o,u.style.display="none",document.body.appendChild(u),s.prototype._isSafari()){var c="Hello, Safari user! To download this file...\n";c+="1. Go to File --> Save As.\n",c+='2. Choose "Page Source" as the Format.\n',c+='3. Name it with this extension: ."'+l+'"',alert(c)}u.click(),e=null},s.prototype._checkFileExtension=r,s.prototype._isSafari=function(){var e=Object.prototype.toString.call(window.HTMLElement);return e.indexOf("Constructor")>0},s}({},amdclean.core_core,amdclean.reqwest,amdclean.core_error_helpers),amdclean.events_keyboard=function(e,t){"use strict";var n=t,i={};return n.prototype.isKeyPressed=!1,n.prototype.keyIsPressed=!1,n.prototype.key="",n.prototype.keyCode=0,n.prototype._onkeydown=function(e){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),i[e.which]=!0;var t=String.fromCharCode(e.which);t||(t=e.which),this._setProperty("key",t);var n=this.keyPressed||window.keyPressed;if("function"==typeof n&&!e.charCode){var r=n(e);r===!1&&e.preventDefault()}},n.prototype._onkeyup=function(e){var t=this.keyReleased||window.keyReleased;this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),i[e.which]=!1;var n=String.fromCharCode(e.which);if(n||(n=e.which),this._setProperty("key",n),this._setProperty("keyCode",e.which),"function"==typeof t){var r=t(e);r===!1&&e.preventDefault()}},n.prototype._onkeypress=function(e){this._setProperty("keyCode",e.which),this._setProperty("key",String.fromCharCode(e.which));var t=this.keyTyped||window.keyTyped;if("function"==typeof t){var n=t(e);n===!1&&e.preventDefault()}},n.prototype._onblur=function(){i={}},n.prototype.keyIsDown=function(e){return i[e]},n}({},amdclean.core_core),amdclean.events_acceleration=function(e,t){"use strict";var n=t;n.prototype.deviceOrientation=void 0,n.prototype.accelerationX=0,n.prototype.accelerationY=0,n.prototype.accelerationZ=0,n.prototype.pAccelerationX=0,n.prototype.pAccelerationY=0,n.prototype.pAccelerationZ=0,n.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)};var i=.5;n.prototype.setMoveThreshold=function(e){"number"==typeof e&&(i=e)};var r="",o="";return n.prototype._ondeviceorientation=function(e){this._setProperty("accelerationX",e.beta),this._setProperty("accelerationY",e.gamma),this._setProperty("accelerationZ",e.alpha),this._handleMotion()},n.prototype._ondevicemotion=function(e){this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},n.prototype._onMozOrientation=function(e){this._setProperty("accelerationX",e.x),this._setProperty("accelerationY",e.y),this._setProperty("accelerationZ",e.z),this._handleMotion()
},n.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e=this.onDeviceMove||window.onDeviceMove;"function"==typeof e&&(Math.abs(this.accelerationX-this.pAccelerationX)>i||Math.abs(this.accelerationY-this.pAccelerationY)>i||Math.abs(this.accelerationZ-this.pAccelerationZ)>i)&&e();var t=this.onDeviceTurn||window.onDeviceTurn;if("function"==typeof t){var n=0;Math.abs(this.accelerationX)>n&&(n=this.accelerationX,o="x"),Math.abs(this.accelerationY)>n&&(n=this.accelerationY,o="y"),Math.abs(this.accelerationZ)>n&&(o="z"),""!==r&&r!==o&&t(o),r=o}},n}({},amdclean.core_core),amdclean.events_mouse=function(e,t,n){"use strict";function i(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}var r=t,o=n;return r.prototype.mouseX=0,r.prototype.mouseY=0,r.prototype.pmouseX=0,r.prototype.pmouseY=0,r.prototype.winMouseX=0,r.prototype.winMouseY=0,r.prototype.pwinMouseX=0,r.prototype.pwinMouseY=0,r.prototype.mouseButton=0,r.prototype.mouseIsPressed=!1,r.prototype.isMousePressed=!1,r.prototype._updateMouseCoords=function(e){if("touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type)this._setProperty("mouseX",this.touchX),this._setProperty("mouseY",this.touchY);else if(null!==this._curElement){var t=i(this._curElement.elt,e);this._setProperty("mouseX",t.x),this._setProperty("mouseY",t.y)}this._setProperty("winMouseX",e.pageX),this._setProperty("winMouseY",e.pageY)},r.prototype._updatePMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY)},r.prototype._setMouseButton=function(e){1===e.button?this._setProperty("mouseButton",o.CENTER):2===e.button?this._setProperty("mouseButton",o.RIGHT):(this._setProperty("mouseButton",o.LEFT),("touchstart"===e.type||"touchmove"===e.type)&&(this._setProperty("mouseX",this.touchX),this._setProperty("mouseY",this.touchY)))},r.prototype._onmousemove=function(e){var t,n=this._isGlobal?window:this;this._updateMouseCoords(e),this.isMousePressed?"function"==typeof n.mouseDragged?(t=n.mouseDragged(e),t===!1&&e.preventDefault()):"function"==typeof n.touchMoved&&(t=n.touchMoved(e),t===!1&&e.preventDefault(),this._updateTouchCoords(e)):"function"==typeof n.mouseMoved&&(t=n.mouseMoved(e),t===!1&&e.preventDefault())},r.prototype._onmousedown=function(e){var t,n=this._isGlobal?window:this;this._setProperty("isMousePressed",!0),this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateMouseCoords(e),"function"==typeof n.mousePressed?(t=n.mousePressed(e),t===!1&&e.preventDefault()):"function"==typeof n.touchStarted&&(t=n.touchStarted(e),t===!1&&e.preventDefault(),this._updateTouchCoords(e))},r.prototype._onmouseup=function(e){var t,n=this._isGlobal?window:this;this._setProperty("isMousePressed",!1),this._setProperty("mouseIsPressed",!1),"function"==typeof n.mouseReleased?(t=n.mouseReleased(e),t===!1&&e.preventDefault()):"function"==typeof n.touchEnded&&(t=n.touchEnded(e),t===!1&&e.preventDefault(),this._updateTouchCoords(e))},r.prototype._onclick=function(e){var t=this._isGlobal?window:this;if("function"==typeof t.mouseClicked){var n=t.mouseClicked(e);n===!1&&e.preventDefault()}},r.prototype._onmousewheel=r.prototype._onDOMMouseScroll=function(e){var t=this._isGlobal?window:this;if("function"==typeof t.mouseWheel){e.delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));var n=t.mouseWheel(e);n===!1&&e.preventDefault()}},r}({},amdclean.core_core,amdclean.core_constants),amdclean.utilities_time_date=function(e,t){"use strict";var n=t;return n.prototype.day=function(){return(new Date).getDate()},n.prototype.hour=function(){return(new Date).getHours()},n.prototype.minute=function(){return(new Date).getMinutes()},n.prototype.millis=function(){return window.performance.now()},n.prototype.month=function(){return(new Date).getMonth()+1},n.prototype.second=function(){return(new Date).getSeconds()},n.prototype.year=function(){return(new Date).getFullYear()},n}({},amdclean.core_core),amdclean.events_touch=function(e,t){"use strict";function n(e,t,n){n=n||0;var i=e.getBoundingClientRect(),r=t.touches[n]||t.changedTouches[n];return{x:r.clientX-i.left,y:r.clientY-i.top}}var i=t;return i.prototype.touchX=0,i.prototype.touchY=0,i.prototype.ptouchX=0,i.prototype.ptouchY=0,i.prototype.touches=[],i.prototype.touchIsDown=!1,i.prototype._updateTouchCoords=function(e){if("mousedown"===e.type||"mousemove"===e.type||"mouseup"===e.type)this._setProperty("touchX",this.mouseX),this._setProperty("touchY",this.mouseY);else{var t=n(this._curElement.elt,e,0);this._setProperty("touchX",t.x),this._setProperty("touchY",t.y);for(var i=[],r=0;r<e.touches.length;r++){var o=n(this._curElement.elt,e,r);i[r]={x:o.x,y:o.y}}this._setProperty("touches",i)}},i.prototype._updatePTouchCoords=function(){this._setProperty("ptouchX",this.touchX),this._setProperty("ptouchY",this.touchY)},i.prototype._ontouchstart=function(e){var t,n=this._isGlobal?window:this;this._updateTouchCoords(e),this._setProperty("touchIsDown",!0),"function"==typeof n.touchStarted?(t=n.touchStarted(e),t===!1&&e.preventDefault()):"function"==typeof n.mousePressed&&(t=n.mousePressed(e),t===!1&&e.preventDefault())},i.prototype._ontouchmove=function(e){var t,n=this._isGlobal?window:this;this._updateTouchCoords(e),"function"==typeof n.touchMoved?(t=n.touchMoved(e),t===!1&&e.preventDefault()):"function"==typeof n.mouseDragged&&(t=n.mouseDragged(e),t===!1&&e.preventDefault(),this._updateMouseCoords(e))},i.prototype._ontouchend=function(e){this._updateTouchCoords(e),0===this.touches.length&&this._setProperty("touchIsDown",!1);var t,n=this._isGlobal?window:this;"function"==typeof n.touchEnded?(t=n.touchEnded(e),t===!1&&e.preventDefault()):"function"==typeof n.mouseReleased&&(t=n.mouseReleased(e),t===!1&&e.preventDefault(),this._updateMouseCoords(e))},i}({},amdclean.core_core),amdclean.math_math=function(e,t){"use strict";var n=t;return n.prototype.createVector=function(e,t,i){return this instanceof n?new n.Vector(this,arguments):new n.Vector(e,t,i)},n}({},amdclean.core_core),amdclean.math_calculation=function(e,t){"use strict";var n=t;return n.prototype.abs=Math.abs,n.prototype.ceil=Math.ceil,n.prototype.constrain=function(e,t,n){return Math.max(Math.min(e,n),t)},n.prototype.dist=function(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},n.prototype.exp=Math.exp,n.prototype.floor=Math.floor,n.prototype.lerp=function(e,t,n){return n*(t-e)+e},n.prototype.log=Math.log,n.prototype.mag=function(e,t){return Math.sqrt(e*e+t*t)},n.prototype.map=function(e,t,n,i,r){return(e-t)/(n-t)*(r-i)+i},n.prototype.max=function(){return arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},n.prototype.min=function(){return arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},n.prototype.norm=function(e,t,n){return this.map(e,t,n,0,1)},n.prototype.pow=Math.pow,n.prototype.round=Math.round,n.prototype.sq=function(e){return e*e},n.prototype.sqrt=Math.sqrt,n}({},amdclean.core_core),amdclean.math_random=function(e,t){"use strict";var n=t,i=!1,r=function(){var e,t,n=4294967296,i=1664525,r=1013904223;return{setSeed:function(i){t=e=(null==i?Math.random()*n:i)>>>0},getSeed:function(){return e},rand:function(){return t=(i*t+r)%n,t/n}}}();n.prototype.randomSeed=function(e){r.setSeed(e),i=!0},n.prototype.random=function(e,t){var n;if(n=i?r.rand():Math.random(),0===arguments.length)return n;if(1===arguments.length)return n*e;if(e>t){var o=e;e=t,t=o}return n*(t-e)+e};var o,s=!1;return n.prototype.randomGaussian=function(e,t){var n,i,r,a;if(s)n=o,s=!1;else{do i=this.random(2)-1,r=this.random(2)-1,a=i*i+r*r;while(a>=1);a=Math.sqrt(-2*Math.log(a)/a),n=i*a,o=r*a,s=!0}var l=e||0,u=t||1;return n*u+l},n}({},amdclean.core_core),amdclean.math_noise=function(e,t){"use strict";for(var n=t,i=4,r=1<<i,o=8,s=1<<o,a=4095,l=4,u=.5,c=.5,h=Math.floor(360/c),d=new Array(h),p=new Array(h),f=Math.PI/180,g=0;h>g;g++)d[g]=Math.sin(g*f*c),p[g]=Math.cos(g*f*c);var m=h;m>>=1;var v;return n.prototype.noise=function(e,t,n){if(t=t||0,n=n||0,null==v){v=new Array(a+1);for(var c=0;a+1>c;c++)v[c]=Math.random()}0>e&&(e=-e),0>t&&(t=-t),0>n&&(n=-n);for(var d,f,g,y,b,w=Math.floor(e),C=Math.floor(t),x=Math.floor(n),A=e-w,S=t-C,_=n-x,E=0,$=.5,T=function(e){return.5*(1-p[Math.floor(e*m)%h])},k=0;l>k;k++){var D=w+(C<<i)+(x<<o);d=T(A),f=T(S),g=v[D&a],g+=d*(v[D+1&a]-g),y=v[D+r&a],y+=d*(v[D+r+1&a]-y),g+=f*(y-g),D+=s,y=v[D&a],y+=d*(v[D+1&a]-y),b=v[D+r&a],b+=d*(v[D+r+1&a]-b),y+=f*(b-y),g+=T(_)*(y-g),E+=g*$,$*=u,w<<=1,A*=2,C<<=1,S*=2,x<<=1,_*=2,A>=1&&(w++,A--),S>=1&&(C++,S--),_>=1&&(x++,_--)}return E},n.prototype.noiseDetail=function(e,t){e>0&&(l=e),t>0&&(u=t)},n.prototype.noiseSeed=function(e){var t=function(){var e,t,n=4294967296,i=1664525,r=1013904223;return{setSeed:function(i){t=e=(null==i?Math.random()*n:i)>>>0},getSeed:function(){return e},rand:function(){return t=(i*t+r)%n,t/n}}}();t.setSeed(e),v=new Array(a+1);for(var n=0;a+1>n;n++)v[n]=t.rand()},n}({},amdclean.core_core),amdclean.math_trigonometry=function(e,t,n,i){"use strict";var r=t,o=n,s=i;return r.prototype._angleMode=s.RADIANS,r.prototype.acos=function(e){return this._angleMode===s.RADIANS?Math.acos(e):o.radiansToDegrees(Math.acos(e))},r.prototype.asin=function(e){return this._angleMode===s.RADIANS?Math.asin(e):o.radiansToDegrees(Math.asin(e))},r.prototype.atan=function(e){return this._angleMode===s.RADIANS?Math.atan(e):o.radiansToDegrees(Math.atan(e))},r.prototype.atan2=function(e,t){return this._angleMode===s.RADIANS?Math.atan2(e,t):o.radiansToDegrees(Math.atan2(e,t))},r.prototype.cos=function(e){return this._angleMode===s.RADIANS?Math.cos(e):Math.cos(this.radians(e))},r.prototype.sin=function(e){return this._angleMode===s.RADIANS?Math.sin(e):Math.sin(this.radians(e))},r.prototype.tan=function(e){return this._angleMode===s.RADIANS?Math.tan(e):Math.tan(this.radians(e))},r.prototype.degrees=function(e){return o.radiansToDegrees(e)},r.prototype.radians=function(e){return o.degreesToRadians(e)},r.prototype.angleMode=function(e){(e===s.DEGREES||e===s.RADIANS)&&(this._angleMode=e)},r}({},amdclean.core_core,amdclean.math_polargeometry,amdclean.core_constants),amdclean._3d_shaders=function(){return{texLightVert:["uniform mat4 modelviewMatrix;","uniform mat4 transformMatrix;","uniform mat3 normalMatrix;","uniform mat4 texMatrix;","uniform int lightCount;","uniform vec4 lightPosition[8];","uniform vec3 lightNormal[8];","uniform vec3 lightAmbient[8];","uniform vec3 lightDiffuse[8];","uniform vec3 lightSpecular[8];","uniform vec3 lightFalloff[8];","uniform vec2 lightSpot[8];","attribute vec4 position;","attribute vec4 color;","attribute vec3 normal;","attribute vec2 texCoord;","attribute vec4 ambient;","attribute vec4 specular;","attribute vec4 emissive;","attribute float shininess;","varying vec4 vertColor;","varying vec4 backVertColor;","varying vec4 vertTexCoord;","const float zero_float = 0.0;","const float one_float = 1.0;","const vec3 zero_vec3 = vec3(0);","float falloffFactor(vec3 lightPos, vec3 vertPos, vec3 coeff) {","vec3 lpv = lightPos - vertPos;","vec3 dist = vec3(one_float);","dist.z = dot(lpv, lpv);","dist.y = sqrt(dist.z);","return one_float / dot(dist, coeff);","}","float spotFactor(vec3 lightPos,vec3 vertPos,","vec3 lightNorm,float minCos,float spotExp) {","vec3 lpv = normalize(lightPos - vertPos);","vec3 nln = -one_float * lightNorm;","float spotCos = dot(nln, lpv);","return spotCos <= minCos ? zero_float : pow(spotCos, spotExp);","}","float lambertFactor(vec3 lightDir, vec3 vecNormal) {","return max(zero_float, dot(lightDir, vecNormal));","}","float blinnPhongFactor(vec3 lightDir,","vec3 vertPos,vec3 vecNormal, float shine) {","vec3 np = normalize(vertPos);","vec3 ldp = normalize(lightDir - np);","return pow(max(zero_float, dot(ldp, vecNormal)), shine);","}","void main() {","gl_Position = transformMatrix * position;","vec3 ecVertex = vec3(modelviewMatrix * position);","vec3 ecNormal = normalize(normalMatrix * normal);","vec3 ecNormalInv = ecNormal * -one_float;","vec3 totalAmbient = vec3(0, 0, 0);","vec3 totalFrontDiffuse = vec3(0, 0, 0);","vec3 totalFrontSpecular = vec3(0, 0, 0);","vec3 totalBackDiffuse = vec3(0, 0, 0);","vec3 totalBackSpecular = vec3(0, 0, 0);","for (int i = 0; i < 8; i++) {","if (lightCount == i) break;","vec3 lightPos = lightPosition[i].xyz;","bool isDir = zero_float < lightPosition[i].w;","float spotCos = lightSpot[i].x;","float spotExp = lightSpot[i].y;","vec3 lightDir;","float falloff;","float spotf;","if (isDir) {","falloff = one_float;","lightDir = -one_float * lightNormal[i];","} else {","falloff = falloffFactor(lightPos, ecVertex, lightFalloff[i]);","lightDir = normalize(lightPos - ecVertex);","}","spotf=spotExp > zero_float ? spotFactor(lightPos,","ecVertex,","lightNormal[i],","spotCos,","spotExp):one_float;","if (any(greaterThan(lightAmbient[i], zero_vec3))) {","totalAmbient+= lightAmbient[i] * falloff;","}","if (any(greaterThan(lightDiffuse[i], zero_vec3))) {","totalFrontDiffuse  += lightDiffuse[i] * falloff * spotf *","lambertFactor(lightDir, ecNormal);","totalBackDiffuse   += lightDiffuse[i] * falloff * spotf *","lambertFactor(lightDir, ecNormalInv);","}","if (any(greaterThan(lightSpecular[i], zero_vec3))) {","totalFrontSpecular += lightSpecular[i] * falloff * spotf * ","blinnPhongFactor(lightDir, ecVertex, ecNormal, shininess);","totalBackSpecular  += lightSpecular[i] * falloff * spotf *","blinnPhongFactor(lightDir, ecVertex, ecNormalInv, shininess);","}","}","vertColor =vec4(totalAmbient, 0) * ambient + ","vec4(totalFrontDiffuse, 1) * color +","vec4(totalFrontSpecular, 0) * specular +","vec4(emissive.rgb, 0);","backVertColor = vec4(totalAmbient, 0) * ambient + ","vec4(totalBackDiffuse, 1) * color +","vec4(totalBackSpecular, 0) * specular +","vec4(emissive.rgb, 0);","vertTexCoord = texMatrix * vec4(texCoord, 1.0, 1.0);","}"].join("\n"),texLightFrag:["precision mediump float;","precision mediump int;","uniform sampler2D texture;","uniform vec2 texOffset;","varying vec4 vertColor;","varying vec4 backVertColor;","varying vec4 vertTexCoord;","void main() {","gl_FragColor = texture2D(texture,vertTexCoord.st)*","(gl_FrontFacing ? vertColor : backVertColor);","}"].join("\n"),testVert:["attribute vec3 position;","attribute vec3 normal;","uniform mat4 modelviewMatrix;","uniform mat4 transformMatrix;","uniform mat4 normalMatrix;","varying vec3 vertexNormal;","void main(void) {","vec3 zeroToOne = position / 1000.0;","vec4 positionVec4 = vec4(zeroToOne, 1.);","gl_Position = transformMatrix * modelviewMatrix * positionVec4;","vertexNormal = vec3( normalMatrix * vec4( normal, 1.0 ) );","}"].join("\n"),testFrag:["precision mediump float;","varying vec3 vertexNormal;","void main(void) {","gl_FragColor = vec4(vertexNormal, 1.0);","}"].join("\n")}}({}),amdclean._3d_p5Matrix=function(e,t,n,i){"use strict";var r=t,o=n,s=i,a="undefined"!=typeof Float32Array?Float32Array:Array;return r.Matrix=function(){return arguments[0]instanceof r?(this.p5=arguments[0],this.mat4=arguments[1]||new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])):this.mat4=arguments[0]||new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},r.Matrix.prototype.set=function(e){return e instanceof r.Matrix?(this.mat4=e.mat4,this):e instanceof a?(this.mat4=e,this):this},r.Matrix.prototype.get=function(){return new r.Matrix(this.mat4)},r.Matrix.prototype.copy=function(){var e=new r.Matrix;return e.mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15],e},r.Matrix.identity=function(){return new r.Matrix},r.Matrix.prototype.transpose=function(e){var t,n,i,o,s,l;return e instanceof r.Matrix?(t=e.mat4[1],n=e.mat4[2],i=e.mat4[3],o=e.mat4[6],s=e.mat4[7],l=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=n,this.mat4[9]=o,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e.mat4[15]):e instanceof a&&(t=e[1],n=e[2],i=e[3],o=e[6],s=e[7],l=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=n,this.mat4[9]=o,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e[15]),this},r.Matrix.prototype.invert=function(e){var t,n,i,o,s,l,u,c,h,d,p,f,g,m,v,y;e instanceof r.Matrix?(t=e.mat4[0],n=e.mat4[1],i=e.mat4[2],o=e.mat4[3],s=e.mat4[4],l=e.mat4[5],u=e.mat4[6],c=e.mat4[7],h=e.mat4[8],d=e.mat4[9],p=e.mat4[10],f=e.mat4[11],g=e.mat4[12],m=e.mat4[13],v=e.mat4[14],y=e.mat4[15]):e instanceof a&&(t=e[0],n=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],g=e[12],m=e[13],v=e[14],y=e[15]);var b=t*l-n*s,w=t*u-i*s,C=t*c-o*s,x=n*u-i*l,A=n*c-o*l,S=i*c-o*u,_=h*m-d*g,E=h*v-p*g,$=h*y-f*g,T=d*v-p*m,k=d*y-f*m,D=p*y-f*v,F=b*D-w*k+C*T+x*$-A*E+S*_;return F?(F=1/F,this.mat4[0]=(l*D-u*k+c*T)*F,this.mat4[1]=(i*k-n*D-o*T)*F,this.mat4[2]=(m*S-v*A+y*x)*F,this.mat4[3]=(p*A-d*S-f*x)*F,this.mat4[4]=(u*$-s*D-c*E)*F,this.mat4[5]=(t*D-i*$+o*E)*F,this.mat4[6]=(v*C-g*S-y*w)*F,this.mat4[7]=(h*S-p*C+f*w)*F,this.mat4[8]=(s*k-l*$+c*_)*F,this.mat4[9]=(n*$-t*k-o*_)*F,this.mat4[10]=(g*A-m*C+y*b)*F,this.mat4[11]=(d*C-h*A-f*b)*F,this.mat4[12]=(l*E-s*T-u*_)*F,this.mat4[13]=(t*T-n*E+i*_)*F,this.mat4[14]=(m*w-g*x-v*b)*F,this.mat4[15]=(h*x-d*w+p*b)*F,this):null},r.Matrix.prototype.determinant=function(){var e=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],t=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],n=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],i=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],r=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],s=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],a=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],c=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13],h=this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14];return e*h-t*c+n*u+i*l-r*a+o*s},r.Matrix.prototype.mult=function(e){var t=new a(16),n=new a(16);e instanceof r.Matrix?n=e.mat4:e instanceof a&&(n=e);var i=this.mat4[0],o=this.mat4[1],s=this.mat4[2],l=this.mat4[3];return t[0]=i*n[0]+o*n[4]+s*n[8]+l*n[12],t[1]=i*n[1]+o*n[5]+s*n[9]+l*n[13],t[2]=i*n[2]+o*n[6]+s*n[10]+l*n[14],t[3]=i*n[3]+o*n[7]+s*n[11]+l*n[15],i=this.mat4[4],o=this.mat4[5],s=this.mat4[6],l=this.mat4[7],t[4]=i*n[0]+o*n[4]+s*n[8]+l*n[12],t[5]=i*n[1]+o*n[5]+s*n[9]+l*n[13],t[6]=i*n[2]+o*n[6]+s*n[10]+l*n[14],t[7]=i*n[3]+o*n[7]+s*n[11]+l*n[15],i=this.mat4[8],o=this.mat4[9],s=this.mat4[10],l=this.mat4[11],t[8]=i*n[0]+o*n[4]+s*n[8]+l*n[12],t[9]=i*n[1]+o*n[5]+s*n[9]+l*n[13],t[10]=i*n[2]+o*n[6]+s*n[10]+l*n[14],t[11]=i*n[3]+o*n[7]+s*n[11]+l*n[15],i=this.mat4[12],o=this.mat4[13],s=this.mat4[14],l=this.mat4[15],t[12]=i*n[0]+o*n[4]+s*n[8]+l*n[12],t[13]=i*n[1]+o*n[5]+s*n[9]+l*n[13],t[14]=i*n[2]+o*n[6]+s*n[10]+l*n[14],t[15]=i*n[3]+o*n[7]+s*n[11]+l*n[15],this.mat4=t,this},r.Matrix.prototype.scale=function(){var e,t,n;arguments[0]instanceof r.Vector?(e=arguments[0].x,t=arguments[0].y,n=arguments[0].z):arguments[0]instanceof Array?(e=arguments[0][0],t=arguments[0][1],n=arguments[0][2]):(e=arguments[0]||1,t=arguments[1]||1,n=arguments[2]||1);for(var i=new a(16),o=0;o<this.mat4.length;o++){var s=o%4;switch(s){case 0:i[o]=this.mat4[o]*e;break;case 1:i[o]=this.mat4[o]*t;break;case 2:i[o]=this.mat4[o]*n;break;case 3:i[o]=this.mat4[o]}}return this.mat4=i,this},r.Matrix.prototype.rotate=function(e,t){var n,i,a,l,u;this.p5?this.p5._angleMode===s.DEGREES&&(l=o.degreesToRadians(e)):l=e,t instanceof r.Vector?(n=t.x,i=t.y,a=t.z):t instanceof Array&&(n=t[0],i=t[1],a=t[2]),u=Math.sqrt(n*n+i*i+a*a),n*=1/u,i*=1/u,a*=1/u;var c=this.mat4[0],h=this.mat4[1],d=this.mat4[2],p=this.mat4[3],f=this.mat4[4],g=this.mat4[5],m=this.mat4[6],v=this.mat4[7],y=this.mat4[8],b=this.mat4[9],w=this.mat4[10],C=this.mat4[11],x=Math.sin(l),A=Math.cos(l),S=1-A,_=n*n*S+A,E=i*n*S+a*x,$=a*n*S-i*x,T=n*i*S-a*x,k=i*i*S+A,D=a*i*S+n*x,F=n*a*S+i*x,M=i*a*S-n*x,R=a*a*S+A;return this.mat4[0]=c*_+f*E+y*$,this.mat4[1]=h*_+g*E+b*$,this.mat4[2]=d*_+m*E+w*$,this.mat4[3]=p*_+v*E+C*$,this.mat4[4]=c*T+f*k+y*D,this.mat4[5]=h*T+g*k+b*D,this.mat4[6]=d*T+m*k+w*D,this.mat4[7]=p*T+v*k+C*D,this.mat4[8]=c*F+f*M+y*R,this.mat4[9]=h*F+g*M+b*R,this.mat4[10]=d*F+m*M+w*R,this.mat4[11]=p*F+v*M+C*R,this},r.Matrix.prototype.translate=function(e){var t=e[0],n=e[1],i=e[2];this.mat4[12]=this.mat4[0]*t+this.mat4[4]*n+this.mat4[8]*i+this.mat4[12],this.mat4[13]=this.mat4[1]*t+this.mat4[5]*n+this.mat4[9]*i+this.mat4[13],this.mat4[14]=this.mat4[2]*t+this.mat4[6]*n+this.mat4[10]*i+this.mat4[14],this.mat4[15]=this.mat4[3]*t+this.mat4[7]*n+this.mat4[11]*i+this.mat4[15]},r.Matrix.prototype.rotateX=function(e){this.rotate(e,[1,0,0])},r.Matrix.prototype.rotateY=function(e){this.rotate(e,[0,1,0])},r.Matrix.prototype.rotateZ=function(e){this.rotate(e,[0,0,1])},r.Matrix}({},amdclean.core_core,amdclean.math_polargeometry,amdclean.core_constants),amdclean._3d_p5Renderer3D=function(e,t,n){var i,r,o=t,s=n,a=[],l={alpha:!1,depth:!0,stencil:!0,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1};return o.Renderer3D=function(e,t,n){o.Renderer.call(this,e,t,n);try{if(this.drawingContext=this.canvas.getContext("webgl",l)||this.canvas.getContext("experimental-webgl",l),null===this.drawingContext)throw"Error creating webgl context";console.log("p5.Renderer3D: enabled webgl context")}catch(r){console.error(r)}return this.isP3D=!0,i=this.drawingContext,i.clearColor(1,1,1,1),i.clearDepth(1),i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),this.initShaders(),this.initHash(),this.initMatrix(),this},o.Renderer3D.prototype=Object.create(o.Renderer.prototype),o.Renderer3D.prototype._applyDefaults=function(){return this},o.Renderer3D.prototype.resize=function(e,t){o.Renderer.prototype.resize.call(this,e,t),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight)},o.Renderer3D.prototype.initShaders=function(){var e=i.createShader(i.VERTEX_SHADER);if(i.shaderSource(e,s.testVert),i.compileShader(e),!i.getShaderParameter(e,i.COMPILE_STATUS))return alert("Yikes! An error occurred compiling the shaders:"+i.getShaderInfoLog(e)),null;var t=i.createShader(i.FRAGMENT_SHADER);return i.shaderSource(t,s.testFrag),i.compileShader(t),i.getShaderParameter(t,i.COMPILE_STATUS)?(r=i.createProgram(),i.attachShader(r,e),i.attachShader(r,t),i.linkProgram(r),i.getProgramParameter(r,i.LINK_STATUS)||alert("Snap! Error linking shader program"),i.useProgram(r),r.vertexPositionAttribute=i.getAttribLocation(r,"position"),i.enableVertexAttribArray(r.vertexPositionAttribute),r.vertexNormalAttribute=i.getAttribLocation(r,"normal"),i.enableVertexAttribArray(r.vertexNormalAttribute),r.uPMatrixUniform=i.getUniformLocation(r,"transformMatrix"),r.uMVMatrixUniform=i.getUniformLocation(r,"modelviewMatrix"),void(r.uNMatrixUniform=i.getUniformLocation(r,"normalMatrix"))):(alert("Darn! An error occurred compiling the shaders:"+i.getShaderInfoLog(t)),null)},o.Renderer3D.prototype.initHash=function(){this.hash={},window.hash=this.hash},o.Renderer3D.prototype.initMatrix=function(){this.uMVMatrix=new o.Matrix,this.uPMatrix=new o.Matrix,this.uNMatrix=new o.Matrix,this._perspective(60/180*Math.PI,this.width/this.height,.1,100)},o.Renderer3D.prototype.resetMatrix=function(){this.uMVMatrix=o.Matrix.identity()},o.Renderer3D.prototype.background=function(){var e=this._pInst.color.apply(this._pInst,arguments),t=e.color_array[0]/255,n=e.color_array[1]/255,r=e.color_array[2]/255,o=e.color_array[3]/255;i.clearColor(t,n,r,o),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),this.resetMatrix()},o.Renderer3D.prototype.stroke=function(){this._stroke=this._pInst.color.apply(this._pInst,arguments)},o.Renderer3D.prototype.notInHash=function(e){return void 0===this.hash[e]},o.Renderer3D.prototype.initBuffer=function(e,t){this.hash[e]={},this.hash[e].len=t.len,this.hash[e].vertexBuffer=i.createBuffer(),this.hash[e].normalBuffer=i.createBuffer(),this.hash[e].indexBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.hash[e].vertexBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(t.vertices),i.STATIC_DRAW),i.vertexAttribPointer(r.vertexPositionAttribute,3,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.hash[e].normalBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(t.vertexNormals),i.STATIC_DRAW),i.vertexAttribPointer(r.vertexNormalAttribute,3,i.FLOAT,!1,0,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.hash[e].indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.faces),i.STATIC_DRAW)},o.Renderer3D.prototype.drawBuffer=function(e){i.bindBuffer(i.ARRAY_BUFFER,this.hash[e].vertexBuffer),i.vertexAttribPointer(r.vertexPositionAttribute,3,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.hash[e].normalBuffer),i.vertexAttribPointer(r.vertexNormalAttribute,3,i.FLOAT,!1,0,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.hash[e].indexBuffer),this.setMatrixUniforms(),i.drawElements(i.TRIANGLES,this.hash[e].len,i.UNSIGNED_SHORT,0)},o.Renderer3D.prototype.translate=function(e,t,n){return e/=100,t=-t/100,n/=100,this.uMVMatrix.translate([e,t,n]),this},o.Renderer3D.prototype.scale=function(e,t,n){return this.uMVMatrix.scale([e,t,n]),this},o.Renderer3D.prototype.rotateX=function(e){return this.uMVMatrix.rotateX(e),this},o.Renderer3D.prototype.rotateY=function(e){return this.uMVMatrix.rotateY(e),this},o.Renderer3D.prototype.rotateZ=function(e){return this.uMVMatrix.rotateZ(e),this},o.Renderer3D.prototype.push=function(){a.push(this.uMVMatrix.copy())},o.Renderer3D.prototype.pop=function(){if(0===a.length)throw"Invalid popMatrix!";this.uMVMatrix=a.pop()},o.Renderer3D.prototype.setMatrixUniforms=function(){i.uniformMatrix4fv(r.uPMatrixUniform,!1,this.uPMatrix.mat4),i.uniformMatrix4fv(r.uMVMatrixUniform,!1,this.uMVMatrix.mat4),this.uNMatrix=new o.Matrix,this.uNMatrix.invert(this.uMVMatrix),this.uNMatrix.transpose(this.uNMatrix),i.uniformMatrix4fv(r.uNMatrixUniform,!1,this.uNMatrix.mat4)},o.prototype.perspective=function(){this._pInst._graphics._perspective(arguments)},o.Renderer3D.prototype._perspective=function(){var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3],r=1/Math.tan(e/2),o=1/(n-i);return this.uPMatrix.mat4[0]=r/t,this.uPMatrix.mat4[1]=0,this.uPMatrix.mat4[2]=0,this.uPMatrix.mat4[3]=0,this.uPMatrix.mat4[4]=0,this.uPMatrix.mat4[5]=r,this.uPMatrix.mat4[6]=0,this.uPMatrix.mat4[7]=0,this.uPMatrix.mat4[8]=0,this.uPMatrix.mat4[9]=0,this.uPMatrix.mat4[10]=(i+n)*o,this.uPMatrix.mat4[11]=-1,this.uPMatrix.mat4[12]=0,this.uPMatrix.mat4[13]=0,this.uPMatrix.mat4[14]=2*i*n*o,this.uPMatrix.mat4[15]=0,this},o.Renderer3D}({},amdclean.core_core,amdclean._3d_shaders,amdclean.core_p5Renderer,amdclean._3d_p5Matrix),amdclean.core_rendering=function(e,t,n){var i=t,r=n;return i.prototype.createCanvas=function(e,t,n){var o,s,a=n||r.P2D;return arguments[3]&&(o="boolean"==typeof arguments[3]?arguments[3]:!1),a===r.WEBGL?(s=document.getElementById("defaultCanvas"),s&&s.parentNode.removeChild(s),s=document.createElement("canvas"),s.id="defaultCanvas"):o?(s=document.createElement("canvas"),s.id="defaultCanvas"):s=this.canvas,this._setupDone||(s.className+=" p5_hidden",s.style.visibility="hidden"),this._userNode?this._userNode.appendChild(s):document.body.appendChild(s),a===r.WEBGL?(this._setProperty("_graphics",new i.Renderer3D(s,this,!0)),this._isdefaultGraphics=!0):this._isdefaultGraphics||(this._setProperty("_graphics",new i.Renderer2D(s,this,!0)),this._isdefaultGraphics=!0),this._graphics.resize(e,t),this._graphics._applyDefaults(),this._graphics},i.prototype.resizeCanvas=function(e,t,n){this._graphics&&(this._graphics.resize(e,t),this._graphics._applyDefaults(),n||this.redraw())},i.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},i.prototype.createGraphics=function(e,t,n){return new i.Graphics(e,t,n,this)},i.prototype.blendMode=function(e){if(e!==r.BLEND&&e!==r.DARKEST&&e!==r.LIGHTEST&&e!==r.DIFFERENCE&&e!==r.MULTIPLY&&e!==r.EXCLUSION&&e!==r.SCREEN&&e!==r.REPLACE&&e!==r.OVERLAY&&e!==r.HARD_LIGHT&&e!==r.SOFT_LIGHT&&e!==r.DODGE&&e!==r.BURN&&e!==r.ADD&&e!==r.NORMAL)throw new Error("Mode "+e+" not recognized.");this._graphics.blendMode(e)},i}({},amdclean.core_core,amdclean.core_constants,amdclean.core_p5Graphics,amdclean.core_p5Renderer2D,amdclean._3d_p5Renderer3D),amdclean.core_2d_primitives=function(e,t,n){"use strict";var i=t,r=n,o=1e-5;return i.prototype._createArc=function(e,t,n){for(var i=2*Math.PI,r=[],s=Math.PI/2,a=n>t?1:-1,l=t,u=Math.min(i,Math.abs(n-t));u>o;){var c=l+a*Math.min(u,s);r.push(this._createSmallArc(e,l,c)),u-=Math.abs(c-l),l=c}return r},i.prototype._createSmallArc=function(e,t,n){var i=(n-t)/2,r=e*Math.cos(i),o=e*Math.sin(i),s=r,a=-o,l=.5522847498,u=l*Math.tan(i),c=s+u*o,h=a+u*r,d=c,p=-h,f=i+t,g=Math.cos(f),m=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:c*g-h*m,y2:c*m+h*g,x3:d*g-p*m,y3:d*m+p*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},i.prototype.arc=function(e,t,n,i,o,s,a){if(!this._doStroke&&!this._doFill)return this;this._angleMode===r.DEGREES&&(o=this.radians(o),s=this.radians(s));var l=this._createArc(1,o,s);return this._graphics.arc(e,t,n,i,o,s,a,l),this},i.prototype.ellipse=function(e,t,n,i){return this._validateParameters("ellipse",arguments,["Number","Number","Number","Number"]),this._doStroke||this._doFill?(n=Math.abs(n),i=Math.abs(i),this._graphics.ellipse(e,t,n,i),this):this},i.prototype.line=function(){return this._validateParameters("line",arguments,[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]),this._doStroke?void(this._graphics.isP3D?this._graphics.line(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):this._graphics.line(arguments[0],arguments[1],arguments[2],arguments[3])):this},i.prototype.point=function(e,t){return this._validateParameters("point",arguments,["Number","Number"]),this._doStroke?(this._graphics.point(e,t),this):this},i.prototype.quad=function(e,t,n,i,r,o,s,a){return this._validateParameters("quad",arguments,["Number","Number","Number","Number","Number","Number","Number","Number"]),this._doStroke||this._doFill?(this._graphics.quad(e,t,n,i,r,o,s,a),this):this},i.prototype.rect=function(e,t,n,i,r,o,s,a){return this._validateParameters("rect",arguments,[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number"]]),this._doStroke||this._doFill?(this._graphics.rect(e,t,n,i,r,o,s,a),this):void 0},i.prototype.triangle=function(e,t,n,i,r,o){return this._validateParameters("triangle",arguments,["Number","Number","Number","Number","Number","Number"]),this._doStroke||this._doFill?(this._graphics.triangle(e,t,n,i,r,o),this):this},i}({},amdclean.core_core,amdclean.core_constants,amdclean.core_error_helpers),amdclean.core_attributes=function(e,t,n){"use strict";var i=t,r=n;return i.prototype._rectMode=r.CORNER,i.prototype._ellipseMode=r.CENTER,i.prototype.ellipseMode=function(e){return(e===r.CORNER||e===r.CORNERS||e===r.RADIUS||e===r.CENTER)&&(this._ellipseMode=e),this},i.prototype.noSmooth=function(){return this._graphics.noSmooth(),this
},i.prototype.rectMode=function(e){return(e===r.CORNER||e===r.CORNERS||e===r.RADIUS||e===r.CENTER)&&(this._rectMode=e),this},i.prototype.smooth=function(){return this._graphics.smooth(),this},i.prototype.strokeCap=function(e){return(e===r.ROUND||e===r.SQUARE||e===r.PROJECT)&&this._graphics.strokeCap(e),this},i.prototype.strokeJoin=function(e){return(e===r.ROUND||e===r.BEVEL||e===r.MITER)&&this._graphics.strokeJoin(e),this},i.prototype.strokeWeight=function(e){return this._graphics.strokeWeight(e),this},i}({},amdclean.core_core,amdclean.core_constants),amdclean.core_curves=function(e,t){"use strict";var n=t,i=20,r=20;return n.prototype._curveTightness=0,n.prototype.bezier=function(e,t,n,i,r,o,s,a){return this._validateParameters("bezier",arguments,["Number","Number","Number","Number","Number","Number","Number","Number"]),this._doStroke?(this._graphics.bezier(e,t,n,i,r,o,s,a),this):this},n.prototype.bezierDetail=function(e){return i=e,this},n.prototype.bezierPoint=function(e,t,n,i,r){var o=1-r;return Math.pow(o,3)*e+3*Math.pow(o,2)*r*t+3*o*Math.pow(r,2)*n+Math.pow(r,3)*i},n.prototype.bezierTangent=function(e,t,n,i,r){var o=1-r;return 3*i*Math.pow(r,2)-3*n*Math.pow(r,2)+6*n*o*r-6*t*o*r+3*t*Math.pow(o,2)-3*e*Math.pow(o,2)},n.prototype.curve=function(e,t,n,i,r,o,s,a){return this._validateParameters("curve",arguments,["Number","Number","Number","Number","Number","Number","Number","Number"]),this._doStroke?(this._graphics.curve(e,t,n,i,r,o,s,a),this):void 0},n.prototype.curveDetail=function(e){return r=e,this},n.prototype.curveTightness=function(e){this._setProperty("_curveTightness",e)},n.prototype.curvePoint=function(e,t,n,i,r){var o=r*r*r,s=r*r,a=-.5*o+s-.5*r,l=1.5*o-2.5*s+1,u=-1.5*o+2*s+.5*r,c=.5*o-.5*s;return e*a+t*l+n*u+i*c},n.prototype.curveTangent=function(e,t,n,i,r){var o=r*r,s=-3*o/2+2*r-.5,a=9*o/2-5*r,l=-9*o/2+4*r+.5,u=3*o/2-r;return e*s+t*a+n*l+i*u},n}({},amdclean.core_core,amdclean.core_error_helpers),amdclean.core_vertex=function(e,t,n){"use strict";var i=t,r=n,o=null,s=[],a=[],l=!1,u=!1,c=!1,h=!1;return i.prototype.beginContour=function(){return a=[],h=!0,this},i.prototype.beginShape=function(e){return o=e===r.POINTS||e===r.LINES||e===r.TRIANGLES||e===r.TRIANGLE_FAN||e===r.TRIANGLE_STRIP||e===r.QUADS||e===r.QUAD_STRIP?e:null,s=[],a=[],this},i.prototype.bezierVertex=function(){if(0===s.length)throw"vertex() must be used once before calling bezierVertex()";l=!0;for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.isVert=!1,h?a.push(e):s.push(e),this},i.prototype.curveVertex=function(e,t){return u=!0,this.vertex(e,t),this},i.prototype.endContour=function(){var e=a[0].slice();e.isVert=a[0].isVert,e.moveTo=!1,a.push(e),s.push(s[0]);for(var t=0;t<a.length;t++)s.push(a[t]);return this},i.prototype.endShape=function(e){if(0===s.length)return this;if(!this._doStroke&&!this._doFill)return this;var t=e===r.CLOSE;return t&&!h&&s.push(s[0]),this._graphics.endShape(e,s,u,l,c,h,o),u=!1,l=!1,c=!1,h=!1,t&&s.pop(),this},i.prototype.quadraticVertex=function(e,t,n,i){if(this._contourInited){var o={};return o.x=e,o.y=t,o.x3=n,o.y3=i,o.type=r.QUADRATIC,this._contourVertices.push(o),this}if(!(s.length>0))throw"vertex() must be used once before calling quadraticVertex()";c=!0;for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return l.isVert=!1,h?a.push(l):s.push(l),this},i.prototype.vertex=function(e,t,n){var i=[];return i.isVert=!0,i[0]=e,i[1]=t,i[2]=0,i[3]=0,i[4]=0,i[5]=this._graphics._getFill(),i[6]=this._graphics._getStroke(),n&&(i.moveTo=n),h?(0===a.length&&(i.moveTo=!0),a.push(i)):s.push(i),this},i}({},amdclean.core_core,amdclean.core_constants),amdclean.core_structure=function(e,t){"use strict";var n=t;return n.prototype.exit=function(){throw"exit() not implemented, see remove()"},n.prototype.noLoop=function(){this._loop=!1},n.prototype.loop=function(){this._loop=!0,this._draw()},n.prototype.push=function(){this._graphics.push(),this._styles.push({doStroke:this._doStroke,doFill:this._doFill,tint:this._tint,imageMode:this._imageMode,rectMode:this._rectMode,ellipseMode:this._ellipseMode,colorMode:this._colorMode,textFont:this.textFont,textLeading:this.textLeading,textSize:this.textSize,textStyle:this.textStyle})},n.prototype.pop=function(){this._graphics.pop();var e=this._styles.pop();this._doStroke=e.doStroke,this._doFill=e.doFill,this._tint=e.tint,this._imageMode=e.imageMode,this._rectMode=e.rectMode,this._ellipseMode=e.ellipseMode,this._colorMode=e.colorMode,this.textFont=e.textFont,this.textLeading=e.textLeading,this.textSize=e.textSize,this.textStyle=e.textStyle},n.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},n.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},n.prototype.redraw=function(){var e=this.setup||window.setup,t=this.draw||window.draw;"function"==typeof t&&(this.push(),"undefined"==typeof e&&this.scale(this.pixelDensity,this.pixelDensity),this._registeredMethods.pre.forEach(function(e){e.call(this)}),t(),this._registeredMethods.post.forEach(function(e){e.call(this)}),this.pop())},n.prototype.size=function(){throw"size() not implemented, see createCanvas()"},n}({},amdclean.core_core),amdclean.core_transform=function(e,t,n){"use strict";var i=t,r=n;return i.prototype.applyMatrix=function(e,t,n,i,r,o){return this._graphics.applyMatrix(e,t,n,i,r,o),this},i.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},i.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},i.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},i.prototype.resetMatrix=function(){return this._graphics.resetMatrix(),this},i.prototype.rotate=function(e){return this._angleMode===r.DEGREES&&(e=this.radians(e)),this._graphics.rotate(e),this},i.prototype.rotateX=function(e){if(!this._graphics.isP3D)throw"not yet implemented.";return this._graphics.rotateX(e),this},i.prototype.rotateY=function(e){if(!this._graphics.isP3D)throw"not yet implemented.";return this._graphics.rotateY(e),this},i.prototype.rotateZ=function(e){if(!this._graphics.isP3D)throw"not supported in p2d. Please use webgl mode";return this._graphics.rotateZ(e),this},i.prototype.scale=function(){return this._graphics.isP3D?this._graphics.scale(arguments[0],arguments[1],arguments[2]):this._graphics.scale.apply(this._graphics,arguments),this},i.prototype.shearX=function(e){return this._angleMode===r.DEGREES&&(e=this.radians(e)),this._graphics.shearX(e),this},i.prototype.shearY=function(e){return this._angleMode===r.DEGREES&&(e=this.radians(e)),this._graphics.shearY(e),this},i.prototype.translate=function(e,t,n){return this._graphics.isP3D?this._graphics.translate(e,t,n):this._graphics.translate(e,t),this},i}({},amdclean.core_core,amdclean.core_constants),amdclean.typography_attributes=function(e,t,n){"use strict";var i=t,r=n;return i.prototype._textSize=12,i.prototype._textLeading=15,i.prototype._textFont="sans-serif",i.prototype._textStyle=r.NORMAL,i.prototype._textAscent=null,i.prototype._textDescent=null,i.prototype.textAlign=function(e,t){return this._graphics.textAlign(e,t)},i.prototype.textLeading=function(e){return arguments.length?(this._setProperty("_textLeading",e),this):this._textLeading},i.prototype.textSize=function(e){return arguments.length?(this._setProperty("_textSize",e),this._setProperty("_textLeading",e*r._DEFAULT_LEADMULT),this._graphics._applyTextProperties()):this._textSize},i.prototype.textStyle=function(e){return arguments.length?((e===r.NORMAL||e===r.ITALIC||e===r.BOLD)&&this._setProperty("_textStyle",e),this._graphics._applyTextProperties()):this._textStyle},i.prototype.textWidth=function(e){return this._graphics.textWidth(e)},i.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},i.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},i.prototype._isOpenType=function(e){return e=e||this._textFont,"object"==typeof e&&e.font&&e.font.supported},i.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var e=document.createElement("span");e.style.fontFamily=this._textFont,e.style.fontSize=this._textSize+"px",e.innerHTML="ABCjgq|";var t=document.createElement("div");t.style.display="inline-block",t.style.width="1px",t.style.height="0px";var n=document.createElement("div");n.appendChild(e),n.appendChild(t),n.style.height="0px",n.style.overflow="hidden",document.body.appendChild(n),t.style.verticalAlign="baseline";var i=this._calculateOffset(t),r=this._calculateOffset(e),o=i[1]-r[1];t.style.verticalAlign="bottom",i=this._calculateOffset(t),r=this._calculateOffset(e);var s=i[1]-r[1],a=s-o;return document.body.removeChild(n),this._setProperty("_textAscent",o),this._setProperty("_textDescent",a),this},i.prototype._calculateOffset=function(e){var t=0,n=0;if(e.offsetParent){do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent)}else t+=e.offsetLeft,n+=e.offsetTop;return[t,n]},i}({},amdclean.core_core,amdclean.core_constants),amdclean.typography_loading_displaying=function(e,t,n){"use strict";var i=t,r=n;return i.prototype.text=function(){return this._validateParameters("text",arguments,[["*","Number","Number"],["*","Number","Number","Number","Number"]]),this._doFill||this._doStroke?this._graphics.text.apply(this._graphics,arguments):this},i.prototype.textFont=function(e,t){if(arguments.length){if(!e)throw Error("null font passed to textFont");return this._setProperty("_textFont",e),t&&(this._setProperty("_textSize",t),this._setProperty("_textLeading",t*r._DEFAULT_LEADMULT)),this._graphics._applyTextProperties()}return this},i}({},amdclean.core_core,amdclean.core_constants,amdclean.core_error_helpers),amdclean._3d_p5Geometry3D=function(e,t){"use strict";function n(e){return e.reduce(function(e,t){return e.concat(t)})}function i(e){return n(e.map(function(e){return[e.x,e.y,e.z]}))}var r=t;return r.Geometry3D=function(){this.vertices=[],this.vertexNormals=[],this.faces=[],this.faceNormals=[],this.uvs=[]},r.Geometry3D.prototype.parametricGeometry=function(e,t,n,i){var r,o,s,a,l;i=i||0;var u=t+1;for(r=0;n>=r;r++)for(l=r/n,o=0;t>=o;o++)a=o/t,s=e(a,l),this.vertices.push(s);var c,h,d,p,f,g,m,v;for(r=0;n>r;r++)for(o=0;t>o;o++)c=r*u+o+i,h=r*u+o+1+i,d=(r+1)*u+o+1+i,p=(r+1)*u+o+i,f=[o/t,r/n],g=[(o+1)/t,r/n],m=[(o+1)/t,(r+1)/n],v=[o/t,(r+1)/n],this.faces.push([c,h,p]),this.uvs.push([f,g,v]),this.faces.push([h,d,p]),this.uvs.push([g,m,v])},r.Geometry3D.prototype.mergeVertices=function(){var e,t,n,i,r,o={},s=[],a=[],l=4,u=Math.pow(10,l);for(n=0;n<this.vertices.length;n++)e=this.vertices[n],t=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u),void 0===o[t]?(o[t]=n,s.push(this.vertices[n]),a[n]=s.length-1):a[n]=a[o[t]];var c=[];for(n=0;n<this.faces.length;n++){i=this.faces[n],i[0]=a[i[0]],i[1]=a[i[1]],i[2]=a[i[2]],r=[i[0],i[1],i[2]];for(var h=-1,d=0;3>d;d++)if(r[d]===r[(d+1)%3]){h=d,c.push(n);break}}for(n=c.length-1;n>=0;n--){var p=c[n];this.faces.splice(p,1)}var f=this.vertices.length-s.length;return this.vertices=s,f},r.Geometry3D.prototype.computeFaceNormals=function(){for(var e=new r.Vector,t=new r.Vector,n=0;n<this.faces.length;n++){var i=this.faces[n],o=this.vertices[i[0]],s=this.vertices[i[1]],a=this.vertices[i[2]];r.Vector.sub(a,s,e),r.Vector.sub(o,s,t);var l=r.Vector.cross(t,e);l.normalize(),l.mult(-1),this.faceNormals[n]=l}},r.Geometry3D.prototype.computeVertexNormals=function(){var e,t,n,i,o,s=[];for(o=new Array(this.vertices.length),e=0;e<this.vertices.length;e++)o[e]=new r.Vector;for(t=0;t<this.faces.length;t++)n=this.faces[t],i=this.faceNormals[t],o[n[0]].add(i),o[n[1]].add(i),o[n[2]].add(i);for(e=0;e<this.vertices.length;e++)o[e].normalize();for(t=0;t<this.faces.length;t++)n=this.faces[t],s[t]=[],s[t][0]=o[n[0]].copy(),s[t][1]=o[n[1]].copy(),s[t][2]=o[n[2]].copy();for(t=0;t<this.faces.length;t++)n=this.faces[t],i=this.faceNormals[t],this.vertexNormals[n[0]]=s[t][0],this.vertexNormals[n[1]]=s[t][1],this.vertexNormals[n[2]]=s[t][2]},r.Geometry3D.prototype.generateObj=function(e){e||this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals();var t={vertices:i(this.vertices),vertexNormals:i(this.vertexNormals),faces:n(this.faces),len:3*this.faces.length};return t},r.Geometry3D}({},amdclean.core_core),amdclean._3d_3d_primitives=function(e,t){"use strict";var n=t;return n.prototype.plane=function(e,t,i,r){e=e||1,t=t||1,i=i||1,r=r||1;var o="plane|"+e+"|"+t+"|"+i+"|"+r;if(this._graphics.notInHash(o)){var s=new n.Geometry3D,a=function(i,r){var o=2*e*i-e,s=2*t*r-t,a=0;return new n.Vector(o,s,a)};s.parametricGeometry(a,i,r);var l=s.generateObj();this._graphics.initBuffer(o,l)}this._graphics.drawBuffer(o)},n.prototype.sphere=function(e,t,i){e=e||50,t=t||10,i=i||6;var r="sphere|"+e+"|"+t+"|"+i;if(this._graphics.notInHash(r)){var o=new n.Geometry3D,s=function(t,i){var r=2*Math.PI*t,o=Math.PI*i-Math.PI/2,s=e*Math.cos(o)*Math.sin(r),a=e*Math.sin(o),l=e*Math.cos(o)*Math.cos(r);return new n.Vector(s,a,l)};o.parametricGeometry(s,t,i);var a=o.generateObj();this._graphics.initBuffer(r,a)}return this._graphics.drawBuffer(r),this},n.prototype.cylinder=function(e,t,i,r){e=e||50,t=t||50,i=i||10,r=r||6;var o="cylinder|"+e+"|"+t+"|"+i+"|"+r;if(this._graphics.notInHash(o)){var s=new n.Geometry3D,a=function(i,r){var o=2*Math.PI*i,s=e*Math.sin(o),a=2*t*r-t,l=e*Math.cos(o);return new n.Vector(s,a,l)};s.parametricGeometry(a,i,r);var l=s.generateObj();this._graphics.initBuffer(o,l)}return this._graphics.drawBuffer(o),this},n.prototype.cone=function(e,t,i,r){e=e||50,t=t||50,i=i||10,r=r||6;var o="cone|"+e+"|"+t+"|"+i+"|"+r;if(this._graphics.notInHash(o)){var s=new n.Geometry3D,a=function(i,r){var o=2*Math.PI*i,s=e*(1-r)*Math.sin(o),a=2*t*r-t,l=e*(1-r)*Math.cos(o);return new n.Vector(s,a,l)};s.parametricGeometry(a,i,r);var l=s.generateObj();this._graphics.initBuffer(o,l)}return this._graphics.drawBuffer(o),this},n.prototype.torus=function(e,t,i,r){e=e||50,t=t||20,i=i||10,r=r||6;var o="torus|"+e+"|"+t+"|"+i+"|"+r;if(this._graphics.notInHash(o)){var s=new n.Geometry3D,a=function(i,r){var o=2*Math.PI*i,s=2*Math.PI*r,a=(e+t*Math.cos(s))*Math.cos(o),l=(e+t*Math.cos(s))*Math.sin(o),u=t*Math.sin(s);return new n.Vector(a,l,u)};s.parametricGeometry(a,i,r);var l=s.generateObj();this._graphics.initBuffer(o,l)}return this._graphics.drawBuffer(o),this},n.prototype.box=function(e,t,i){e=e||10,t=t||e,i=i||e;var r=typeof arguments[3]===Number?arguments[3]:1,o=typeof arguments[4]===Number?arguments[4]:1,s="cube|"+e+"|"+t+"|"+i+"|"+r+"|"+o;if(this._graphics.notInHash(s)){var a=new n.Geometry3D,l=function(r,o){var s=2*e*r-e,a=2*t*o-t,l=i;return new n.Vector(s,a,l)},u=function(r,o){var s=2*e*r-e,a=2*t*o-t,l=-i;return new n.Vector(s,a,l)},c=function(r,o){var s=2*e*r-e,a=t,l=2*i*o-i;return new n.Vector(s,a,l)},h=function(r,o){var s=2*e*r-e,a=-t,l=2*i*o-i;return new n.Vector(s,a,l)},d=function(r,o){var s=e,a=2*t*r-t,l=2*i*o-i;return new n.Vector(s,a,l)},p=function(r,o){var s=-e,a=2*t*r-t,l=2*i*o-i;return new n.Vector(s,a,l)};a.parametricGeometry(l,r,o,a.vertices.length),a.parametricGeometry(u,r,o,a.vertices.length),a.parametricGeometry(c,r,o,a.vertices.length),a.parametricGeometry(h,r,o,a.vertices.length),a.parametricGeometry(d,r,o,a.vertices.length),a.parametricGeometry(p,r,o,a.vertices.length);var f=a.generateObj(!0);this._graphics.initBuffer(s,f)}return this._graphics.drawBuffer(s),this},n}({},amdclean.core_core,amdclean._3d_p5Geometry3D),amdclean.app=function(e,t){"use strict";var n=t,i=function(){window.PHANTOMJS||window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&new n};return"complete"===document.readyState?i():window.addEventListener("load",i,!1),n}({},amdclean.core_core,amdclean.color_p5Color,amdclean.core_p5Element,amdclean.typography_p5Font,amdclean.core_p5Graphics,amdclean.core_p5Renderer2D,amdclean.image_p5Image,amdclean.math_p5Vector,amdclean.io_p5TableRow,amdclean.io_p5Table,amdclean.color_creating_reading,amdclean.color_setting,amdclean.core_constants,amdclean.utilities_conversion,amdclean.utilities_array_functions,amdclean.utilities_string_functions,amdclean.core_environment,amdclean.image_image,amdclean.image_loading_displaying,amdclean.image_pixels,amdclean.io_files,amdclean.events_keyboard,amdclean.events_acceleration,amdclean.events_mouse,amdclean.utilities_time_date,amdclean.events_touch,amdclean.math_math,amdclean.math_calculation,amdclean.math_random,amdclean.math_noise,amdclean.math_trigonometry,amdclean.core_rendering,amdclean.core_2d_primitives,amdclean.core_attributes,amdclean.core_curves,amdclean.core_vertex,amdclean.core_structure,amdclean.core_transform,amdclean.typography_attributes,amdclean.typography_loading_displaying,amdclean._3d_p5Renderer3D,amdclean._3d_p5Geometry3D,amdclean._3d_3d_primitives,amdclean._3d_shaders,amdclean._3d_p5Matrix),amdclean.app}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.opentype=e()}}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";n.argument=function(e,t){if(!e)throw new Error(t)},n.assert=n.argument},{}],2:[function(e,t,n){"use strict";function i(e,t,n,i,r){e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.stroke()}n.line=i},{}],3:[function(e,t,n){"use strict";function i(e){this.font=e}function r(e){this.cmap=e}function o(e,t){this.encoding=e,this.charset=t}function s(e){var t;switch(e.version){case 1:this.names=n.standardNames.slice();break;case 2:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=e.glyphNameIndex[t]<n.standardNames.length?n.standardNames[e.glyphNameIndex[t]]:e.names[e.glyphNameIndex[t]-n.standardNames.length];break;case 2.5:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=n.standardNames[t+e.glyphNameIndex[t]];break;case 3:this.names=[]}}function a(e){for(var t,n=e.tables.cmap.glyphIndexMap,i=Object.keys(n),r=0;r<i.length;r+=1){var o=i[r],s=n[o];t=e.glyphs[s],t.addUnicode(parseInt(o))}for(r=0;r<e.glyphs.length;r+=1)t=e.glyphs[r],t.name=e.cffEncoding?e.cffEncoding.charset[r]:e.glyphNames.glyphIndexToName(r)}var l=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],h=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];i.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.font.glyphs;if(!n)return null;for(var i=0;i<n.length;i+=1)for(var r=n[i],o=0;o<r.unicodes.length;o+=1)if(r.unicodes[o]===t)return i},r.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.charCodeAt(0)]||0},o.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.encoding[t];return this.charset.indexOf(n)},s.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},s.prototype.glyphIndexToName=function(e){return this.names[e]},n.cffStandardStrings=l,n.cffStandardEncoding=u,n.cffExpertEncoding=c,n.standardNames=h,n.DefaultEncoding=i,n.CmapEncoding=r,n.CffEncoding=o,n.GlyphNames=s,n.addGlyphNames=a},{}],4:[function(e,t,n){"use strict";function i(e){e=e||{},this.familyName=e.familyName||" ",this.styleName=e.styleName||" ",this.designer=e.designer||" ",this.designerURL=e.designerURL||" ",this.manufacturer=e.manufacturer||" ",this.manufacturerURL=e.manufacturerURL||" ",this.license=e.license||" ",this.licenseURL=e.licenseURL||" ",this.version=e.version||"Version 0.1",this.description=e.description||" ",this.copyright=e.copyright||" ",this.trademark=e.trademark||" ",this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.supported=!0,this.glyphs=e.glyphs||[],this.encoding=new s.DefaultEncoding(this),this.tables={}}var r=e("./path"),o=e("./tables/sfnt"),s=e("./encoding");i.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},i.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},i.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs[t];return n||(n=this.glyphs[0]),n},i.prototype.stringToGlyphs=function(e){for(var t=[],n=0;n<e.length;n+=1){var i=e[n];t.push(this.charToGlyph(i))}return t},i.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},i.prototype.nameToGlyph=function(e){var t=this.nametoGlyphIndex(e),n=this.glyphs[t];return n||(n=this.glyphs[0]),n},i.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},i.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.getGposKerningValue;return n?n(e,t):this.kerningPairs[e+","+t]||0},i.prototype.forEachGlyph=function(e,t,n,i,r,o){if(this.supported){t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:72,r=r||{};for(var s=void 0===r.kerning?!0:r.kerning,a=1/this.unitsPerEm*i,l=this.stringToGlyphs(e),u=0;u<l.length;u+=1){var c=l[u];
if(o(c,t,n,i,r),c.advanceWidth&&(t+=c.advanceWidth*a),s&&u<l.length-1){var h=this.getKerningValue(c,l[u+1]);t+=h*a}}}},i.prototype.getPath=function(e,t,n,i,o){var s=new r.Path;return this.forEachGlyph(e,t,n,i,o,function(e,t,n,i){var r=e.getPath(t,n,i);s.extend(r)}),s},i.prototype.draw=function(e,t,n,i,r,o){this.getPath(t,n,i,r,o).draw(e)},i.prototype.drawPoints=function(e,t,n,i,r,o){this.forEachGlyph(t,n,i,r,o,function(t,n,i,r){t.drawPoints(e,n,i,r)})},i.prototype.drawMetrics=function(e,t,n,i,r,o){this.forEachGlyph(t,n,i,r,o,function(t,n,i,r){t.drawMetrics(e,n,i,r)})},i.prototype.validate=function(){function e(e,t){e||n.push(t)}function t(t){e(i[t]&&i[t].trim().length>0,"No "+t+" specified.")}var n=[],i=this;t("familyName"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},i.prototype.toTables=function(){return o.fontToTable(this)},i.prototype.toBuffer=function(){for(var e=this.toTables(),t=e.encode(),n=new ArrayBuffer(t.length),i=new Uint8Array(n),r=0;r<t.length;r++)i[r]=t[r];return n},i.prototype.download=function(){var e=this.familyName.replace(/\s/g,"")+"-"+this.styleName+".otf",t=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,t.byteLength,function(n){n.root.getFile(e,{create:!0},function(e){e.createWriter(function(n){var i=new DataView(t),r=new Blob([i],{type:"font/opentype"});n.write(r),n.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw e})},n.Font=i},{"./encoding":3,"./path":8,"./tables/sfnt":23}],5:[function(e,t,n){"use strict";function i(e){this.font=e.font||null,this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],this.xMin=e.xMin||0,this.yMin=e.yMin||0,this.xMax=e.xMax||0,this.yMax=e.yMax||0,this.advanceWidth=e.advanceWidth||0,this.path=e.path||null}var r=e("./check"),o=e("./draw"),s=e("./path");i.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},i.prototype.getPath=function(e,t,n){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72;for(var i=1/this.font.unitsPerEm*n,r=new s.Path,o=this.path.commands,a=0;a<o.length;a+=1){var l=o[a];"M"===l.type?r.moveTo(e+l.x*i,t+-l.y*i):"L"===l.type?r.lineTo(e+l.x*i,t+-l.y*i):"Q"===l.type?r.quadraticCurveTo(e+l.x1*i,t+-l.y1*i,e+l.x*i,t+-l.y*i):"C"===l.type?r.curveTo(e+l.x1*i,t+-l.y1*i,e+l.x2*i,t+-l.y2*i,e+l.x*i,t+-l.y*i):"Z"===l.type&&r.closePath()}return r},i.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var i=this.points[n];t.push(i),i.lastPointOfContour&&(e.push(t),t=[])}return r.argument(0===t.length,"There are still points left in the current contour."),e},i.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],i=0;i<e.length;i+=1){var r=e[i];"Z"!==r.type&&(t.push(r.x),n.push(r.y)),("Q"===r.type||"C"===r.type)&&(t.push(r.x1),n.push(r.y1)),"C"===r.type&&(t.push(r.x2),n.push(r.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:0};return o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},i.prototype.draw=function(e,t,n,i){this.getPath(t,n,i).draw(e)},i.prototype.drawPoints=function(e,t,n,i){function r(t,n,i,r){var o=2*Math.PI;e.beginPath();for(var s=0;s<t.length;s+=1)e.moveTo(n+t[s].x*r,i+t[s].y*r),e.arc(n+t[s].x*r,i+t[s].y*r,2,0,o,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:24;for(var o=1/this.font.unitsPerEm*i,s=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];void 0!==c.x&&s.push({x:c.x,y:-c.y}),void 0!==c.x1&&a.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&a.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",r(s,t,n,o),e.fillStyle="red",r(a,t,n,o)},i.prototype.drawMetrics=function(e,t,n,i){var r;t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:24,r=1/this.font.unitsPerEm*i,e.lineWidth=1,e.strokeStyle="black",o.line(e,t,-1e4,t,1e4),o.line(e,-1e4,n,1e4,n),e.strokeStyle="blue",o.line(e,t+this.xMin*r,-1e4,t+this.xMin*r,1e4),o.line(e,t+this.xMax*r,-1e4,t+this.xMax*r,1e4),o.line(e,-1e4,n+-this.yMin*r,1e4,n+-this.yMin*r),o.line(e,-1e4,n+-this.yMax*r,1e4,n+-this.yMax*r),e.strokeStyle="green",o.line(e,t+this.advanceWidth*r,-1e4,t+this.advanceWidth*r,1e4)},n.Glyph=i},{"./check":1,"./draw":2,"./path":8}],6:[function(e,t,n){"use strict";function i(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i<e.length;i+=1)n[i]=e[i];return t}function r(t,n){var r=e("fs");r.readFile(t,function(e,t){return e?n(e.message):void n(null,i(t))})}function o(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return 200!==n.status?t("Font could not be loaded: "+n.statusText):t(null,n.response)},n.send()}function s(e){var t,n,i,r,o,s,a,c=new u.Font,d=new DataView(e,0),E=h.getFixed(d,0);if(1===E)c.outlinesFormat="truetype";else{if(E=h.getTag(d,0),"OTTO"!==E)throw new Error("Unsupported OpenType version "+E);c.outlinesFormat="cff"}for(var $=h.getUShort(d,4),T=12,k=0;$>k;k+=1){var D=h.getTag(d,T),F=h.getULong(d,T+8);switch(D){case"cmap":c.tables.cmap=p.parse(d,F),c.encoding=new l.CmapEncoding(c.tables.cmap),c.encoding||(c.supported=!1);break;case"head":c.tables.head=v.parse(d,F),c.unitsPerEm=c.tables.head.unitsPerEm,t=c.tables.head.indexToLocFormat;break;case"hhea":c.tables.hhea=y.parse(d,F),c.ascender=c.tables.hhea.ascender,c.descender=c.tables.hhea.descender,c.numberOfHMetrics=c.tables.hhea.numberOfHMetrics;break;case"hmtx":n=F;break;case"maxp":c.tables.maxp=x.parse(d,F),c.numGlyphs=c.tables.maxp.numGlyphs;break;case"name":c.tables.name=A.parse(d,F),c.familyName=c.tables.name.fontFamily,c.styleName=c.tables.name.fontSubfamily;break;case"OS/2":c.tables.os2=S.parse(d,F);break;case"post":c.tables.post=_.parse(d,F),c.glyphNames=new l.GlyphNames(c.tables.post);break;case"glyf":i=F;break;case"loca":r=F;break;case"CFF ":o=F;break;case"kern":s=F;break;case"GPOS":a=F}T+=16}if(i&&r){var M=0===t,R=C.parse(d,r,c.numGlyphs,M);c.glyphs=g.parse(d,i,R,c),b.parse(d,n,c.numberOfHMetrics,c.numGlyphs,c.glyphs),l.addGlyphNames(c)}else o?(f.parse(d,o,c),l.addGlyphNames(c)):c.supported=!1;return c.supported&&(c.kerningPairs=s?w.parse(d,s):{},a&&m.parse(d,a,c)),c}function a(e,t){var n="undefined"==typeof window,i=n?r:o;i(e,function(e,n){if(e)return t(e);var i=s(n);return i.supported?t(null,i):t("Font is not supported (is this a Postscript font?)")})}var l=e("./encoding"),u=e("./font"),c=e("./glyph"),h=e("./parse"),d=e("./path"),p=e("./tables/cmap"),f=e("./tables/cff"),g=e("./tables/glyf"),m=e("./tables/gpos"),v=e("./tables/head"),y=e("./tables/hhea"),b=e("./tables/hmtx"),w=e("./tables/kern"),C=e("./tables/loca"),x=e("./tables/maxp"),A=e("./tables/name"),S=e("./tables/os2"),_=e("./tables/post");n._parse=h,n.Font=u.Font,n.Glyph=c.Glyph,n.Path=d.Path,n.parse=s,n.load=a},{"./encoding":3,"./font":4,"./glyph":5,"./parse":7,"./path":8,"./tables/cff":10,"./tables/cmap":11,"./tables/glyf":12,"./tables/gpos":13,"./tables/head":14,"./tables/hhea":15,"./tables/hmtx":16,"./tables/kern":17,"./tables/loca":18,"./tables/maxp":19,"./tables/name":20,"./tables/os2":21,"./tables/post":22,fs:void 0}],7:[function(e,t,n){"use strict";function i(e,t){this.data=e,this.offset=t,this.relativeOffset=0}n.getByte=function(e,t){return e.getUint8(t)},n.getCard8=n.getByte,n.getUShort=function(e,t){return e.getUint16(t,!1)},n.getCard16=n.getUShort,n.getShort=function(e,t){return e.getInt16(t,!1)},n.getULong=function(e,t){return e.getUint32(t,!1)},n.getFixed=function(e,t){var n=e.getInt16(t,!1),i=e.getUint16(t+2,!1);return n+i/65535},n.getTag=function(e,t){for(var n="",i=t;t+4>i;i+=1)n+=String.fromCharCode(e.getInt8(i));return n},n.getOffset=function(e,t,n){for(var i=0,r=0;n>r;r+=1)i<<=8,i+=e.getUint8(t+r);return i},n.getBytes=function(e,t,n){for(var i=[],r=t;n>r;r+=1)i.push(e.getUint8(r));return i},n.bytesToString=function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t};var r={"byte":1,uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};i.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},i.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},i.prototype.parseCard8=i.prototype.parseByte,i.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},i.prototype.parseCard16=i.prototype.parseUShort,i.prototype.parseSID=i.prototype.parseUShort,i.prototype.parseOffset16=i.prototype.parseUShort,i.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},i.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},i.prototype.parseULong=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},i.prototype.parseFixed=function(){var e=n.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},i.prototype.parseOffset16List=i.prototype.parseUShortList=function(e){for(var t=new Array(e),i=this.data,r=this.offset+this.relativeOffset,o=0;e>o;o++)t[o]=n.getUShort(i,r),r+=2;return this.relativeOffset+=2*e,t},i.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,i="";this.relativeOffset+=e;for(var r=0;e>r;r++)i+=String.fromCharCode(t.getUint8(n+r));return i},i.prototype.parseTag=function(){return this.parseString(4)},i.prototype.parseLongDateTime=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,e},i.prototype.parseFixed=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e/65536},i.prototype.parseVersion=function(){var e=n.getUShort(this.data,this.offset+this.relativeOffset),t=n.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e+t/4096/10},i.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=r[e]*t},n.Parser=i},{}],8:[function(e,t,n){"use strict";function i(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}i.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},i.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},i.prototype.curveTo=i.prototype.bezierCurveTo=function(e,t,n,i,r,o){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:i,x:r,y:o})},i.prototype.quadTo=i.prototype.quadraticCurveTo=function(e,t,n,i){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:i})},i.prototype.close=i.prototype.closePath=function(){this.commands.push({type:"Z"})},i.prototype.extend=function(e){e.commands&&(e=e.commands),Array.prototype.push.apply(this.commands,e)},i.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},i.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e="",n=0;n<arguments.length;n+=1){var i=arguments[n];i>=0&&n>0&&(e+=" "),e+=t(i)}return e}e=void 0!==e?e:2;for(var i="",r=0;r<this.commands.length;r+=1){var o=this.commands[r];"M"===o.type?i+="M"+n(o.x,o.y):"L"===o.type?i+="L"+n(o.x,o.y):"C"===o.type?i+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):"Q"===o.type?i+="Q"+n(o.x1,o.y1,o.x,o.y):"Z"===o.type&&(i+="Z")}return i},i.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},n.Path=i},{}],9:[function(e,t,n){"use strict";function i(e,t,n){var i;for(i=0;i<t.length;i+=1){var r=t[i];this[r.name]=r.value}if(this.tableName=e,this.fields=t,n){var o=Object.keys(n);for(i=0;i<o.length;i+=1){var s=o[i],a=n[s];void 0!==this[s]&&(this[s]=a)}}}var r=e("./check"),o=e("./types").encode,s=e("./types").sizeOf;i.prototype.sizeOf=function(){for(var e=0,t=0;t<this.fields.length;t+=1){var n=this.fields[t],i=this[n.name];if(void 0===i&&(i=n.value),"function"==typeof i.sizeOf)e+=i.sizeOf();else{var o=s[n.type];r.assert("function"==typeof o,"Could not find sizeOf function for field"+n.name),e+=o(i)}}return e},i.prototype.encode=function(){return o.TABLE(this)},n.Table=i},{"./check":1,"./types":24}],10:[function(e,t,n){"use strict";function i(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!i(e[n],t[n]))return!1;return!0}return!1}function r(e,t,n){var i,r,o,s=[],a=[],l=P.getCard16(e,t);if(0!==l){var u=P.getByte(e,t+2);r=t+(l+1)*u+2;var c=t+3;for(i=0;l+1>i;i+=1)s.push(P.getOffset(e,c,u)),c+=u;o=r+s[l]}else o=t+2;for(i=0;i<s.length-1;i+=1){var h=P.getBytes(e,r+s[i],r+s[i+1]);n&&(h=n(h)),a.push(h)}return{objects:a,startOffset:t,endOffset:o}}function o(e){for(var t="",n=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=e.parseByte(),o=r>>4,s=15&r;if(o===n)break;if(t+=i[o],s===n)break;t+=i[s]}return parseFloat(t)}function s(e,t){var n,i,r,s;if(28===t)return n=e.parseByte(),i=e.parseByte(),n<<8|i;if(29===t)return n=e.parseByte(),i=e.parseByte(),r=e.parseByte(),s=e.parseByte(),n<<24|i<<16|r<<8|s;if(30===t)return o(e);if(t>=32&&246>=t)return t-139;if(t>=247&&250>=t)return n=e.parseByte(),256*(t-247)+n+108;if(t>=251&&254>=t)return n=e.parseByte(),256*-(t-251)-n-108;throw new Error("Invalid b0 "+t)}function a(e){for(var t={},n=0;n<e.length;n+=1){var i,r=e[n][0],o=e[n][1];if(i=1===o.length?o[0]:o,t.hasOwnProperty(r))throw new Error("Object "+t+" already has key "+r);t[r]=i}return t}function l(e,t,n){t=void 0!==t?t:0;var i=new P.Parser(e,t),r=[],o=[];for(n=void 0!==n?n:e.length;i.relativeOffset<n;){var l=i.parseByte();21>=l?(12===l&&(l=1200+i.parseByte()),r.push([l,o]),o=[]):o.push(s(i,l))}return a(r)}function u(e,t){return t=390>=t?R.cffStandardStrings[t]:e[t-391]}function c(e,t,n){for(var i={},r=0;r<t.length;r+=1){var o=t[r],s=e[o.op];void 0===s&&(s=void 0!==o.value?o.value:null),"SID"===o.type&&(s=u(n,s)),i[o.name]=s}return i}function h(e,t){var n={};return n.formatMajor=P.getCard8(e,t),n.formatMinor=P.getCard8(e,t+1),n.size=P.getCard8(e,t+2),n.offsetSize=P.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}function d(e,t){var n=l(e,0,e.byteLength);return c(n,B,t)}function p(e,t,n,i){var r=l(e,t,n);return c(r,N,i)}function f(e,t,n,i){var r,o,s,a=new P.Parser(e,t);n-=1;var l=[".notdef"],c=a.parseCard8();if(0===c)for(r=0;n>r;r+=1)o=a.parseSID(),l.push(u(i,o));else if(1===c)for(;l.length<=n;)for(o=a.parseSID(),s=a.parseCard8(),r=0;s>=r;r+=1)l.push(u(i,o)),o+=1;else{if(2!==c)throw new Error("Unknown charset format "+c);for(;l.length<=n;)for(o=a.parseSID(),s=a.parseCard16(),r=0;s>=r;r+=1)l.push(u(i,o)),o+=1}return l}function g(e,t,n){var i,r,o={},s=new P.Parser(e,t),a=s.parseCard8();if(0===a){var l=s.parseCard8();for(i=0;l>i;i+=1)r=s.parseCard8(),o[r]=i}else{if(1!==a)throw new Error("Unknown encoding format "+a);var u=s.parseCard8();for(r=1,i=0;u>i;i+=1)for(var c=s.parseCard8(),h=s.parseCard8(),d=c;c+h>=d;d+=1)o[d]=r,r+=1}return new R.CffEncoding(o,n)}function m(e,t,n){function i(e,t){g&&c.closePath(),c.moveTo(e,t),g=!0}function r(){var e;e=0!==h.length%2,e&&!p&&(f=h.shift()+t.nominalWidthX),d+=h.length>>1,h.length=0,p=!0}function o(e){for(var y,b,w,C,x,A,S,_,E,$,T,k,D=0;D<e.length;){var F=e[D];switch(D+=1,F){case 1:r();break;case 3:r();break;case 4:h.length>1&&!p&&(f=h.shift()+t.nominalWidthX,p=!0),v+=h.pop(),i(m,v);break;case 5:for(;h.length>0;)m+=h.shift(),v+=h.shift(),c.lineTo(m,v);break;case 6:for(;h.length>0&&(m+=h.shift(),c.lineTo(m,v),0!==h.length);)v+=h.shift(),c.lineTo(m,v);break;case 7:for(;h.length>0&&(v+=h.shift(),c.lineTo(m,v),0!==h.length);)m+=h.shift(),c.lineTo(m,v);break;case 8:for(;h.length>0;)s=m+h.shift(),a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),m=l+h.shift(),v=u+h.shift(),c.curveTo(s,a,l,u,m,v);break;case 10:x=h.pop()+t.subrsBias,A=t.subrs[x],A&&o(A);break;case 11:return;case 12:switch(F=e[D],D+=1,F){case 35:s=m+h.shift(),a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),S=l+h.shift(),_=u+h.shift(),E=S+h.shift(),$=_+h.shift(),T=E+h.shift(),k=$+h.shift(),m=T+h.shift(),v=k+h.shift(),h.shift(),c.curveTo(s,a,l,u,S,_),c.curveTo(E,$,T,k,m,v);break;case 34:s=m+h.shift(),a=v,l=s+h.shift(),u=a+h.shift(),S=l+h.shift(),_=u,E=S+h.shift(),$=u,T=E+h.shift(),k=v,m=T+h.shift(),c.curveTo(s,a,l,u,S,_),c.curveTo(E,$,T,k,m,v);break;case 36:s=m+h.shift(),a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),S=l+h.shift(),_=u,E=S+h.shift(),$=u,T=E+h.shift(),k=$+h.shift(),m=T+h.shift(),c.curveTo(s,a,l,u,S,_),c.curveTo(E,$,T,k,m,v);break;case 37:s=m+h.shift(),a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),S=l+h.shift(),_=u+h.shift(),E=S+h.shift(),$=_+h.shift(),T=E+h.shift(),k=$+h.shift(),Math.abs(T-m)>Math.abs(k-v)?m=T+h.shift():v=k+h.shift(),c.curveTo(s,a,l,u,S,_),c.curveTo(E,$,T,k,m,v);break;default:console.log("Glyph "+n+": unknown operator 1200"+F),h.length=0}break;case 14:h.length>0&&!p&&(f=h.shift()+t.nominalWidthX,p=!0),g&&(c.closePath(),g=!1);break;case 18:r();break;case 19:case 20:r(),D+=d+7>>3;break;case 21:h.length>2&&!p&&(f=h.shift()+t.nominalWidthX,p=!0),v+=h.pop(),m+=h.pop(),i(m,v);break;case 22:h.length>1&&!p&&(f=h.shift()+t.nominalWidthX,p=!0),m+=h.pop(),i(m,v);break;case 23:r();break;case 24:for(;h.length>2;)s=m+h.shift(),a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),m=l+h.shift(),v=u+h.shift(),c.curveTo(s,a,l,u,m,v);m+=h.shift(),v+=h.shift(),c.lineTo(m,v);break;case 25:for(;h.length>6;)m+=h.shift(),v+=h.shift(),c.lineTo(m,v);s=m+h.shift(),a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),m=l+h.shift(),v=u+h.shift(),c.curveTo(s,a,l,u,m,v);break;case 26:for(h.length%2&&(m+=h.shift());h.length>0;)s=m,a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),m=l,v=u+h.shift(),c.curveTo(s,a,l,u,m,v);break;case 27:for(h.length%2&&(v+=h.shift());h.length>0;)s=m+h.shift(),a=v,l=s+h.shift(),u=a+h.shift(),m=l+h.shift(),v=u,c.curveTo(s,a,l,u,m,v);break;case 28:y=e[D],b=e[D+1],h.push((y<<24|b<<16)>>16),D+=2;break;case 29:x=h.pop()+t.gsubrsBias,A=t.gsubrs[x],A&&o(A);break;case 30:for(;h.length>0&&(s=m,a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),m=l+h.shift(),v=u+(1===h.length?h.shift():0),c.curveTo(s,a,l,u,m,v),0!==h.length);)s=m+h.shift(),a=v,l=s+h.shift(),u=a+h.shift(),v=u+h.shift(),m=l+(1===h.length?h.shift():0),c.curveTo(s,a,l,u,m,v);break;case 31:for(;h.length>0&&(s=m+h.shift(),a=v,l=s+h.shift(),u=a+h.shift(),v=u+h.shift(),m=l+(1===h.length?h.shift():0),c.curveTo(s,a,l,u,m,v),0!==h.length);)s=m,a=v+h.shift(),l=s+h.shift(),u=a+h.shift(),m=l+h.shift(),v=u+(1===h.length?h.shift():0),c.curveTo(s,a,l,u,m,v);break;default:32>F?console.log("Glyph "+n+": unknown operator "+F):247>F?h.push(F-139):251>F?(y=e[D],D+=1,h.push(256*(F-247)+y+108)):255>F?(y=e[D],D+=1,h.push(256*-(F-251)-y-108)):(y=e[D],b=e[D+1],w=e[D+2],C=e[D+3],D+=4,h.push((y<<24|b<<16|w<<8|C)/65536))}}}var s,a,l,u,c=new O.Path,h=[],d=0,p=!1,f=t.defaultWidthX,g=!1,m=0,v=0;o(e);var y=new L.Glyph({font:t,index:n});return y.path=c,y.advanceWidth=f,y}function v(e){var t;return t=e.length<1240?107:e.length<33900?1131:32768}function y(e,t,n){n.tables.cff={};var i=h(e,t),o=r(e,i.endOffset,P.bytesToString),s=r(e,o.endOffset),a=r(e,s.endOffset,P.bytesToString),l=r(e,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=v(n.gsubrs);var u=new DataView(new Uint8Array(s.objects[0]).buffer),c=d(u,a.objects);n.tables.cff.topDict=c;var y=t+c["private"][1],b=p(e,y,c["private"][0],a.objects);if(n.defaultWidthX=b.defaultWidthX,n.nominalWidthX=b.nominalWidthX,0!==b.subrs){var w=y+b.subrs,C=r(e,w);n.subrs=C.objects,n.subrsBias=v(n.subrs)}else n.subrs=[],n.subrsBias=0;var x=r(e,t+c.charStrings);n.nGlyphs=x.objects.length;var A=f(e,t+c.charset,n.nGlyphs,a.objects);n.cffEncoding=0===c.encoding?new R.CffEncoding(R.cffStandardEncoding,A):1===c.encoding?new R.CffEncoding(R.cffExpertEncoding,A):g(e,t+c.encoding,A),n.encoding=n.encoding||n.cffEncoding,n.glyphs=[];for(var S=0;S<n.nGlyphs;S+=1){var _=x.objects[S];n.glyphs.push(m(_,n,S))}}function b(e,t){var n,i=R.cffStandardStrings.indexOf(e);return i>=0&&(n=i),i=t.indexOf(e),i>=0?n=i+R.cffStandardStrings.length:(n=R.cffStandardStrings.length+t.length,t.push(e)),n}function w(){return new I.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function C(e){var t=new I.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}function x(e,t,n){for(var r={},o=0;o<e.length;o+=1){var s=e[o],a=t[s.name];void 0===a||i(a,s.value)||("SID"===s.type&&(a=b(a,n)),r[s.op]={name:s.name,type:s.type,value:a})}return r}function A(e,t){var n=new I.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=x(B,e,t),n}function S(e){var t=new I.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function _(e){var t=new I.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}function E(){return new I.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function $(e,t){for(var n=new I.Table("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<e.length;i+=1){var r=e[i],o=b(r,t);n.fields.push({name:"glyph_"+i,type:"SID",value:o})}return n}function T(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var i=0,r=0,o=0;o<n.commands.length;o+=1){var s,a,l=n.commands[o];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",x:l.x,y:l.y,x1:u*i+c*l.x1,y1:u*r+c*l.y1,x2:u*l.x+c*l.x1,y2:u*l.y+c*l.y1}}if("M"===l.type)s=Math.round(l.x-i),a=Math.round(l.y-r),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(l.x),r=Math.round(l.y);else if("L"===l.type)s=Math.round(l.x-i),a=Math.round(l.y-r),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rlineto",type:"OP",value:5}),i=Math.round(l.x),r=Math.round(l.y);else if("C"===l.type){var h=Math.round(l.x1-i),d=Math.round(l.y1-r),p=Math.round(l.x2-l.x1),f=Math.round(l.y2-l.y1);s=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:h}),t.push({name:"dy1",type:"NUMBER",value:d}),t.push({name:"dx2",type:"NUMBER",value:p}),t.push({name:"dy2",type:"NUMBER",value:f}),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(l.x),r=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function k(e){for(var t=new I.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var i=e[n],r=T(i);t.charStrings.push({name:i.name,type:"CHARSTRING",value:r})}return t}function D(e,t){var n=new I.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=x(N,e,t),n}function F(e){var t=new I.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return t.privateDicts=[{name:"privateDict_0",type:"TABLE",value:e}],t}function M(e,t){for(var n=new I.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),i={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,charset:999,encoding:0,charStrings:999,"private":[0,999]},r={},o=[],s=1;s<e.length;s+=1)o.push(e[s].name);var a=[];n.header=w(),n.nameIndex=C([t.postScriptName]);var l=A(i,a);n.topDictIndex=S(l),n.globalSubrIndex=E(),n.charsets=$(o,a),n.charStringsIndex=k(e);var u=D(r,a);n.privateDictIndex=F(u),n.stringIndex=_(a);var c=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=c,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i["private"][1]=i.charStrings+n.charStringsIndex.sizeOf(),l=A(i,a),n.topDictIndex=S(l),n}var R=e("../encoding"),L=e("../glyph"),P=e("../parse"),O=e("../path"),I=e("../table"),B=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],N=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];n.parse=y,n.make=M},{"../encoding":3,"../glyph":5,"../parse":7,"../path":8,"../table":9}],11:[function(e,t,n){"use strict";function i(e,t){var n,i={};i.version=l.getUShort(e,t),a.argument(0===i.version,"cmap table version should be 0."),i.numTables=l.getUShort(e,t+2);var r=-1;for(n=0;n<i.numTables;n+=1){var o=l.getUShort(e,t+4+8*n),s=l.getUShort(e,t+4+8*n+2);if(3===o&&(1===s||0===s)){r=l.getULong(e,t+4+8*n+4);break}}if(-1===r)return null;var u=new l.Parser(e,t+r);i.format=u.parseUShort(),a.argument(4===i.format,"Only format 4 cmap tables are supported."),i.length=u.parseUShort(),i.language=u.parseUShort();var c;i.segCount=c=u.parseUShort()>>1,u.skip("uShort",3),i.glyphIndexMap={};var h=new l.Parser(e,t+r+14),d=new l.Parser(e,t+r+16+2*c),p=new l.Parser(e,t+r+16+4*c),f=new l.Parser(e,t+r+16+6*c),g=t+r+16+8*c;for(n=0;c-1>n;n+=1)for(var m,v=h.parseUShort(),y=d.parseUShort(),b=p.parseShort(),w=f.parseUShort(),C=y;v>=C;C+=1)0!==w?(g=f.offset+f.relativeOffset-2,g+=w,g+=2*(C-y),m=l.getUShort(e,g),0!==m&&(m=65535&m+b)):m=65535&C+b,i.glyphIndexMap[C]=m;return i}function r(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0})}function o(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function s(e){var t,n=new u.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(n.segments=[],t=0;t<e.length;t+=1){for(var i=e[t],s=0;s<i.unicodes.length;s+=1)r(n,i.unicodes[s],t);n.segments=n.segments.sort(function(e,t){return e.start-t.start})}o(n);var a;a=n.segments.length,n.segCountX2=2*a,n.searchRange=2*Math.pow(2,Math.floor(Math.log(a)/Math.log(2))),n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange;var l=[],c=[],h=[],d=[],p=[];for(t=0;a>t;t+=1){var f=n.segments[t];l=l.concat({name:"end_"+t,type:"USHORT",value:f.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:f.start}),h=h.concat({name:"idDelta_"+t,type:"SHORT",value:f.delta}),d=d.concat({name:"idRangeOffset_"+t,type:"USHORT",value:f.offset}),void 0!==f.glyphId&&(p=p.concat({name:"glyph_"+t,type:"USHORT",value:f.glyphId}))}return n.fields=n.fields.concat(l),n.fields.push({name:"reservedPad",type:"USHORT",value:0}),n.fields=n.fields.concat(c),n.fields=n.fields.concat(h),n.fields=n.fields.concat(d),n.fields=n.fields.concat(p),n.length=14+2*l.length+2+2*c.length+2*h.length+2*d.length+2*p.length,n}var a=e("../check"),l=e("../parse"),u=e("../table");n.parse=i,n.make=s},{"../check":1,"../parse":7,"../table":9}],12:[function(e,t,n){"use strict";function i(e,t,n,i,r){var o;return(t&i)>0?(o=e.parseByte(),0===(t&r)&&(o=-o),o=n+o):o=(t&r)>0?n:n+e.parseShort(),o}function r(e,t,n,r){var o=new h.Parser(e,t),s=new c.Glyph({font:r,index:n});s.numberOfContours=o.parseShort(),s.xMin=o.parseShort(),s.yMin=o.parseShort(),s.xMax=o.parseShort(),s.yMax=o.parseShort();var a,l;if(s.numberOfContours>0){var d,p=s.endPointIndices=[];for(d=0;d<s.numberOfContours;d+=1)p.push(o.parseUShort());for(s.instructionLength=o.parseUShort(),s.instructions=[],d=0;d<s.instructionLength;d+=1)s.instructions.push(o.parseByte());var f=p[p.length-1]+1;for(a=[],d=0;f>d;d+=1)if(l=o.parseByte(),a.push(l),(8&l)>0)for(var g=o.parseByte(),m=0;g>m;m+=1)a.push(l),d+=1;if(u.argument(a.length===f,"Bad flags."),p.length>0){var v,y=[];if(f>0){for(d=0;f>d;d+=1)l=a[d],v={},v.onCurve=!!(1&l),v.lastPointOfContour=p.indexOf(d)>=0,y.push(v);var b=0;for(d=0;f>d;d+=1)l=a[d],v=y[d],v.x=i(o,l,b,2,16),b=v.x;var w=0;for(d=0;f>d;d+=1)l=a[d],v=y[d],v.y=i(o,l,w,4,32),w=v.y}s.points=y}else s.points=[]}else if(0===s.numberOfContours)s.points=[];else{s.isComposite=!0,s.points=[],s.components=[];for(var C=!0;C;){a=o.parseUShort();var x={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&a)>0?(x.dx=o.parseShort(),x.dy=o.parseShort()):(x.dx=o.parseChar(),x.dy=o.parseChar()),(8&a)>0?x.xScale=x.yScale=o.parseF2Dot14():(64&a)>0?(x.xScale=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()):(128&a)>0&&(x.xScale=o.parseF2Dot14(),x.scale01=o.parseF2Dot14(),x.scale10=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()),s.components.push(x),C=!!(32&a)}}return s}function o(e,t){for(var n=[],i=0;i<e.length;i+=1){var r=e[i],o={x:t.xScale*r.x+t.scale01*r.y+t.dx,y:t.scale10*r.x+t.yScale*r.y+t.dy,onCurve:r.onCurve,lastPointOfContour:r.lastPointOfContour};n.push(o)}return n}function s(e){for(var t=[],n=[],i=0;i<e.length;i+=1){var r=e[i];n.push(r),r.lastPointOfContour&&(t.push(n),n=[])}return u.argument(0===n.length,"There are still points left in the current contour."),t}function a(e){var t=new d.Path;if(!e)return t;for(var n=s(e),i=0;i<n.length;i+=1){var r,o,a=n[i],l=a[0],u=a[a.length-1];l.onCurve?(r=null,o=!0):(l=u.onCurve?u:{x:(l.x+u.x)/2,y:(l.y+u.y)/2},r=l,o=!1),t.moveTo(l.x,l.y);for(var c=o?1:0;c<a.length;c+=1){var h=a[c],p=0===c?l:a[c-1];if(p.onCurve&&h.onCurve)t.lineTo(h.x,h.y);else if(p.onCurve&&!h.onCurve)r=h;else if(p.onCurve||h.onCurve){if(p.onCurve||!h.onCurve)throw new Error("Invalid state.");t.quadraticCurveTo(r.x,r.y,h.x,h.y),r=null}else{var f={x:(p.x+h.x)/2,y:(p.y+h.y)/2};t.quadraticCurveTo(p.x,p.y,f.x,f.y),r=h}}l!==u&&(r?t.quadraticCurveTo(r.x,r.y,l.x,l.y):t.lineTo(l.x,l.y))}return t.closePath(),t}function l(e,t,n,i){var s,l=[];for(s=0;s<n.length-1;s+=1){var u=n[s],h=n[s+1];l.push(u!==h?r(e,t+u,s,i):new c.Glyph({font:i,index:s}))}for(s=0;s<l.length;s+=1){var d=l[s];if(d.isComposite)for(var p=0;p<d.components.length;p+=1){var f=d.components[p],g=l[f.glyphIndex];if(g.points){var m=o(g.points,f);d.points=d.points.concat(m)}}d.path=a(d.points)}return l}var u=e("../check"),c=e("../glyph"),h=e("../parse"),d=e("../path");
n.parse=l},{"../check":1,"../glyph":5,"../parse":7,"../path":8}],13:[function(e,t,n){"use strict";function i(e,t){for(var n=new c.Parser(e,t),i=n.parseUShort(),r=[],o=0;i>o;o++)r[n.parseTag()]={offset:n.parseUShort()};return r}function r(e,t){var n=new c.Parser(e,t),i=n.parseUShort(),r=n.parseUShort();if(1===i)return n.parseUShortList(r);if(2===i){for(var o=[];r--;)for(var s=n.parseUShort(),a=n.parseUShort(),l=n.parseUShort(),u=s;a>=u;u++)o[l++]=u;return o}}function o(e,t){var n=new c.Parser(e,t),i=n.parseUShort();if(1===i){var r=n.parseUShort(),o=n.parseUShort(),s=n.parseUShortList(o);return function(e){return s[e-r]||0}}if(2===i){for(var a=n.parseUShort(),l=[],u=[],h=[],d=0;a>d;d++)l[d]=n.parseUShort(),u[d]=n.parseUShort(),h[d]=n.parseUShort();return function(e){for(var t=0,n=l.length-1;n>t;){var i=t+n+1>>1;e<l[i]?n=i-1:t=i}return l[t]<=e&&e<=u[t]?h[t]||0:0}}}function s(e,t){var n,i,s=new c.Parser(e,t),a=s.parseUShort(),l=s.parseUShort(),u=r(e,t+l),h=s.parseUShort(),d=s.parseUShort();if(4===h&&0===d){var p={};if(1===a){for(var f=s.parseUShort(),g=[],m=s.parseOffset16List(f),v=0;f>v;v++){var y=m[v],b=p[y];if(!b){b={},s.relativeOffset=y;for(var w=s.parseUShort();w--;){var C=s.parseUShort();h&&(n=s.parseShort()),d&&(i=s.parseShort()),b[C]=n}}g[u[v]]=b}return function(e,t){var n=g[e];return n?n[t]:void 0}}if(2===a){for(var x=s.parseUShort(),A=s.parseUShort(),S=s.parseUShort(),_=s.parseUShort(),E=o(e,t+x),$=o(e,t+A),T=[],k=0;S>k;k++)for(var D=T[k]=[],F=0;_>F;F++)h&&(n=s.parseShort()),d&&(i=s.parseShort()),D[F]=n;var M={};for(k=0;k<u.length;k++)M[u[k]]=1;return function(e,t){if(M[e]){var n=E(e),i=$(t),r=T[n];return r?r[i]:void 0}}}}}function a(e,t){var n=new c.Parser(e,t),i=n.parseUShort(),r=n.parseUShort(),o=16&r,a=n.parseUShort(),l=n.parseOffset16List(a),u={lookupType:i,lookupFlag:r,markFilteringSet:o?n.parseUShort():-1};if(2===i){for(var h=[],d=0;a>d;d++)h.push(s(e,t+l[d]));u.getKerningValue=function(e,t){for(var n=h.length;n--;){var i=h[n](e,t);if(void 0!==i)return i}return 0}}return u}function l(e,t,n){var r=new c.Parser(e,t),o=r.parseFixed();u.argument(1===o,"Unsupported GPOS table version."),i(e,t+r.parseUShort()),i(e,t+r.parseUShort());var s=r.parseUShort();r.relativeOffset=s;for(var l=r.parseUShort(),h=r.parseOffset16List(l),d=t+s,p=0;l>p;p++){var f=a(e,d+h[p]);2!==f.lookupType||n.getGposKerningValue||(n.getGposKerningValue=f.getKerningValue)}}var u=e("../check"),c=e("../parse");n.parse=l},{"../check":1,"../parse":7}],14:[function(e,t,n){"use strict";function i(e,t){var n={},i=new s.Parser(e,t);return n.version=i.parseVersion(),n.fontRevision=Math.round(1e3*i.parseFixed())/1e3,n.checkSumAdjustment=i.parseULong(),n.magicNumber=i.parseULong(),o.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=i.parseUShort(),n.unitsPerEm=i.parseUShort(),n.created=i.parseLongDateTime(),n.modified=i.parseLongDateTime(),n.xMin=i.parseShort(),n.yMin=i.parseShort(),n.xMax=i.parseShort(),n.yMax=i.parseShort(),n.macStyle=i.parseUShort(),n.lowestRecPPEM=i.parseUShort(),n.fontDirectionHint=i.parseShort(),n.indexToLocFormat=i.parseShort(),n.glyphDataFormat=i.parseShort(),n}function r(e){return new a.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var o=e("../check"),s=e("../parse"),a=e("../table");n.parse=i,n.make=r},{"../check":1,"../parse":7,"../table":9}],15:[function(e,t,n){"use strict";function i(e,t){var n={},i=new o.Parser(e,t);return n.version=i.parseVersion(),n.ascender=i.parseShort(),n.descender=i.parseShort(),n.lineGap=i.parseShort(),n.advanceWidthMax=i.parseUShort(),n.minLeftSideBearing=i.parseShort(),n.minRightSideBearing=i.parseShort(),n.xMaxExtent=i.parseShort(),n.caretSlopeRise=i.parseShort(),n.caretSlopeRun=i.parseShort(),n.caretOffset=i.parseShort(),i.relativeOffset+=8,n.metricDataFormat=i.parseShort(),n.numberOfHMetrics=i.parseUShort(),n}function r(e){return new s.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var o=e("../parse"),s=e("../table");n.parse=i,n.make=r},{"../parse":7,"../table":9}],16:[function(e,t,n){"use strict";function i(e,t,n,i,r){for(var s,a,l=new o.Parser(e,t),u=0;i>u;u+=1){n>u&&(s=l.parseUShort(),a=l.parseShort());var c=r[u];c.advanceWidth=s,c.leftSideBearing=a}}function r(e){for(var t=new s.Table("hmtx",[]),n=0;n<e.length;n+=1){var i=e[n],r=i.advanceWidth||0,o=i.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:r}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return t}var o=e("../parse"),s=e("../table");n.parse=i,n.make=r},{"../parse":7,"../table":9}],17:[function(e,t,n){"use strict";function i(e,t){var n={},i=new o.Parser(e,t),s=i.parseUShort();r.argument(0===s,"Unsupported kern table version."),i.skip("uShort",1);var a=i.parseUShort();r.argument(0===a,"Unsupported kern sub-table version."),i.skip("uShort",2);var l=i.parseUShort();i.skip("uShort",3);for(var u=0;l>u;u+=1){var c=i.parseUShort(),h=i.parseUShort(),d=i.parseShort();n[c+","+h]=d}return n}var r=e("../check"),o=e("../parse");n.parse=i},{"../check":1,"../parse":7}],18:[function(e,t,n){"use strict";function i(e,t,n,i){for(var o=new r.Parser(e,t),s=i?o.parseUShort:o.parseULong,a=[],l=0;n+1>l;l+=1){var u=s.call(o);i&&(u*=2),a.push(u)}return a}var r=e("../parse");n.parse=i},{"../parse":7}],19:[function(e,t,n){"use strict";function i(e,t){var n={},i=new o.Parser(e,t);return n.version=i.parseVersion(),n.numGlyphs=i.parseUShort(),1===n.version&&(n.maxPoints=i.parseUShort(),n.maxContours=i.parseUShort(),n.maxCompositePoints=i.parseUShort(),n.maxCompositeContours=i.parseUShort(),n.maxZones=i.parseUShort(),n.maxTwilightPoints=i.parseUShort(),n.maxStorage=i.parseUShort(),n.maxFunctionDefs=i.parseUShort(),n.maxInstructionDefs=i.parseUShort(),n.maxStackElements=i.parseUShort(),n.maxSizeOfInstructions=i.parseUShort(),n.maxComponentElements=i.parseUShort(),n.maxComponentDepth=i.parseUShort()),n}function r(e){return new s.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var o=e("../parse"),s=e("../table");n.parse=i,n.make=r},{"../parse":7,"../table":9}],20:[function(e,t,n){"use strict";function i(e,t){var n={},i=new u.Parser(e,t);n.format=i.parseUShort();for(var r=i.parseUShort(),o=i.offset+i.parseUShort(),s=0,a=0;r>a;a++){var l=i.parseUShort(),c=i.parseUShort(),d=i.parseUShort(),p=i.parseUShort(),f=h[p],g=i.parseUShort(),m=i.parseUShort();if(3===l&&1===c&&1033===d){for(var v=[],y=g/2,b=0;y>b;b++,m+=2)v[b]=u.getShort(e,o+m);var w=String.fromCharCode.apply(null,v);f?n[f]=w:(s++,n["unknown"+s]=w)}}return 1===n.format&&(n.langTagCount=i.parseUShort()),n}function r(e,t,n,i,r,o){return new c.Table("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:r},{name:"offset",type:"USHORT",value:o}])}function o(e,t,n,i){var o=l.STRING(n);return e.records.push(r(1,0,0,t,o.length,i)),e.strings.push(o),i+=o.length}function s(e,t,n,i){var o=l.UTF16(n);return e.records.push(r(3,1,1033,t,o.length,i)),e.strings.push(o),i+=o.length}function a(e){var t=new c.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:0},{name:"stringOffset",type:"USHORT",value:0}]);t.records=[],t.strings=[];var n,i,r=0;for(n=0;n<h.length;n+=1)void 0!==e[h[n]]&&(i=e[h[n]],r=o(t,n,i,r));for(n=0;n<h.length;n+=1)void 0!==e[h[n]]&&(i=e[h[n]],r=s(t,n,i,r));for(t.count=t.records.length,t.stringOffset=6+12*t.count,n=0;n<t.records.length;n+=1)t.fields.push({name:"record_"+n,type:"TABLE",value:t.records[n]});for(n=0;n<t.strings.length;n+=1)t.fields.push({name:"string_"+n,type:"LITERAL",value:t.strings[n]});return t}var l=e("../types").encode,u=e("../parse"),c=e("../table"),h=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"];n.parse=i,n.make=a},{"../parse":7,"../table":9,"../types":24}],21:[function(e,t,n){"use strict";function i(e){for(var t=0;t<l.length;t+=1){var n=l[t];if(e>=n.begin&&e<n.end)return t}return-1}function r(e,t){var n={},i=new s.Parser(e,t);n.version=i.parseUShort(),n.xAvgCharWidth=i.parseShort(),n.usWeightClass=i.parseUShort(),n.usWidthClass=i.parseUShort(),n.fsType=i.parseUShort(),n.ySubscriptXSize=i.parseShort(),n.ySubscriptYSize=i.parseShort(),n.ySubscriptXOffset=i.parseShort(),n.ySubscriptYOffset=i.parseShort(),n.ySuperscriptXSize=i.parseShort(),n.ySuperscriptYSize=i.parseShort(),n.ySuperscriptXOffset=i.parseShort(),n.ySuperscriptYOffset=i.parseShort(),n.yStrikeoutSize=i.parseShort(),n.yStrikeoutPosition=i.parseShort(),n.sFamilyClass=i.parseShort(),n.panose=[];for(var r=0;10>r;r++)n.panose[r]=i.parseByte();return n.ulUnicodeRange1=i.parseULong(),n.ulUnicodeRange2=i.parseULong(),n.ulUnicodeRange3=i.parseULong(),n.ulUnicodeRange4=i.parseULong(),n.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),n.fsSelection=i.parseUShort(),n.usFirstCharIndex=i.parseUShort(),n.usLastCharIndex=i.parseUShort(),n.sTypoAscender=i.parseShort(),n.sTypoDescender=i.parseShort(),n.sTypoLineGap=i.parseShort(),n.usWinAscent=i.parseUShort(),n.usWinDescent=i.parseUShort(),n.version>=1&&(n.ulCodePageRange1=i.parseULong(),n.ulCodePageRange2=i.parseULong()),n.version>=2&&(n.sxHeight=i.parseShort(),n.sCapHeight=i.parseShort(),n.usDefaultChar=i.parseUShort(),n.usBreakChar=i.parseUShort(),n.usMaxContent=i.parseUShort()),n}function o(e){return new a.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var s=e("../parse"),a=e("../table"),l=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];n.unicodeRanges=l,n.getUnicodeRange=i,n.parse=r,n.make=o},{"../parse":7,"../table":9}],22:[function(e,t,n){"use strict";function i(e,t){var n,i={},r=new s.Parser(e,t);switch(i.version=r.parseVersion(),i.italicAngle=r.parseFixed(),i.underlinePosition=r.parseShort(),i.underlineThickness=r.parseShort(),i.isFixedPitch=r.parseULong(),i.minMemType42=r.parseULong(),i.maxMemType42=r.parseULong(),i.minMemType1=r.parseULong(),i.maxMemType1=r.parseULong(),i.version){case 1:i.names=o.standardNames.slice();break;case 2:for(i.numberOfGlyphs=r.parseUShort(),i.glyphNameIndex=new Array(i.numberOfGlyphs),n=0;n<i.numberOfGlyphs;n++)i.glyphNameIndex[n]=r.parseUShort();for(i.names=[],n=0;n<i.numberOfGlyphs;n++)if(i.glyphNameIndex[n]>=o.standardNames.length){var a=r.parseChar();i.names.push(r.parseString(a))}break;case 2.5:for(i.numberOfGlyphs=r.parseUShort(),i.offset=new Array(i.numberOfGlyphs),n=0;n<i.numberOfGlyphs;n++)i.offset[n]=r.parseChar()}return i}function r(){return new a.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var o=e("../encoding"),s=e("../parse"),a=e("../table");n.parse=i,n.make=r},{"../encoding":3,"../parse":7,"../table":9}],23:[function(e,t,n){"use strict";function i(e){return 0|Math.log(e)/Math.log(2)}function r(e){for(;0!==e.length%4;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function o(e,t,n,i){return new h.Table("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==i?i:0}])}function s(e){var t=new h.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,i(t.numTables));t.searchRange=16*n,t.entrySelector=i(n),t.rangeShift=16*t.numTables-t.searchRange;for(var s=[],a=[],l=t.sizeOf()+o().sizeOf()*t.numTables;0!==l%4;)l+=1,a.push({name:"padding",type:"BYTE",value:0});for(var u=0;u<e.length;u+=1){var d=e[u];c.argument(4===d.tableName.length,"Table name"+d.tableName+" is invalid.");var p=d.sizeOf(),f=o(d.tableName,r(d.encode()),l,p);for(s.push({name:f.tag+" Table Record",type:"TABLE",value:f}),a.push({name:d.tableName+" table",type:"TABLE",value:d}),l+=p,c.argument(!isNaN(l),"Something went wrong calculating the offset.");0!==l%4;)l+=1,a.push({name:"padding",type:"BYTE",value:0})}return s.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(s),t.fields=t.fields.concat(a),t}function a(e,t,n){for(var i=0;i<t.length;i+=1){var r=e.charToGlyphIndex(t[i]);if(r>0){var o=e.glyphs[r];return o.getMetrics()}}return n}function l(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}function u(e){for(var t=[],n=[],i=[],o=[],u=[],c=[],h=[],C=null,x=0,A=0,S=0,_=0,E=0,$=0;$<e.glyphs.length;$+=1){var T=e.glyphs[$],k=0|T.unicode;(C>k||null===C)&&(C=k),k>x&&(x=k);var D=b.getUnicodeRange(k);if(32>D)A|=1<<D;else if(64>D)S|=1<<D-32;else if(96>D)_|=1<<D-64;else{if(!(123>D))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");E|=1<<D-96}if(".notdef"!==T.name){var F=T.getMetrics();t.push(F.xMin),n.push(F.yMin),i.push(F.xMax),o.push(F.yMax),c.push(F.leftSideBearing),h.push(F.rightSideBearing),u.push(T.advanceWidth)}}var M={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,u),advanceWidthAvg:l(u),minLeftSideBearing:Math.min.apply(null,c),maxLeftSideBearing:Math.max.apply(null,c),minRightSideBearing:Math.min.apply(null,h)};M.ascender=void 0!==e.ascender?e.ascender:M.yMax,M.descender=void 0!==e.descender?e.descender:M.yMin;var R=f.make({unitsPerEm:e.unitsPerEm,xMin:M.xMin,yMin:M.yMin,xMax:M.xMax,yMax:M.yMax}),L=g.make({ascender:M.ascender,descender:M.descender,advanceWidthMax:M.advanceWidthMax,minLeftSideBearing:M.minLeftSideBearing,minRightSideBearing:M.minRightSideBearing,xMaxExtent:M.maxLeftSideBearing+(M.xMax-M.xMin),numberOfHMetrics:e.glyphs.length}),P=v.make(e.glyphs.length),O=b.make({xAvgCharWidth:Math.round(M.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:C,usLastCharIndex:x,ulUnicodeRange1:A,ulUnicodeRange2:S,ulUnicodeRange3:_,ulUnicodeRange4:E,sTypoAscender:M.ascender,sTypoDescender:M.descender,sTypoLineGap:0,usWinAscent:M.ascender,usWinDescent:-M.descender,sxHeight:a(e,"xyvw",{yMax:0}).yMax,sCapHeight:a(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",M).yMax,usBreakChar:e.hasChar(" ")?32:0}),I=m.make(e.glyphs),B=d.make(e.glyphs),N=e.familyName+" "+e.styleName,G=e.familyName.replace(/\s/g,"")+"-"+e.styleName,H=y.make({copyright:e.copyright,fontFamily:e.familyName,fontSubfamily:e.styleName,uniqueID:e.manufacturer+":"+N,fullName:N,version:e.version,postScriptName:G,trademark:e.trademark,manufacturer:e.manufacturer,designer:e.designer,description:e.description,manufacturerURL:e.manufacturerURL,designerURL:e.designerURL,license:e.license,licenseURL:e.licenseURL,preferredFamily:e.familyName,preferredSubfamily:e.styleName}),V=w.make(),U=p.make(e.glyphs,{version:e.version,fullName:N,familyName:e.familyName,weightName:e.styleName,postScriptName:G}),z=[R,L,P,O,H,B,V,U,I],W=s(z),j=W.encode(),q=r(j),K=W.fields,Y=!1;for($=0;$<K.length;$+=1)if("head table"===K[$].name){K[$].value.checkSumAdjustment=2981146554-q,Y=!0;break}if(!Y)throw new Error("Could not find head table with checkSum to adjust.");return W}var c=e("../check"),h=e("../table"),d=e("./cmap"),p=e("./cff"),f=e("./head"),g=e("./hhea"),m=e("./hmtx"),v=e("./maxp"),y=e("./name"),b=e("./os2"),w=e("./post");n.computeCheckSum=r,n.make=s,n.fontToTable=u},{"../check":1,"../table":9,"./cff":10,"./cmap":11,"./head":14,"./hhea":15,"./hmtx":16,"./maxp":19,"./name":20,"./os2":21,"./post":22}],24:[function(e,t,n){"use strict";function i(e){return function(){return e}}var r=e("./check"),o=32768,s=2147483648,a={},l={},u={};l.BYTE=function(e){return r.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),[e]},u.BYTE=i(1),l.CHAR=function(e){return[e.charCodeAt(0)]},u.BYTE=i(1),l.CHARARRAY=function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(e.charCodeAt(n));return t},u.CHARARRAY=function(e){return e.length},l.USHORT=function(e){return[255&e>>8,255&e]},u.USHORT=i(2),l.SHORT=function(e){return e>=o&&(e=-(2*o-e)),[255&e>>8,255&e]},u.SHORT=i(2),l.UINT24=function(e){return[255&e>>16,255&e>>8,255&e]},u.UINT24=i(3),l.ULONG=function(e){return[255&e>>24,255&e>>16,255&e>>8,255&e]},u.ULONG=i(4),l.LONG=function(e){return e>=s&&(e=-(2*s-e)),[255&e>>24,255&e>>16,255&e>>8,255&e]},u.LONG=i(4),l.FIXED=l.ULONG,u.FIXED=u.ULONG,l.FWORD=l.SHORT,u.FWORD=u.SHORT,l.UFWORD=l.USHORT,u.UFWORD=u.USHORT,l.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},u.LONGDATETIME=i(8),l.TAG=function(e){return r.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},u.TAG=i(4),l.Card8=l.BYTE,u.Card8=u.BYTE,l.Card16=l.USHORT,u.Card16=u.USHORT,l.OffSize=l.BYTE,u.OffSize=u.BYTE,l.SID=l.USHORT,u.SID=u.USHORT,l.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?l.NUMBER16(e):l.NUMBER32(e)},u.NUMBER=function(e){return l.NUMBER(e).length},l.NUMBER16=function(e){return[28,255&e>>8,255&e]},u.NUMBER16=i(2),l.NUMBER32=function(e){return[29,255&e>>24,255&e>>16,255&e>>8,255&e]},u.NUMBER32=i(4),l.NAME=l.CHARARRAY,u.NAME=u.CHARARRAY,l.STRING=l.CHARARRAY,u.STRING=u.CHARARRAY,l.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(0),t.push(e.charCodeAt(n));return t},u.UTF16=function(e){return 2*e.length},l.INDEX=function(e){var t,n=1,i=[n],r=[],o=0;for(t=0;t<e.length;t+=1){var s=l.OBJECT(e[t]);Array.prototype.push.apply(r,s),o+=s.length,n+=s.length,i.push(n)}if(0===r.length)return[0,0];var a=[],u=0|1+Math.floor(Math.log(o)/Math.log(2))/8,c=[void 0,l.BYTE,l.USHORT,l.UINT24,l.ULONG][u];for(t=0;t<i.length;t+=1){var h=c(i[t]);Array.prototype.push.apply(a,h)}return Array.prototype.concat(l.Card16(e.length),l.OffSize(u),a,r)},u.INDEX=function(e){return l.INDEX(e).length},l.DICT=function(e){for(var t=[],n=Object.keys(e),i=n.length,r=0;i>r;r+=1){var o=parseInt(n[r],0),s=e[o];t=t.concat(l.OPERAND(s.value,s.type)),t=t.concat(l.OPERATOR(o))}return t},u.DICT=function(e){return l.DICT(e).length},l.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200]},l.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var i=0;i<t.length;i+=1)r.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(l.OPERAND(e[i],t[i]));else n=n.concat("SID"===t?l.NUMBER(e):"offset"===t?l.NUMBER32(e):l.NUMBER(e));return n},l.OP=l.BYTE,u.OP=u.BYTE;var c="function"==typeof WeakMap&&new WeakMap;l.CHARSTRING=function(e){if(c&&c.has(e))return c.get(e);for(var t=[],n=e.length,i=0;n>i;i+=1){var r=e[i];t=t.concat(l[r.type](r.value))}return c&&c.set(e,t),t},u.CHARSTRING=function(e){return l.CHARSTRING(e).length},l.OBJECT=function(e){var t=l[e.type];return r.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},l.TABLE=function(e){for(var t=[],n=e.fields.length,i=0;n>i;i+=1){var o=e.fields[i],s=l[o.type];r.argument(void 0!==s,"No encoding function for field type "+o.type);var a=e[o.name];void 0===a&&(a=o.value);var u=s(a);t=t.concat(u)}return t},l.LITERAL=function(e){return e},u.LITERAL=function(e){return e.length},n.decode=a,n.encode=l,n.sizeOf=u},{"./check":1}]},{},[6])(6)}),p5.prototype._validateParameters=function(){},p5.prototype._friendlyFileLoadError=function(){},function(e,t){"function"==typeof define&&define.amd?define("p5.dom",["p5"],function(e){t(e)}):"object"==typeof exports?t(require("../p5")):t(e.p5)}(this,function(e){function t(t){return"VIDEO"===t.tagName||"AUDIO"===t.tagName?new e.MediaElement(t):new e.Element(t)}function n(t,n,i){var r=n._userNode?n._userNode:document.body;r.appendChild(t);var o=i?new e.MediaElement(t):new e.Element(t);return n._elements.push(o),o}function i(e,t,i,r){var o=document.createElement(t);"string"==typeof i&&(i=[i]);for(var s=0;s<i.length;s++){var a=document.createElement("source");a.src=i[s],o.appendChild(a)}"undefined"!=typeof r&&o.addEventListener("canplaythrough",function(){r()});var l=n(o,e,!0);return l.loadedmetadata=!1,o.addEventListener("loadedmetadata",function(){l.width=o.videoWidth,l.height=o.videoHeight,l.loadedmetadata=!0}),l}e.prototype.getElement=function(e){var n=document.getElementById(e);return n?t(n):null},e.prototype.getElements=function(e){var n=[],i=document.getElementsByClassName(e);if(i)for(var r=0;r<i.length;r++){var o=t(i[r]);n.push(o)}return n},e.prototype.removeElements=function(){for(var e=0;e<this._elements.length;e++)this._elements[e].elt instanceof HTMLCanvasElement||this._elements[e].remove()};var r=["div","p","span"];r.forEach(function(t){var i="create"+t.charAt(0).toUpperCase()+t.slice(1);e.prototype[i]=function(e){var i=document.createElement(t);return i.innerHTML=void 0===typeof e?"":e,n(i,this)}}),e.prototype.createImg=function(e,t){var i=document.createElement("img");return i.src=e,"undefined"!=typeof t&&(i.alt=t),n(i,this)},e.prototype.createA=function(e,t,i){var r=document.createElement("a");return r.href=e,r.innerHTML=t,i&&(r.target=i),n(r,this)},e.prototype.createSlider=function(e,t,i,r){var o=document.createElement("input");return o.type="range",o.min=e,o.max=t,r&&(o.step=r),i&&(o.value=i),n(o,this)},e.prototype.createButton=function(e,t){var i=document.createElement("button");return i.innerHTML=e,i.value=t,t&&(i.value=t),n(i,this)},e.prototype.createInput=function(e){var t=document.createElement("input");return t.type="text",e&&(t.value=e),n(t,this)},e.prototype.createFileInput=function(t,i){function r(n){function i(n){var i=new e.File(n);return function(e){i.data=e.target.result,t(i)}}for(var r=n.target.files,o=0;o<r.length;o++){var s=r[o],a=new FileReader;a.onload=i(s),"text"===s.type?a.readAsText(s):a.readAsDataURL(s)}}if(window.File&&window.FileReader&&window.FileList&&window.Blob){var o=document.createElement("input");return o.type="file",i&&(o.multiple="multiple"),o.addEventListener("change",r,!1),n(o,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},e.prototype.createVideo=function(e,t){return i(this,"video",e,t)},e.prototype.createAudio=function(e,t){return i(this,"audio",e,t)},e.prototype.VIDEO="video",e.prototype.AUDIO="audio",navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,e.prototype.createCapture=function(){for(var t,i,r=!0,o=!0,s=0;s<arguments.length;s++)arguments[s]===e.prototype.VIDEO?o=!1:arguments[s]===e.prototype.AUDIO?r=!1:"object"==typeof arguments[s]?t=arguments[s]:"function"==typeof arguments[s]&&(i=arguments[s]);if(!navigator.getUserMedia)throw"getUserMedia not supported in this browser";var a=document.createElement("video");t||(t={video:r,audio:o}),navigator.getUserMedia(t,function(e){a.src=window.URL.createObjectURL(e),a.play(),i&&i(e)},function(e){console.log(e)});var l=n(a,this,!0);return l.loadedmetadata=!1,a.addEventListener("loadedmetadata",function(){l.width=a.videoWidth,l.height=a.videoHeight,l.loadedmetadata=!0}),l},e.prototype.createElement=function(e,t){var i=document.createElement(e);return"undefined"!=typeof t&&(i.innerHTML=t),n(i,this)},e.Element.prototype.addClass=function(e){return this.elt.className=this.elt.className?this.elt.className+" "+e:e,this},e.Element.prototype.removeClass=function(e){var t=new RegExp("(?:^|\\s)"+e+"(?!\\S)");return this.elt.className=this.elt.className.replace(t,""),this.elt.className=this.elt.className.replace(/^\s+|\s+$/g,""),this},e.Element.prototype.child=function(t){return"string"==typeof t?t=document.getElementById(t):t instanceof e.Element&&(t=t.elt),this.elt.appendChild(t),this},e.Element.prototype.html=function(e){return"undefined"!=typeof e?(this.elt.innerHTML=e,this):this.elt.innerHTML},e.Element.prototype.position=function(e,t){return this.elt.style.position="absolute",this.elt.getBoundingClientRect(),this.elt.style.left=e+"px",this.elt.style.top=t+"px",this},e.Element.prototype.style=function(e,t){if("undefined"==typeof t)for(var n=e.split(";"),i=0;i<n.length;i++){var r=n[i].split(":");r[0]&&r[1]&&(this.elt.style[r[0].trim()]=r[1].trim())}else this.elt.style[e]=t;return this},e.Element.prototype.attribute=function(e,t){return"undefined"==typeof t?this.elt.getAttribute(e):(this.elt.setAttribute(e,t),this)},e.Element.prototype.value=function(){return arguments.length>0?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},e.Element.prototype.show=function(){return this.elt.style.display="block",this},e.Element.prototype.hide=function(){return this.elt.style.display="none",this},e.Element.prototype.size=function(t,n){var i=t,r=n,o=e.prototype.AUTO;if(i!==o||r!==o){if(i===o?i=n*this.width/this.height:r===o&&(r=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){var s={},a=this.elt.getContext("2d");for(var l in a)s[l]=a[l];this.elt.setAttribute("width",i*this._pInst.pixelDensity),this.elt.setAttribute("height",r*this._pInst.pixelDensity),this.elt.setAttribute("style","width:"+i+"px !important; height:"+r+"px !important;"),this._pInst.scale(this._pInst.pixelDensity,this._pInst.pixelDensity);for(var l in s)this.elt.getContext("2d")[l]=s[l]}else this.elt.style.width=i+"px !important",this.elt.style.height=r+"px !important",this.elt.width=i,this.elt.height=r;this.elt.style.overflow="hidden",this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))
}return this},e.Element.prototype.remove=function(){for(var e in this._events)this.elt.removeEventListener(e,this._events[e]);this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt),delete this},e.MediaElement=function(t,n){e.Element.call(this,t,n),this._prevTime=0,this._cueIDCounter=0,this._cues=[]},e.MediaElement.prototype=Object.create(e.Element.prototype),e.MediaElement.prototype.play=function(){return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),this.elt.readyState>1?this.elt.play():(this.elt.load(),this.elt.play()),this},e.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},e.MediaElement.prototype.pause=function(){return this.elt.pause(),this},e.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},e.MediaElement.prototype.noLoop=function(){return this.elt.setAttribute("loop",!1),this},e.MediaElement.prototype.autoplay=function(e){return this.elt.setAttribute("autoplay",e),this},e.MediaElement.prototype.volume=function(e){return"undefined"==typeof e?this.elt.volume:(this.elt.volume=e,void 0)},e.MediaElement.prototype.time=function(e){return"undefined"==typeof e?this.elt.currentTime:(this.elt.currentTime=e,void 0)},e.MediaElement.prototype.duration=function(){return this.elt.duration},e.MediaElement.prototype.pixels=[],e.MediaElement.prototype.loadPixels=function(){return this.loadedmetadata&&(this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d")),this.drawingContext.drawImage(this.elt,0,0,this.width,this.height),e.prototype.loadPixels.call(this)),this},e.MediaElement.prototype.updatePixels=function(t,n,i,r){return this.loadedmetadata&&e.prototype.updatePixels.call(this,t,n,i,r),this},e.MediaElement.prototype.get=function(t,n,i,r){return this.loadedmetadata?e.prototype.get.call(this,t,n,i,r):[0,0,0,255]},e.MediaElement.prototype.set=function(t,n,i){this.loadedmetadata&&e.prototype.set.call(this,t,n,i)},e.MediaElement.prototype.connect=function(t){var n,i;if("function"==typeof e.prototype.getAudioContext)n=e.prototype.getAudioContext(),i=e.soundOut.input;else try{n=t.context,i=n.destination}catch(r){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=n.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(i)},e.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},e.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},e.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},e.MediaElement.prototype.addCue=function(e,t,n){var i=this._cueIDCounter++,r=new o(t,e,i,n);return this._cues.push(r),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),i},e.MediaElement.prototype.removeCue=function(e){for(var t=0;t<this._cues.length;t++){var n=this._cues[t];n.id===e&&this.cues.splice(t,1)}0===this._cues.length&&(this.elt.ontimeupdate=null)},e.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},e.MediaElement.prototype._onTimeUpdate=function(){for(var e=this.time(),t=0;t<this._cues.length;t++){var n=this._cues[t].time,i=this._cues[t].val;this._prevTime<n&&e>=n&&this._cues[t].callback(i)}this._prevTime=e};var o=function(e,t,n,i){this.callback=e,this.time=t,this.id=n,this.val=i};e.File=function(e,t){this.file=e,this._pInst=t;var n=e.type.split("/");this.type=n[0],this.subtype=n[1],this.name=e.name,this.size=e.size,this.data=void 0}}),!function(e,t){"function"==typeof define&&define.amd?define("p5.sound",["p5"],function(e){t(e)}):t("object"==typeof exports?require("../p5"):e.p5)}(this,function(e){var t;t=function(){"use strict";window.AudioContext=window.AudioContext||window.webkitAudioContext;var t=new window.AudioContext;e.prototype.getAudioContext=function(){return t},"function"!=typeof t.createGain&&(window.audioContext.createGain=window.audioContext.createGainNode),"function"!=typeof t.createDelay&&(window.audioContext.createDelay=window.audioContext.createDelayNode),"function"!=typeof window.AudioBufferSourceNode.prototype.start&&(window.AudioBufferSourceNode.prototype.start=window.AudioBufferSourceNode.prototype.noteGrainOn),"function"!=typeof window.AudioBufferSourceNode.prototype.stop&&(window.AudioBufferSourceNode.prototype.stop=window.AudioBufferSourceNode.prototype.noteOff),"function"!=typeof window.OscillatorNode.prototype.start&&(window.OscillatorNode.prototype.start=window.OscillatorNode.prototype.noteOn),"function"!=typeof window.OscillatorNode.prototype.stop&&(window.OscillatorNode.prototype.stop=window.OscillatorNode.prototype.noteOff),window.AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(window.AudioContext.prototype.createScriptProcessor=window.AudioContext.prototype.createJavaScriptNode),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=document.createElement("audio");e.prototype.isSupported=function(){return!!n.canPlayType};var i=function(){return!!n.canPlayType&&n.canPlayType('audio/ogg; codecs="vorbis"')},r=function(){return!!n.canPlayType&&n.canPlayType("audio/mpeg;")},o=function(){return!!n.canPlayType&&n.canPlayType('audio/wav; codecs="1"')},s=function(){return!!n.canPlayType&&(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/aac;"))},a=function(){return!!n.canPlayType&&n.canPlayType("audio/x-aiff;")};e.prototype.isFileSupported=function(e){switch(e.toLowerCase()){case"mp3":return r();case"wav":return o();case"ogg":return i();case"mp4":return s();case"aiff":return a();default:return!1}};var l=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;l&&window.addEventListener("touchstart",function(){var e=t.createBuffer(1,1,22050),n=t.createBufferSource();n.buffer=e,n.connect(t.destination),n.start(0)},!1)}();var n;n=function(){"use strict";var t=function(){var t=e.prototype.getAudioContext();this.input=t.createGain(),this.output=t.createGain(),this.limiter=t.createDynamicsCompressor(),this.limiter.threshold.value=0,this.limiter.ratio.value=100,this.audiocontext=t,this.output.disconnect(),this.inputSources=[],this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=t.createGain(),this.fftMeter=t.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]},n=new t;return e.prototype.getMasterVolume=function(){return n.output.gain.value},e.prototype.masterVolume=function(e,t,i){if("number"==typeof e){var t=t||0,i=i||0,r=n.audiocontext.currentTime,o=n.output.gain.value;n.output.gain.cancelScheduledValues(r+i),n.output.gain.linearRampToValueAtTime(o,r+i),n.output.gain.linearRampToValueAtTime(e,r+i+t)}else{if(!e)return n.output.gain;e.connect(n.output.gain)}},e.soundOut=n,e.soundOut._silentNode=n.audiocontext.createGain(),e.soundOut._silentNode.gain.value=0,e.soundOut._silentNode.connect(n.audiocontext.destination),n}(t);var i;i=function(){"use strict";var t=n;e.prototype.sampleRate=function(){return t.audiocontext.sampleRate},e.prototype.freqToMidi=function(e){var t=Math.log(e/440)/Math.log(2),n=Math.round(12*t)+57;return n},e.prototype.midiToFreq=function(e){return 440*Math.pow(2,(e-69)/12)},e.prototype.soundFormats=function(){t.extensions=[];for(var e=0;e<arguments.length;e++){if(arguments[e]=arguments[e].toLowerCase(),!(["mp3","wav","ogg","m4a","aac"].indexOf(arguments[e])>-1))throw arguments[e]+" is not a valid sound format!";t.extensions.push(arguments[e])}},e.prototype.disposeSound=function(){for(var e=0;e<t.soundArray.length;e++)t.soundArray[e].dispose()},e.prototype.registerMethod("remove",e.prototype.disposeSound),e.prototype._checkFileFormats=function(n){var i;if("string"==typeof n){i=n;var r=i.split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(r)>-1){var o=e.prototype.isFileSupported(r);if(o)i=i;else for(var s=i.split("."),a=s[s.length-1],l=0;l<t.extensions.length;l++){var u=t.extensions[l],o=e.prototype.isFileSupported(u);if(o){a="",2===s.length&&(a+=s[0]);for(var l=1;l<=s.length-2;l++){var c=s[l];a+="."+c}i=a+=".",i=i+=u;break}}}else for(var l=0;l<t.extensions.length;l++){var u=t.extensions[l],o=e.prototype.isFileSupported(u);if(o){i=i+"."+u;break}}}else if("object"==typeof n)for(var l=0;l<n.length;l++){var u=n[l].split(".").pop(),o=e.prototype.isFileSupported(u);if(o){i=n[l];break}}return i},e.prototype._mathChain=function(e,t,n,i,r){for(var o in e.mathOps)e.mathOps[o]instanceof r&&(e.mathOps[o].dispose(),n=o,n<e.mathOps.length-1&&(i=e.mathOps[o+1]));return e.mathOps[n-1].disconnect(),e.mathOps[n-1].connect(t),t.connect(i),e.mathOps[n]=t,e}}(n);var r;r=function(){"use strict";var t=n,i=t.audiocontext;e.Panner=function(e,t,n){this.input=i.createGain(),e.connect(this.input),this.left=i.createGain(),this.right=i.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",n>1?(this.splitter=i.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=i.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(t)},e.Panner.prototype.pan=function(e,t){var n=t||0,r=i.currentTime+n,o=(e+1)/2,s=Math.cos(o*Math.PI/2),a=Math.sin(o*Math.PI/2);this.left.gain.linearRampToValueAtTime(a,r),this.right.gain.linearRampToValueAtTime(s,r)},e.Panner.prototype.inputChannels=function(e){1===e?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):2===e&&(this.splitter=i.createChannelSplitter(2),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))},e.Panner.prototype.connect=function(e){this.output.connect(e)},e.Panner.prototype.disconnect=function(){this.output.disconnect()},e.Panner3D=function(e,t){var n=i.createPanner();return n.panningModel="HRTF",n.distanceModel="linear",n.setPosition(0,0,0),e.connect(n),n.connect(t),n.pan=function(e,t,i){n.setPosition(e,t,i)},n}}(n);var o;o=function(){"use strict";function t(e,t){for(var n={},i=e.length,r=0;i>r;r++){if(e[r]>t){var o=e[r],s=new c(o,r);n[r]=s,r+=6e3}r++}return n}function i(e){for(var t=[],n=Object.keys(e).sort(),i=0;i<n.length;i++)for(var r=0;10>r;r++){var o=e[n[i]],s=e[n[i+r]];if(o&&s){var a=o.sampleIndex,l=s.sampleIndex,u=l-a;u>0&&o.intervals.push(u);var c=t.some(function(e){return e.interval===u?(e.count++,e):void 0});c||t.push({interval:u,count:1})}}return t}function r(e,t){var n=[];return e.forEach(function(e){try{var i=Math.abs(60/(e.interval/t));i=s(i);var r=n.some(function(t){return t.tempo===i?t.count+=e.count:void 0});if(!r){if(isNaN(i))return;n.push({tempo:Math.round(i),count:e.count})}}catch(o){throw o}}),n}function o(e,t,n,i){for(var r=[],o=Object.keys(e).sort(),a=0;a<o.length;a++)for(var l=o[a],u=e[l],c=0;c<u.intervals.length;c++){var h=Math.round(Math.abs(60/(u.intervals[c]/n)));h=s(h),Math.abs(h-t)<i&&r.push(u.sampleIndex/44100)}return r=r.filter(function(e,t,n){var i=n[t+1]-e;return i>.01?!0:void 0})}function s(e){if(isFinite(e)&&0!=e){for(;90>e;)e*=2;for(;e>180&&e>90;)e/=2;return e}}var a=n,l=a.audiocontext;e.SoundFile=function(t,n,i){if("undefined"!=typeof t){if("string"==typeof t||"string"==typeof t[0]){var r=e.prototype._checkFileFormats(t);this.url=r}else if("object"==typeof t&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";t.file&&(t=t.file),this.file=t}this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._lastPos=0,this._counterNode,this._scopeNode,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.gain=1,this.input=a.audiocontext.createGain(),this.output=a.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.amplitude=new e.Amplitude,this.output.connect(this.amplitude.input),this.panPosition=0,this.panner=new e.Panner(this.output,a.input,2),(this.url||this.file)&&this.load(n),a.soundArray.push(this),this.whileLoading="function"==typeof i?i:function(){}},e.prototype.registerPreloadMethod("loadSound"),e.prototype.loadSound=function(t,n,i){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var r=new e.SoundFile(t,n,i);return r},e.SoundFile.prototype.load=function(e){if(void 0!=this.url&&""!=this.url){var t=this,n=new XMLHttpRequest;n.addEventListener("progress",function(e){t._updateProgress(e)},!1),n.open("GET",this.url,!0),n.responseType="arraybuffer";var i=this;n.onload=function(){l.decodeAudioData(n.response,function(t){i.buffer=t,i.panner.inputChannels(t.numberOfChannels),e&&e(i)})},n.send()}else if(void 0!=this.file){var r=new FileReader,i=this;r.onload=function(){l.decodeAudioData(r.result,function(t){i.buffer=t,i.panner.inputChannels(t.numberOfChannels),e&&e(i)})},r.readAsArrayBuffer(this.file)}},e.SoundFile.prototype._updateProgress=function(e){if(e.lengthComputable){var t=Math.log(9.9*(e.loaded/e.total));this.whileLoading(t)}else console.log("size unknown")},e.SoundFile.prototype.isLoaded=function(){return this.buffer?!0:!1},e.SoundFile.prototype.play=function(e,t,n,i,r){var o,s,l=this,u=a.audiocontext.currentTime,e=e||0;if(0>e&&(e=0),e+=u,!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if(this._pauseTime=0,"restart"===this.mode&&this.buffer&&this.bufferSourceNode){var u=a.audiocontext.currentTime;this.bufferSourceNode.stop(e),this._counterNode.stop(e)}if(this.bufferSourceNode=this._initSourceNode(),this._counterNode=this._initCounterNode(),i){if(!(i>=0&&i<this.buffer.duration))throw"start time out of range";o=i}else o=0;r=r?r<=this.buffer.duration-o?r:this.buffer.duration:this.buffer.duration-o;var c=n||1;if(this.bufferSourceNode.connect(this.output),this.output.gain.value=c,t=t||Math.abs(this.playbackRate),this.bufferSourceNode.playbackRate.setValueAtTime(t,u),this._paused?(this.bufferSourceNode.start(e,this.pauseTime,r),this._counterNode.start(e,this.pauseTime,r)):(this.bufferSourceNode.start(e,o,r),this._counterNode.start(e,o,r)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1,this.bufferSourceNode.onended=function(){var e=this;this._playing=!1,setTimeout(function(){l.bufferSourceNodes.splice(e._arrayIndex,1),0===l.bufferSourceNodes.length&&(l._playing=!1)},1)},this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,this._looping===!0){var s=o+r;this.bufferSourceNode.loopStart=o,this.bufferSourceNode.loopEnd=s,this._counterNode.loopStart=o,this._counterNode.loopEnd=s}},e.SoundFile.prototype.playMode=function(e){var t=e.toLowerCase();if("restart"===t&&this.buffer&&this.bufferSourceNode)for(var n=0;n<this.bufferSourceNodes.length-1;n++){var i=a.audiocontext.currentTime;this.bufferSourceNodes[n].stop(i)}if("restart"!==t&&"sustain"!==t)throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=t},e.SoundFile.prototype.pause=function(e){var t=a.audiocontext.currentTime,e=e||0,n=e+t;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(n),this._counterNode.stop(n),this._paused=!0,this._playing=!1,this._pauseTime=this.currentTime()):this._pauseTime=0},e.SoundFile.prototype.loop=function(e,t,n,i,r){this._looping=!0,this.play(e,t,n,i,r)},e.SoundFile.prototype.setLoop=function(e){if(e===!0)this._looping=!0;else{if(e!==!1)throw"Error: setLoop accepts either true or false";this._looping=!1}this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)},e.SoundFile.prototype.isLooping=function(){return this.bufferSourceNode&&this._looping===!0&&this.isPlaying()===!0?!0:!1},e.SoundFile.prototype.isPlaying=function(){return this._playing},e.SoundFile.prototype.isPaused=function(){return this._paused},e.SoundFile.prototype.stop=function(e){var t=e||0;if("sustain"==this.mode)this.stopAll(t),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var n=a.audiocontext.currentTime,i=t||0;this.pauseTime=0,this.bufferSourceNode.stop(n+i),this._counterNode.stop(n+i),this._playing=!1,this._paused=!1}},e.SoundFile.prototype.stopAll=function(e){var t=a.audiocontext.currentTime,n=e||0;if(this.buffer&&this.bufferSourceNode){for(var i=0;i<this.bufferSourceNodes.length;i++)if(void 0!=typeof this.bufferSourceNodes[i])try{this.bufferSourceNodes[i].stop(t+n)}catch(r){}this._counterNode.stop(t+n)}},e.SoundFile.prototype.setVolume=function(e,t,n){if("number"==typeof e){var t=t||0,n=n||0,i=a.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(i+n),this.output.gain.linearRampToValueAtTime(r,i+n),this.output.gain.linearRampToValueAtTime(e,i+n+t)}else{if(!e)return this.output.gain;e.connect(this.output.gain)}},e.SoundFile.prototype.amp=e.SoundFile.prototype.setVolume,e.SoundFile.prototype.fade=e.SoundFile.prototype.setVolume,e.SoundFile.prototype.getVolume=function(){return this.output.gain.value},e.SoundFile.prototype.pan=function(e,t){this.panPosition=e,this.panner.pan(e,t)},e.SoundFile.prototype.getPan=function(){return this.panPosition},e.SoundFile.prototype.rate=function(e){if(this.playbackRate!==e||!this.bufferSourceNode||this.bufferSourceNode.playbackRate.value!==e){this.playbackRate=e;var t=e;if(0===this.playbackRate&&this._playing&&this.pause(),this.playbackRate<0&&!this.reversed){var n=this.currentTime();this.bufferSourceNode.playbackRate.value,this.reverseBuffer(),t=Math.abs(e);var i=(n-this.duration())/t;this.pauseTime=i}else this.playbackRate>0&&this.reversed&&this.reverseBuffer();if(this.bufferSourceNode){var r=a.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(r),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(t),r),this._counterNode.playbackRate.cancelScheduledValues(r),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(t),r)}}},e.SoundFile.prototype.setPitch=function(e){var t=midiToFreq(e)/midiToFreq(60);this.rate(t)},e.SoundFile.prototype.getPlaybackRate=function(){return this.playbackRate},e.SoundFile.prototype.duration=function(){return this.buffer?this.buffer.duration:0},e.SoundFile.prototype.currentTime=function(){return this._pauseTime>0?this._pauseTime:this._lastPos/l.sampleRate},e.SoundFile.prototype.jump=function(e,t){if(0>e||e>this.buffer.duration)throw"jump time out of range";if(t>this.buffer.duration-e)throw"end time out of range";var n=e||0,i=t||this.buffer.duration-e;this.isPlaying()&&this.stop(),this.play(0,this.playbackRate,this.output.gain.value,n,i)},e.SoundFile.prototype.channels=function(){return this.buffer.numberOfChannels},e.SoundFile.prototype.sampleRate=function(){return this.buffer.sampleRate},e.SoundFile.prototype.frames=function(){return this.buffer.length},e.SoundFile.prototype.getPeaks=function(e){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(e||(e=5*window.width),this.buffer){for(var t=this.buffer,n=t.length/e,i=~~(n/10)||1,r=t.numberOfChannels,o=new Float32Array(Math.round(e)),s=0;r>s;s++)for(var a=t.getChannelData(s),l=0;e>l;l++){for(var u=~~(l*n),c=~~(u+n),h=0,d=u;c>d;d+=i){var p=a[d];p>h?h=p:-p>h&&(h=p)}(0===s||Math.abs(h)>o[l])&&(o[l]=h)}return o}},e.SoundFile.prototype.reverseBuffer=function(){var e=this.getVolume();if(this.setVolume(0,.01,0),this.pause(),!this.buffer)throw"SoundFile is not done loading";for(var t=0;t<this.buffer.numberOfChannels;t++)Array.prototype.reverse.call(this.buffer.getChannelData(t));this.reversed=!this.reversed,this.setVolume(e,.01,.0101),this.play()},e.SoundFile.prototype._onEnded=function(e){e.onended=function(e){var t=a.audiocontext.currentTime;e.stop(t)}},e.SoundFile.prototype.add=function(){},e.SoundFile.prototype.dispose=function(){var e=a.audiocontext.currentTime;if(this.stop(e),this.buffer&&this.bufferSourceNode){for(var t=0;t<this.bufferSourceNodes.length-1;t++)null!==this.bufferSourceNodes[t]&&(this.bufferSourceNodes[t].stop(e),this.bufferSourceNodes[t]=null);if(this.isPlaying()){try{this._counterNode.stop(e)}catch(n){console.log(n)}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)},e.SoundFile.prototype.connect=function(e){this.panner.connect(e?e.hasOwnProperty("input")?e.input:e:a.input)},e.SoundFile.prototype.disconnect=function(e){this.panner.disconnect(e)},e.SoundFile.prototype.getLevel=function(e){return e&&(this.amplitude.smoothing=e),this.amplitude.getLevel()},e.SoundFile.prototype.setPath=function(t,n){var i=e.prototype._checkFileFormats(t);this.url=i,this.load(n)},e.SoundFile.prototype.setBuffer=function(e){var t=e.length,n=e[0].length,i=l.createBuffer(t,n,l.sampleRate);!e[0]instanceof Float32Array&&(e[0]=new Float32Array(e[0]));for(var r=0;t>r;r++){var o=i.getChannelData(r);o.set(e[r])}this.buffer=i,this.panner.inputChannels(t)},e.SoundFile.prototype._initCounterNode=function(){var t=this,n=l.currentTime,i=l.createBufferSource();return t._scopeNode&&(t._scopeNode.disconnect(),t._scopeNode=null),t._scopeNode=l.createScriptProcessor(256,1,1),i.buffer=u(t.buffer),i.playbackRate.setValueAtTime(t.playbackRate,n),i.connect(t._scopeNode),t._scopeNode.connect(e.soundOut._silentNode),t._scopeNode.onaudioprocess=function(e){var n=e.inputBuffer.getChannelData(0);t._lastPos=n[n.length-1]||0,t._onTimeUpdate(t._lastPos)},i},e.SoundFile.prototype._initSourceNode=function(){var e=this,t=l.currentTime,n=l.createBufferSource();return n.buffer=e.buffer,n.playbackRate.setValueAtTime(e.playbackRate,t),n};var u=function(e){for(var t=new Float32Array(e.length),n=l.createBuffer(1,e.length,44100),i=0;i<e.length;i++)t[i]=i;return n.getChannelData(0).set(t),n};e.SoundFile.prototype.processPeaks=function(e,n,s,a){var l=this.buffer.length,u=this.buffer.sampleRate,c=this.buffer,d=n||.9,p=d,f=s||.22,g=a||200,m=new OfflineAudioContext(1,l,u),v=m.createBufferSource();v.buffer=c;var y=m.createBiquadFilter();y.type="lowpass",v.connect(y),y.connect(m.destination),v.start(0),m.startRendering(),m.oncomplete=function(n){var s=n.renderedBuffer,a=s.getChannelData(0);do h=t(a,p),p-=.005;while(Object.keys(h).length<g&&p>=f);var l=i(h),u=r(l,s.sampleRate),c=u.sort(function(e,t){return t.count-e.count}).splice(0,5);this.tempo=c[0].tempo;var d=5,m=o(h,c[0].tempo,s.sampleRate,d);e(m)}};var c=function(e,t){this.sampleIndex=t,this.amplitude=e,this.tempos=[],this.intervals=[]},h=[];e.SoundFile.prototype.addCue=function(e,t,n){var i=this._cueIDCounter++,r=new d(t,e,i,n);return this._cues.push(r),i},e.SoundFile.prototype.removeCue=function(e){for(var t=0;t<this._cues.length;t++){var n=this._cues[t];n.id===e&&this.cues.splice(t,1)}0===this._cues.length},e.SoundFile.prototype.clearCues=function(){this._cues=[]},e.SoundFile.prototype._onTimeUpdate=function(e){for(var t=e/this.buffer.sampleRate,n=0;n<this._cues.length;n++){var i=this._cues[n].time,r=this._cues[n].val;this._prevTime<i&&t>=i&&this._cues[n].callback(r)}this._prevTime=t};var d=function(e,t,n,i){this.callback=e,this.time=t,this.id=n,this.val=i}}(t,n);var s;s=function(){"use strict";var t=n;e.Amplitude=function(e){this.bufferSize=2048,this.audiocontext=t.audiocontext,this.processor=this.audiocontext.createScriptProcessor(this.bufferSize,2,1),this.input=this.processor,this.output=this.audiocontext.createGain(),this.smoothing=e||0,this.volume=0,this.average=0,this.stereoVol=[0,0],this.stereoAvg=[0,0],this.stereoVolNorm=[0,0],this.volMax=.001,this.normalize=!1,this.processor.onaudioprocess=this._audioProcess.bind(this),this.processor.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),t.meter.connect(this.processor)},e.Amplitude.prototype.setInput=function(n,i){t.meter.disconnect(),i&&(this.smoothing=i),null==n?(console.log("Amplitude input source is not ready! Connecting to master output instead"),t.meter.connect(this.processor)):n instanceof e.Signal?n.output.connect(this.processor):n?(n.connect(this.processor),this.processor.disconnect(),this.processor.connect(this.output)):t.meter.connect(this.processor)},e.Amplitude.prototype.connect=function(e){this.output.connect(e?e.hasOwnProperty("input")?e.input:e:this.panner.connect(t.input))},e.Amplitude.prototype.disconnect=function(){this.output.disconnect()},e.Amplitude.prototype._audioProcess=function(e){for(var t=0;t<e.inputBuffer.numberOfChannels;t++){for(var n,i=e.inputBuffer.getChannelData(t),r=i.length,o=0,s=0,a=0;r>a;a++)n=i[a],this.normalize?(o+=Math.max(Math.min(n/this.volMax,1),-1),s+=Math.max(Math.min(n/this.volMax,1),-1)*Math.max(Math.min(n/this.volMax,1),-1)):(o+=n,s+=n*n);var l=o/r,u=Math.sqrt(s/r);this.stereoVol[t]=Math.max(u,this.stereoVol[t]*this.smoothing),this.stereoAvg[t]=Math.max(l,this.stereoVol[t]*this.smoothing),this.volMax=Math.max(this.stereoVol[t],this.volMax)}var c=this,h=this.stereoVol.reduce(function(e,t,n){return c.stereoVolNorm[n-1]=Math.max(Math.min(c.stereoVol[n-1]/c.volMax,1),0),c.stereoVolNorm[n]=Math.max(Math.min(c.stereoVol[n]/c.volMax,1),0),e+t});this.volume=h/this.stereoVol.length,this.volNorm=Math.max(Math.min(this.volume/this.volMax,1),0)},e.Amplitude.prototype.getLevel=function(e){return"undefined"!=typeof e?this.normalize?this.stereoVolNorm[e]:this.stereoVol[e]:this.normalize?this.volNorm:this.volume},e.Amplitude.prototype.toggleNormalize=function(e){this.normalize="boolean"==typeof e?e:!this.normalize},e.Amplitude.prototype.smooth=function(e){e>=0&&1>e?this.smoothing=e:console.log("Error: smoothing must be between 0 and 1")}}(n);var a;a=function(){"use strict";var t=n;e.FFT=function(e,n){this.smoothing=e||.8,this.bins=n||1024;var i=2*n||2048;this.input=this.analyser=t.audiocontext.createAnalyser(),t.fftMeter.connect(this.analyser),this.analyser.smoothingTimeConstant=this.smoothing,this.analyser.fftSize=i,this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3]},e.FFT.prototype.setInput=function(e){e?(e.output?e.output.connect(this.analyser):e.connect&&e.connect(this.analyser),t.fftMeter.disconnect()):t.fftMeter.connect(this.analyser)},e.FFT.prototype.waveform=function(){for(var t,n,i,r=0;r<arguments.length;r++)"number"==typeof arguments[r]&&(t=arguments[r],this.analyser.fftSize=2*t),"string"==typeof arguments[r]&&(n=arguments[r]);if(n&&!e.prototype._isSafari())return o(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;s(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var i=new Array,r=0;r<this.timeDomain.length;r++){var a=e.prototype.map(this.timeDomain[r],0,255,-1,1);i.push(a)}return i},e.FFT.prototype.analyze=function(){for(var e,t,n=0;n<arguments.length;n++)"number"==typeof arguments[n]&&(e=this.bins=arguments[n],this.analyser.fftSize=2*this.bins),"string"==typeof arguments[n]&&(t=arguments[n]);if(t&&"db"===t.toLowerCase())return i(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain;r(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain);var o=Array.apply([],this.freqDomain);return o.length===this.analyser.fftSize,o.constructor===Array,o},e.FFT.prototype.getEnergy=function(e,n){var i=t.audiocontext.sampleRate/2;if("bass"===e?(e=this.bass[0],n=this.bass[1]):"lowMid"===e?(e=this.lowMid[0],n=this.lowMid[1]):"mid"===e?(e=this.mid[0],n=this.mid[1]):"highMid"===e?(e=this.highMid[0],n=this.highMid[1]):"treble"===e&&(e=this.treble[0],n=this.treble[1]),"number"!=typeof e)throw"invalid input for getEnergy()";if(n){if(e&&n){if(e>n){var r=n;n=e,e=r}for(var o=Math.round(e/i*this.freqDomain.length),s=Math.round(n/i*this.freqDomain.length),a=0,l=0,u=o;s>=u;u++)a+=this.freqDomain[u],l+=1;var c=a/l;return c}throw"invalid input for getEnergy()"}var h=Math.round(e/i*this.freqDomain.length);return this.freqDomain[h]},e.FFT.prototype.getFreq=function(e,t){console.log("getFreq() is deprecated. Please use getEnergy() instead.");var n=this.getEnergy(e,t);return n},e.FFT.prototype.smooth=function(e){e&&(this.smoothing=e),this.analyser.smoothingTimeConstant=e};var i=function(e){0==e.freqDomain instanceof Float32Array&&(e.freqDomain=new Float32Array(e.analyser.frequencyBinCount))},r=function(e){0==e.freqDomain instanceof Uint8Array&&(e.freqDomain=new Uint8Array(e.analyser.frequencyBinCount))},o=function(e){0==e.timeDomain instanceof Float32Array&&(e.timeDomain=new Float32Array(e.analyser.frequencyBinCount))},s=function(e){0==e.timeDomain instanceof Uint8Array&&(e.timeDomain=new Uint8Array(e.analyser.frequencyBinCount))}}(n);var l;l=function(){"use strict";function e(e){return void 0===e}var t;if(e(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),e(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),e(AudioContext))throw new Error("Web Audio is not supported in this browser");t=new AudioContext,"function"!=typeof AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),"function"!=typeof AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),"function"!=typeof AudioContext.prototype.createPeriodicWave&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),"function"!=typeof AudioBufferSourceNode.prototype.start&&(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),"function"!=typeof AudioBufferSourceNode.prototype.stop&&(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),"function"!=typeof OscillatorNode.prototype.start&&(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),"function"!=typeof OscillatorNode.prototype.stop&&(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),"function"!=typeof OscillatorNode.prototype.setPeriodicWave&&(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),window.Tone||(AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(t,n,i){if(t.input)Array.isArray(t.input)?(e(i)&&(i=0),this.connect(t.input[i])):this.connect(t.input,n,i);else try{t instanceof AudioNode?this._nativeConnect(t,n,i):this._nativeConnect(t,n)}catch(r){throw new Error("error connecting to node: "+t)}});var n=function(t,n){e(t)||1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),e(n)||1===n?this.output=this.context.createGain():n>1&&(this.output=new Array(t))};n.context=t,n.prototype.context=n.context,n.prototype.bufferSize=2048,n.prototype.bufferTime=n.prototype.bufferSize/n.context.sampleRate,n.prototype.connect=function(e,t,n){Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].connect(e,0,n)):this.output.connect(e,t,n)},n.prototype.disconnect=function(e){Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].disconnect()):this.output.disconnect()},n.prototype.connectSeries=function(){if(arguments.length>1)for(var e=arguments[0],t=1;t<arguments.length;t++){var n=arguments[t];e.connect(n),e=n}},n.prototype.connectParallel=function(){var e=arguments[0];if(arguments.length>1)for(var t=1;t<arguments.length;t++){var n=arguments[t];e.connect(n)}},n.prototype.chain=function(){if(arguments.length>0)for(var e=this,t=0;t<arguments.length;t++){var n=arguments[t];
e.connect(n),e=n}},n.prototype.fan=function(){if(arguments.length>0)for(var e=1;e<arguments.length;e++)this.connect(arguments[e])},AudioNode.prototype.chain=n.prototype.chain,AudioNode.prototype.fan=n.prototype.fan,n.prototype.defaultArg=function(t,n){if("object"==typeof t&&"object"==typeof n){var i={};for(var r in t)i[r]=this.defaultArg(t[r],t[r]);for(var o in n)i[o]=this.defaultArg(t[o],n[o]);return i}return e(t)?n:t},n.prototype.optionsObject=function(e,t,n){var i={};if(1===e.length&&"object"==typeof e[0])i=e[0];else for(var r=0;r<t.length;r++)i[t[r]]=e[r];return this.isUndef(n)?i:this.defaultArg(i,n)},n.prototype.isUndef=e,n.prototype.equalPowerScale=function(e){var t=.5*Math.PI;return Math.sin(e*t)},n.prototype.logScale=function(e){return Math.max(this.normalize(this.gainToDb(e),-100,0),0)},n.prototype.expScale=function(e){return this.dbToGain(this.interpolate(e,-100,0))},n.prototype.dbToGain=function(e){return Math.pow(2,e/6)},n.prototype.gainToDb=function(e){return 20*(Math.log(e)/Math.LN10)},n.prototype.interpolate=function(e,t,n){return e*(n-t)+t},n.prototype.normalize=function(e,t,n){if(t>n){var i=n;n=t,t=i}else if(t==n)return 0;return(e-t)/(n-t)},n.prototype.dispose=function(){this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null)};var i=null;n.prototype.noGC=function(){this.output.connect(i)},AudioNode.prototype.noGC=function(){this.connect(i)},n.prototype.now=function(){return this.context.currentTime},n.prototype.samplesToSeconds=function(e){return e/this.context.sampleRate},n.prototype.toSamples=function(e){var t=this.toSeconds(e);return Math.round(t*this.context.sampleRate)},n.prototype.toSeconds=function(e,t){if(t=this.defaultArg(t,this.now()),"number"==typeof e)return e;if("string"==typeof e){var n=0;return"+"===e.charAt(0)&&(e=e.slice(1),n=t),parseFloat(e)+n}return t},n.prototype.frequencyToSeconds=function(e){return 1/parseFloat(e)},n.prototype.secondsToFrequency=function(e){return 1/e};var r=[];return n._initAudioContext=function(e){e(n.context),r.push(e)},n.setContext=function(e){n.prototype.context=e,n.context=e;for(var t=0;t<r.length;t++)r[t](e)},n.extend=function(t,i){function r(){}e(i)&&(i=n),r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t},n.startMobile=function(){var e=n.context.createOscillator(),t=n.context.createGain();t.gain.value=0,e.connect(t),t.connect(n.context.destination);var i=n.context.currentTime;e.start(i),e.stop(i+1)},n._initAudioContext(function(e){n.prototype.bufferTime=n.prototype.bufferSize/e.sampleRate,i=e.createGain(),i.gain.value=0,i.connect(e.destination)}),n}();var u;u=function(e){"use strict";return e.SignalBase=function(){},e.extend(e.SignalBase),e.SignalBase.prototype.connect=function(t,n,i){t instanceof e.Signal?t.setValue(0):t instanceof AudioParam&&(t.value=0),e.prototype.connect.call(this,t,n,i)},e.SignalBase.prototype.dispose=function(){e.prototype.dispose.call(this)},e.SignalBase}(l);var c;c=function(e){"use strict";return e.WaveShaper=function(e,t){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(e)?this.setCurve(e):isFinite(e)||this.isUndef(e)?this._curve=new Float32Array(this.defaultArg(e,1024)):"function"==typeof e&&(this._curve=new Float32Array(this.defaultArg(t,1024)),this.setMap(e))},e.extend(e.WaveShaper,e.SignalBase),e.WaveShaper.prototype.setMap=function(e){for(var t=0,n=this._curve.length;n>t;t++){var i=2*(t/n)-1,r=2*(t/(n-1))-1;this._curve[t]=e(i,t,r)}this._shaper.curve=this._curve},e.WaveShaper.prototype.setCurve=function(e){if(this._isSafari()){var t=e[0];e.unshift(t)}this._curve=new Float32Array(e),this._shaper.curve=this._curve},e.WaveShaper.prototype.setOversample=function(e){this._shaper.oversample=e},e.WaveShaper.prototype._isSafari=function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")},e.WaveShaper.prototype.dispose=function(){e.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null},e.WaveShaper}(l);var h;h=function(e){"use strict";return e.Signal=function(t){this._scalar=this.context.createGain(),this.input=this.output=this.context.createGain(),this._syncRatio=1,this.value=this.defaultArg(t,0),e.Signal._constant.chain(this._scalar,this.output)},e.extend(e.Signal,e.SignalBase),e.Signal.prototype.getValue=function(){return this._scalar.gain.value},e.Signal.prototype.setValue=function(e){0===this._syncRatio?e=0:e*=this._syncRatio,this._scalar.gain.value=e},e.Signal.prototype.setValueAtTime=function(e,t){e*=this._syncRatio,this._scalar.gain.setValueAtTime(e,this.toSeconds(t))},e.Signal.prototype.setCurrentValueNow=function(e){e=this.defaultArg(e,this.now());var t=this.getValue();return this.cancelScheduledValues(e),this._scalar.gain.setValueAtTime(t,e),t},e.Signal.prototype.linearRampToValueAtTime=function(e,t){e*=this._syncRatio,this._scalar.gain.linearRampToValueAtTime(e,this.toSeconds(t))},e.Signal.prototype.exponentialRampToValueAtTime=function(e,t){e*=this._syncRatio;try{this._scalar.gain.exponentialRampToValueAtTime(e,this.toSeconds(t))}catch(n){this._scalar.gain.linearRampToValueAtTime(e,this.toSeconds(t))}},e.Signal.prototype.exponentialRampToValueNow=function(e,t){var n=this.now();this.setCurrentValueNow(n),"+"===t.toString().charAt(0)&&(t=t.substr(1)),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t))},e.Signal.prototype.linearRampToValueNow=function(e,t){var n=this.now();this.setCurrentValueNow(n),e*=this._syncRatio,"+"===t.toString().charAt(0)&&(t=t.substr(1)),this._scalar.gain.linearRampToValueAtTime(e,n+this.toSeconds(t))},e.Signal.prototype.setTargetAtTime=function(e,t,n){e*=this._syncRatio,this._scalar.gain.setTargetAtTime(e,this.toSeconds(t),n)},e.Signal.prototype.setValueCurveAtTime=function(e,t,n){for(var i=0;i<e.length;i++)e[i]*=this._syncRatio;this._scalar.gain.setValueCurveAtTime(e,this.toSeconds(t),this.toSeconds(n))},e.Signal.prototype.cancelScheduledValues=function(e){this._scalar.gain.cancelScheduledValues(this.toSeconds(e))},e.Signal.prototype.sync=function(e,t){this._syncRatio=t?t:0!==e.getValue()?this.getValue()/e.getValue():0,this._scalar.disconnect(),this._scalar=this.context.createGain(),this.connectSeries(e,this._scalar,this.output),this._scalar.gain.value=this._syncRatio},e.Signal.prototype.unsync=function(){var t=this.getValue();this._scalar.disconnect(),this._scalar=this.context.createGain(),this._scalar.gain.value=t/this._syncRatio,this._syncRatio=1,e.Signal._constant.chain(this._scalar,this.output)},e.Signal.prototype.dispose=function(){e.prototype.dispose.call(this),this._scalar.disconnect(),this._scalar=null},Object.defineProperty(e.Signal.prototype,"value",{get:function(){return this.getValue()},set:function(e){this.setValue(e)}}),e.Signal._generator=null,e.Signal._constant=null,e._initAudioContext(function(t){e.Signal._generator=t.createOscillator(),e.Signal._constant=new e.WaveShaper([1,1]),e.Signal._generator.connect(e.Signal._constant),e.Signal._generator.start(0),e.Signal._generator.noGC()}),e.Signal}(l);var d;d=function(e){"use strict";return e.Add=function(t){e.call(this,2,0),this._sum=this.input[0]=this.input[1]=this.output=this.context.createGain(),this._value=null,isFinite(t)&&(this._value=new e.Signal(t),this._value.connect(this._sum))},e.extend(e.Add,e.SignalBase),e.Add.prototype.setValue=function(e){if(null===this._value)throw new Error("cannot switch from signal to number");this._value.setValue(e)},e.Add.prototype.dispose=function(){e.prototype.dispose.call(this),this._sum=null,this._value&&(this._value.dispose(),this._value=null)},e.Add}(l);var p;p=function(e){"use strict";return e.Multiply=function(t){e.call(this,2,0),this._mult=this.input[0]=this.output=this.context.createGain(),this._factor=this.input[1]=this.output.gain,this._factor.value=this.defaultArg(t,0)},e.extend(e.Multiply,e.SignalBase),e.Multiply.prototype.setValue=function(e){this._factor.value=e},e.Multiply.prototype.dispose=function(){e.prototype.dispose.call(this),this._mult=null,this._factor=null},e.Multiply}(l);var f;f=function(e){"use strict";return e.Scale=function(t,n){this._outputMin=this.defaultArg(t,0),this._outputMax=this.defaultArg(n,1),this._scale=this.input=new e.Multiply(1),this._add=this.output=new e.Add(0),this._scale.connect(this._add),this._setRange()},e.extend(e.Scale,e.SignalBase),e.Scale.prototype.setMin=function(e){this._outputMin=e,this._setRange()},e.Scale.prototype.setMax=function(e){this._outputMax=e,this._setRange()},e.Scale.prototype._setRange=function(){this._add.setValue(this._outputMin),this._scale.setValue(this._outputMax-this._outputMin)},e.Scale.prototype.dispose=function(){e.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null},e.Scale}(l,d,p);var g;g=function(){"use strict";var t=h,i=d,r=p,o=f,s=l,a=n;s.setContext(a.audiocontext),e.Signal=function(e){var n=new t(e);return n},t.prototype.fade=t.prototype.linearRampToValueAtTime,r.prototype.fade=t.prototype.fade,i.prototype.fade=t.prototype.fade,o.prototype.fade=t.prototype.fade,t.prototype.setInput=function(e){e.connect(this)},r.prototype.setInput=t.prototype.setInput,i.prototype.setInput=t.prototype.setInput,o.prototype.setInput=t.prototype.setInput,t.prototype.add=function(e){var t=new i(e);return this.connect(t),t},r.prototype.add=t.prototype.add,i.prototype.add=t.prototype.add,o.prototype.add=t.prototype.add,t.prototype.mult=function(e){var t=new r(e);return this.connect(t),t},r.prototype.mult=t.prototype.mult,i.prototype.mult=t.prototype.mult,o.prototype.mult=t.prototype.mult,t.prototype.scale=function(t,n,i,r){var s,a;4===arguments.length?(s=e.prototype.map(i,t,n,0,1)-.5,a=e.prototype.map(r,t,n,0,1)-.5):(s=arguments[0],a=arguments[1]);var l=new o(s,a);return this.connect(l),l},r.prototype.scale=t.prototype.scale,i.prototype.scale=t.prototype.scale,o.prototype.scale=t.prototype.scale}(h,d,p,f,l,n);var m;m=function(){"use strict";var t=n,i=d,r=p,o=f;e.Oscillator=function(n,i){if("string"==typeof n){var r=i;i=n,n=r}if("number"==typeof i){var r=i;i=n,n=r}this.started=!1,this.oscillator=t.audiocontext.createOscillator(),this.f=n||440,this.oscillator.frequency.setValueAtTime(this.f,t.audiocontext.currentTime),this.oscillator.type=i||"sine",this.oscillator,this.input=t.audiocontext.createGain(),this.output=t.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,t.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=t.input,this.panner=new e.Panner(this.output,this.connection,1),this.mathOps=[this.output],t.soundArray.push(this)},e.Oscillator.prototype.start=function(e,n){if(this.started){var i=t.audiocontext.currentTime;this.stop(i)}if(!this.started){var r=n||this.f,o=this.oscillator.type;this.oscillator=t.audiocontext.createOscillator(),this.oscillator.frequency.exponentialRampToValueAtTime(Math.abs(r),t.audiocontext.currentTime),this.oscillator.type=o,this.oscillator.connect(this.output),e=e||0,this.oscillator.start(e+t.audiocontext.currentTime),this.freqNode=this.oscillator.frequency;for(var s in this._freqMods)"undefined"!=typeof this._freqMods[s].connect&&this._freqMods[s].connect(this.oscillator.frequency);this.started=!0}},e.Oscillator.prototype.stop=function(e){if(this.started){var n=e||0,i=t.audiocontext.currentTime;this.oscillator.stop(n+i),this.started=!1}},e.Oscillator.prototype.amp=function(e,n,i){var r=this;if("number"==typeof e){var n=n||0,i=i||0,o=t.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(o),this.output.gain.linearRampToValueAtTime(s,o+i),this.output.gain.linearRampToValueAtTime(e,o+i+n)}else{if(!e)return this.output.gain;console.log(e),e.connect(r.output.gain)}},e.Oscillator.prototype.fade=e.Oscillator.prototype.amp,e.Oscillator.prototype.getAmp=function(){return this.output.gain.value},e.Oscillator.prototype.freq=function(e,n,i){if("number"!=typeof e||isNaN(e)){if(!e)return this.oscillator.frequency;e.output&&(e=e.output),e.connect(this.oscillator.frequency),this._freqMods.push(e)}else{this.f=e;var r=t.audiocontext.currentTime,n=n||0,i=i||0,o=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(r),this.oscillator.frequency.setValueAtTime(o,r+i),e>0?this.oscillator.frequency.exponentialRampToValueAtTime(e,i+n+r):this.oscillator.frequency.linearRampToValueAtTime(e,i+n+r)}},e.Oscillator.prototype.getFreq=function(){return this.oscillator.frequency.value},e.Oscillator.prototype.setType=function(e){this.oscillator.type=e},e.Oscillator.prototype.getType=function(){return this.oscillator.type},e.Oscillator.prototype.connect=function(e){e?e.hasOwnProperty("input")?(this.panner.connect(e.input),this.connection=e.input):(this.panner.connect(e),this.connection=e):this.panner.connect(t.input)},e.Oscillator.prototype.disconnect=function(){this.output.disconnect(),this.panner.disconnect(),this.output.connect(this.panner),this.oscMods=[]},e.Oscillator.prototype.pan=function(e,t){this.panPosition=e,this.panner.pan(e,t)},e.Oscillator.prototype.getPan=function(){return this.panPosition},e.Oscillator.prototype.dispose=function(){if(this.oscillator){var e=t.audiocontext.currentTime;this.stop(e),this.disconnect(),this.oscillator.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()},e.Oscillator.prototype.phase=function(n){this.dNode||(this.dNode=t.audiocontext.createDelay(),this.output.disconnect(),this.output.connect(this.dNode),this.dNode.connect(this.panner));var i=t.audiocontext.currentTime;this.dNode.delayTime.linearRampToValueAtTime(e.prototype.map(n,0,1,0,1/this.oscillator.frequency.value),i)};var s=function(e,t,n,i,r){var o=e.oscillator;for(var s in e.mathOps)e.mathOps[s]instanceof r&&(o.disconnect(),e.mathOps[s].dispose(),n=s,n<e.mathOps.length-2&&(i=e.mathOps[s+1]));return n==e.mathOps.length-1&&e.mathOps.push(i),s>0&&(o=e.mathOps[s-1]),o.disconnect(),o.connect(t),t.connect(i),e.mathOps[n]=t,e};e.Oscillator.prototype.add=function(e){var t=new i(e),n=this.mathOps.length-1,r=this.output;return s(this,t,n,r,i)},e.Oscillator.prototype.mult=function(e){var t=new r(e),n=this.mathOps.length-1,i=this.output;return s(this,t,n,i,r)},e.Oscillator.prototype.scale=function(t,n,i,r){var a,l;4===arguments.length?(a=e.prototype.map(i,t,n,0,1)-.5,l=e.prototype.map(r,t,n,0,1)-.5):(a=arguments[0],l=arguments[1]);var u=new o(a,l),c=this.mathOps.length-1,h=this.output;return s(this,u,c,h,o)},e.SinOsc=function(t){e.Oscillator.call(this,t,"sine")},e.SinOsc.prototype=Object.create(e.Oscillator.prototype),e.TriOsc=function(t){e.Oscillator.call(this,t,"triangle")},e.TriOsc.prototype=Object.create(e.Oscillator.prototype),e.SawOsc=function(t){e.Oscillator.call(this,t,"sawtooth")},e.SawOsc.prototype=Object.create(e.Oscillator.prototype),e.SqrOsc=function(t){e.Oscillator.call(this,t,"square")},e.SqrOsc.prototype=Object.create(e.Oscillator.prototype)}(n,h,d,p,f);var v;v=function(){"use strict";var t=n,i=d,r=p,o=f,s=l;s.setContext(t.audiocontext);var a=null,u=!1;e.Env=function(n,i,r,o,s,a,l,u){this.aTime=n,this.aLevel=i,this.dTime=r||0,this.dLevel=o||0,this.sTime=s||0,this.sLevel=a||0,this.rTime=l||0,this.rLevel=u||0,this.output=t.audiocontext.createGain(),this.control=new e.Signal,this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],t.soundArray.push(this)},e.Env.prototype.set=function(e,t,n,i,r,o,s,a){this.aTime=e,this.aLevel=t,this.dTime=n||0,this.dLevel=i||0,this.sTime=r||0,this.sLevel=o||0,this.rTime=s||0,this.rLevel=a||0},e.Env.prototype.setInput=function(){for(var e=0;e<arguments.length;e++)this.connect(arguments[e])},e.Env.prototype.ctrl=function(e){this.connect(e)},e.Env.prototype.play=function(e,n){var i=t.audiocontext.currentTime,r=n||0,o=i+r;e&&this.connection!==e&&this.connect(e);var s=this.control.getValue();this.control.cancelScheduledValues(o),this.control.linearRampToValueAtTime(s,o),this.control.linearRampToValueAtTime(this.aLevel,o+this.aTime),this.control.linearRampToValueAtTime(this.dLevel,o+this.aTime+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,o+this.aTime+this.dTime+this.sTime),this.control.linearRampToValueAtTime(this.rLevel,o+this.aTime+this.dTime+this.sTime+this.rTime),o+this.aTime+this.dTime+this.sTime+this.rTime},e.Env.prototype.triggerAttack=function(e,n){var i=t.audiocontext.currentTime,r=n||0,o=i+r;this.lastAttack=o,u=!0;var s=this.control.getValue();console.log(s),this.control.cancelScheduledValues(o),this.control.linearRampToValueAtTime(s,o),e&&this.connection!==e&&this.connect(e),this.control.linearRampToValueAtTime(this.aLevel,o+this.aTime),this.control.linearRampToValueAtTime(this.aLevel,o+this.aTime),this.control.linearRampToValueAtTime(this.dLevel,o+this.aTime+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,o+this.aTime+this.dTime+this.sTime)},e.Env.prototype.triggerRelease=function(e,n){if(u){var i,r=t.audiocontext.currentTime,o=n||0,s=r+o;if(e&&this.connection!==e&&this.connect(e),this.control.cancelScheduledValues(s),r-this.lastAttack<this.aTime){var l=this.aTime-(s-this.lastAttack);this.control.linearRampToValueAtTime(this.aLevel,s+l),this.control.linearRampToValueAtTime(this.dLevel,s+l+this.dTime),this.control.linearRampToValueAtTime(this.sLevel,s+l+this.dTime+this.sTime),this.control.linearRampToValueAtTime(this.rLevel,s+l+this.dTime+this.sTime+this.rTime),i=s+this.dTime+this.sTime+this.rTime}else if(r-this.lastAttack<this.aTime+this.dTime){var c=this.aTime+this.dTime-(r-this.lastAttack);this.control.linearRampToValueAtTime(this.dLevel,s+c),this.control.linearRampToValueAtTime(this.sLevel,s+c+.01),this.control.linearRampToValueAtTime(this.rLevel,s+c+.01+this.rTime),i=s+this.sTime+this.rTime}else if(r-this.lastAttack<this.aTime+this.dTime+this.sTime){var h=this.aTime+this.dTime+this.sTime-(r-this.lastAttack);this.control.linearRampToValueAtTime(this.sLevel,s+h),this.control.linearRampToValueAtTime(this.rLevel,s+h+this.rTime),i=s+this.rTime}else this.control.linearRampToValueAtTime(this.sLevel,s),this.control.linearRampToValueAtTime(this.rLevel,s+this.rTime),i=s+this.dTime+this.sTime+this.rTime;var d=s+this.aTime+this.dTime+this.sTime+this.rTime;this.connection&&this.connection.hasOwnProperty("oscillator")?(a=this.connection.oscillator,a.stop(d+.01)):this.connect&&this.connection.hasOwnProperty("source")&&(a=this.connection.source,a.stop(d+.01)),u=!1}},e.Env.prototype.connect=function(n){this.connection=n,(n instanceof e.Oscillator||n instanceof e.SoundFile||n instanceof e.AudioIn||n instanceof e.Reverb||n instanceof e.Noise||n instanceof e.Filter||n instanceof e.Delay)&&(n=n.output.gain),n instanceof AudioParam&&n.setValueAtTime(0,t.audiocontext.currentTime),n instanceof e.Signal&&n.setValue(0),this.output.connect(n)},e.Env.prototype.disconnect=function(){this.output.disconnect()},e.Env.prototype.add=function(t){var n=new i(t),r=this.mathOps.length,o=this.output;return e.prototype._mathChain(this,n,r,o,i)},e.Env.prototype.mult=function(t){var n=new r(t),i=this.mathOps.length,o=this.output;return e.prototype._mathChain(this,n,i,o,r)},e.Env.prototype.scale=function(t,n,i,r){var s=new o(t,n,i,r),a=this.mathOps.length,l=this.output;return e.prototype._mathChain(this,s,a,l,o)},e.Env.prototype.dispose=function(){t.audiocontext.currentTime,this.disconnect();try{this.control.dispose(),this.control=null}catch(e){}for(var n=1;n<this.mathOps.length;n++)mathOps[n].dispose()}}(n,d,p,f,l);var y;y=function(){"use strict";function t(){for(var e=i.audiocontext,t=e.createBuffer(1,2048,e.sampleRate),n=t.getChannelData(0),r=0;2048>r;r++)n[r]=1;var o=e.createBufferSource();return o.buffer=t,o.loop=!0,o}var i=n;e.Pulse=function(n,r){e.Oscillator.call(this,n,"sawtooth"),this.w=r||0,this.osc2=new e.SawOsc(n),this.dNode=i.audiocontext.createDelay(),this.dcOffset=t(),this.dcGain=i.audiocontext.createGain(),this.dcOffset.connect(this.dcGain),this.dcGain.connect(this.output),this.f=n||440;var o=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=o,this.dcGain.gain.value=1.7*(.5-this.w),this.osc2.disconnect(),this.osc2.output.gain.minValue=-10,this.osc2.output.gain.maxValue=10,this.osc2.panner.disconnect(),this.osc2.amp(-1),this.osc2.output.connect(this.dNode),this.dNode.connect(this.output),this.output.gain.value=1,this.output.connect(this.panner)},e.Pulse.prototype=Object.create(e.Oscillator.prototype),e.Pulse.prototype.width=function(t){if("number"==typeof t){if(1>=t&&t>=0){this.w=t;var n=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=n}this.dcGain.gain.value=1.7*(.5-this.w)}else{t.connect(this.dNode.delayTime);var i=new e.SignalAdd(-.5);i.setInput(t),i=i.mult(-1),i=i.mult(1.7),i.connect(this.dcGain.gain)}},e.Pulse.prototype.start=function(e,n){var r=i.audiocontext.currentTime,o=n||0;if(!this.started){var s=e||this.f,a=this.oscillator.type;this.oscillator=i.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(s,r),this.oscillator.type=a,this.oscillator.connect(this.output),this.oscillator.start(o+r),this.osc2.oscillator=i.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(s,o+r),this.osc2.oscillator.type=a,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(o+r),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=t(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(o+r),void 0!==this.mods&&void 0!==this.mods.frequency&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}},e.Pulse.prototype.stop=function(e){if(this.started){var t=e||0,n=i.audiocontext.currentTime;this.oscillator.stop(t+n),this.osc2.oscillator.stop(t+n),this.dcOffset.stop(t+n),this.started=!1,this.osc2.started=!1}},e.Pulse.prototype.freq=function(e,t,n){if("number"==typeof e){this.f=e;var r=i.audiocontext.currentTime,t=t||0,n=n||0,o=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(r),this.oscillator.frequency.setValueAtTime(o,r+n),this.oscillator.frequency.exponentialRampToValueAtTime(e,n+t+r),this.osc2.oscillator.frequency.cancelScheduledValues(r),this.osc2.oscillator.frequency.setValueAtTime(o,r+n),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(e,n+t+r),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else e.output&&(e.output.disconnect(),e.output.connect(this.oscillator.frequency),e.output.connect(this.osc2.oscillator.frequency),this.freqMod=e)}}(n,m);var b;b=function(){"use strict";var t=n;e.Noise=function(){e.Oscillator.call(this),delete this.f,delete this.freq,delete this.oscillator,this.buffer=i},e.Noise.prototype=Object.create(e.Oscillator.prototype);var i=function(){for(var e=2*t.audiocontext.sampleRate,n=t.audiocontext.createBuffer(1,e,t.audiocontext.sampleRate),i=n.getChannelData(0),r=0;e>r;r++)i[r]=2*Math.random()-1;return n.type="white",n}(),r=function(){var e,n,i,r,o,s,a,l=2*t.audiocontext.sampleRate,u=t.audiocontext.createBuffer(1,l,t.audiocontext.sampleRate),c=u.getChannelData(0);e=n=i=r=o=s=a=0;for(var h=0;l>h;h++){var d=2*Math.random()-1;e=.99886*e+.0555179*d,n=.99332*n+.0750759*d,i=.969*i+.153852*d,r=.8665*r+.3104856*d,o=.55*o+.5329522*d,s=-.7616*s-.016898*d,c[h]=e+n+i+r+o+s+a+.5362*d,c[h]*=.11,a=.115926*d}return u.type="pink",u}(),o=function(){for(var e=2*t.audiocontext.sampleRate,n=t.audiocontext.createBuffer(1,e,t.audiocontext.sampleRate),i=n.getChannelData(0),r=0,o=0;e>o;o++){var s=2*Math.random()-1;i[o]=(r+.02*s)/1.02,r=i[o],i[o]*=3.5}return n.type="brown",n}();e.Noise.prototype.setType=function(e){switch(e){case"white":this.buffer=i;break;case"pink":this.buffer=r;break;case"brown":this.buffer=o;break;default:this.buffer=i}if(this.started){var n=t.audiocontext.currentTime;this.stop(n),this.start(n+.01)}},e.Noise.prototype.getType=function(){return this.buffer.type},e.Noise.prototype.start=function(){this.started&&this.stop(),this.noise=t.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var e=t.audiocontext.currentTime;this.noise.start(e),this.started=!0},e.Noise.prototype.stop=function(){var e=t.audiocontext.currentTime;this.noise&&(this.noise.stop(e),this.started=!1)},e.Noise.prototype.dispose=function(){var e=t.audiocontext.currentTime;this.noise&&(this.noise.disconnect(),this.stop(e)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}(n);var w;w=function(){"use strict";var t=n;e.AudioIn=function(){this.input=t.audiocontext.createGain(),this.output=t.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=0,this.enabled=!1,this.amplitude=new e.Amplitude,this.output.connect(this.amplitude.input),"undefined"==typeof window.MediaStreamTrack?window.alert("This browser does not support MediaStreamTrack"):"undefined"!=typeof window.MediaStreamTrack.getSources&&window.MediaStreamTrack.getSources(this._gotSources),t.soundArray.push(this)},e.AudioIn.prototype.start=function(){var e=this;if(t.inputSources[e.currentSource]){var n=t.inputSources[e.currentSource].id,i={audio:{optional:[{sourceId:n}]}};navigator.getUserMedia(i,this._onStream=function(n){e.stream=n,e.enabled=!0,e.mediaStream=t.audiocontext.createMediaStreamSource(n),e.mediaStream.connect(e.output),e.amplitude.setInput(e.output)},this._onStreamError=function(e){console.error(e)})}else window.navigator.getUserMedia({audio:!0},this._onStream=function(n){e.stream=n,e.enabled=!0,e.mediaStream=t.audiocontext.createMediaStreamSource(n),e.mediaStream.connect(e.output),e.amplitude.setInput(e.output)},this._onStreamError=function(e){console.error(e)})},e.AudioIn.prototype.stop=function(){this.stream&&this.stream.stop()},e.AudioIn.prototype.connect=function(e){this.output.connect(e?e.hasOwnProperty("input")?e.input:e.hasOwnProperty("analyser")?e.analyser:e:t.input)},e.AudioIn.prototype.disconnect=function(e){this.output.disconnect(e),this.output.connect(this.amplitude.input)},e.AudioIn.prototype.getLevel=function(e){return e&&(this.amplitude.smoothing=e),this.amplitude.getLevel()},e.AudioIn.prototype._gotSources=function(e){for(var n=0;n!==e.length;n++){var i=e[n];"audio"===i.kind&&t.inputSources.push(i)}},e.AudioIn.prototype.amp=function(e,n){if(n){var i=n||0,r=this.output.gain.value;this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(r,t.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(e,i+t.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(e,t.audiocontext.currentTime)},e.AudioIn.prototype.listSources=function(){return console.log("input sources: "),console.log(t.inputSources),t.inputSources.length>0?t.inputSources:"This browser does not support MediaStreamTrack.getSources()"},e.AudioIn.prototype.setSource=function(e){var n=this;t.inputSources.length>0&&e<t.inputSources.length?(n.currentSource=e,console.log("set source to "+t.inputSources[n.currentSource].id)):console.log("unable to set input source")},e.AudioIn.prototype.dispose=function(){this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),this.amplitude=null,this.output=null}}(n);var C;C=function(){"use strict";var t=n;e.Filter=function(e){this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.biquad=this.ac.createBiquadFilter(),this.input.connect(this.biquad),this.biquad.connect(this.output),this.connect(),e&&this.setType(e)},e.Filter.prototype.process=function(e,t,n){e.connect(this.input),this.set(t,n)},e.Filter.prototype.set=function(e,t,n){e&&this.freq(e,n),t&&this.res(t,n)},e.Filter.prototype.freq=function(e,t){var n=this,i=t||0;return 0>=e&&(e=1),"number"==typeof e?(n.biquad.frequency.value=e,n.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+i),n.biquad.frequency.exponentialRampToValueAtTime(e,this.ac.currentTime+.02+i)):e&&e.connect(this.biquad.frequency),n.biquad.frequency.value},e.Filter.prototype.res=function(e,t){var n=this,i=t||0;return"number"==typeof e?(n.biquad.Q.value=e,n.biquad.Q.cancelScheduledValues(n.ac.currentTime+.01+i),n.biquad.Q.linearRampToValueAtTime(e,n.ac.currentTime+.02+i)):e&&freq.connect(this.biquad.Q),n.biquad.Q.value},e.Filter.prototype.setType=function(e){this.biquad.type=e},e.Filter.prototype.amp=function(e,n,i){var n=n||0,i=i||0,r=t.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(r),this.output.gain.linearRampToValueAtTime(o,r+i+.001),this.output.gain.linearRampToValueAtTime(e,r+i+n+.001)},e.Filter.prototype.connect=function(t){var n=t||e.soundOut.input;this.output.connect(n)},e.Filter.prototype.disconnect=function(){this.output.disconnect()},e.LowPass=function(){e.Filter.call(this,"lowpass")},e.LowPass.prototype=Object.create(e.Filter.prototype),e.HighPass=function(){e.Filter.call(this,"highpass")},e.HighPass.prototype=Object.create(e.Filter.prototype),e.BandPass=function(){e.Filter.call(this,"bandpass")},e.BandPass.prototype=Object.create(e.Filter.prototype)}(n);var x;x=function(){"use strict";var t=n;e.Delay=function(){this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._split=this.ac.createChannelSplitter(2),this._merge=this.ac.createChannelMerger(2),this._leftGain=this.ac.createGain(),this._rightGain=this.ac.createGain(),this.leftDelay=this.ac.createDelay(),this.rightDelay=this.ac.createDelay(),this._leftFilter=new e.Filter,this._rightFilter=new e.Filter,this._leftFilter.disconnect(),this._rightFilter.disconnect(),this.lowPass=this._leftFilter,this._leftFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._rightFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._leftFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this._rightFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this.input.connect(this._split),this.leftDelay.connect(this._leftGain),this.rightDelay.connect(this._rightGain),this._leftGain.connect(this._leftFilter.input),this._rightGain.connect(this._rightFilter.input),this._merge.connect(this.output),this.output.connect(e.soundOut.input),this._leftFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this._rightFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this.setType(0),this._maxDelay=this.leftDelay.delayTime.maxValue},e.Delay.prototype.process=function(e,t,n,i){var r=n||0,o=t||0;if(r>=1)throw new Error("Feedback value will force a positive feedback loop.");if(o>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");e.connect(this.input),this.leftDelay.delayTime.setValueAtTime(o,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(o,this.ac.currentTime),this._leftGain.gain.setValueAtTime(r,this.ac.currentTime),this._rightGain.gain.setValueAtTime(r,this.ac.currentTime),i&&(this._leftFilter.freq(i),this._rightFilter.freq(i))},e.Delay.prototype.delayTime=function(e){"number"!=typeof e?(e.connect(this.leftDelay.delayTime),e.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(e,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(e,this.ac.currentTime))},e.Delay.prototype.feedback=function(e){if("number"!=typeof e)e.connect(this._leftGain.gain),e.connect(this._rightGain.gain);else{if(e>=1)throw new Error("Feedback value will force a positive feedback loop.");this._leftGain.gain.exponentialRampToValueAtTime(e,this.ac.currentTime),this._rightGain.gain.exponentialRampToValueAtTime(e,this.ac.currentTime)}},e.Delay.prototype.filter=function(e,t){this._leftFilter.set(e,t),this._rightFilter.set(e,t)
},e.Delay.prototype.setType=function(e){switch(1===e&&(e="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),e){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._leftFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._leftFilter.output.connect(this.rightDelay)}},e.Delay.prototype.amp=function(e,n,i){var n=n||0,i=i||0,r=t.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(r),this.output.gain.linearRampToValueAtTime(o,r+i+.001),this.output.gain.linearRampToValueAtTime(e,r+i+n+.001)},e.Delay.prototype.connect=function(t){var n=t||e.soundOut.input;this.output.connect(n)},e.Delay.prototype.disconnect=function(){this.output.disconnect()}}(n,C);var A;A=function(){"use strict";var t=n;e.Reverb=function(){this.ac=t.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse(),this.connect(),t.soundArray.push(this)},e.Reverb.prototype.process=function(e,t,n,i){e.connect(this.input);var r=!1;t&&(this._seconds=t,r=!0),n&&(this._decay=n),i&&(this._reverse=i),r&&this._buildImpulse()},e.Reverb.prototype.set=function(e,t,n){var i=!1;e&&(this._seconds=e,i=!0),t&&(this._decay=t),n&&(this._reverse=n),i&&this._buildImpulse()},e.Reverb.prototype.amp=function(e,n,i){var n=n||0,i=i||0,r=t.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(r),this.output.gain.linearRampToValueAtTime(o,r+i+.001),this.output.gain.linearRampToValueAtTime(e,r+i+n+.001)},e.Reverb.prototype.connect=function(t){var n=t||e.soundOut.input;this.output.connect(n.input?n.input:n)},e.Reverb.prototype.disconnect=function(){this.output.disconnect()},e.Reverb.prototype._buildImpulse=function(){var e,t,n=this.ac.sampleRate,i=n*this._seconds,r=this._decay,o=this.ac.createBuffer(2,i,n),s=o.getChannelData(0),a=o.getChannelData(1);for(t=0;i>t;t++)e=this.reverse?i-t:t,s[t]=(2*Math.random()-1)*Math.pow(1-e/i,r),a[t]=(2*Math.random()-1)*Math.pow(1-e/i,r);this.convolverNode.buffer=o},e.Reverb.prototype.dispose=function(){this.convolverNode&&(this.convolverNode.buffer=null,this.convolverNode=null),"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)},e.Convolver=function(e,n){this.ac=t.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),e?(this.impulses=[],this._loadBuffer(e,n)):(this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse()),this.connect(),t.soundArray.push(this)},e.Convolver.prototype=Object.create(e.Reverb.prototype),e.prototype.registerPreloadMethod("createConvolver"),e.prototype.createConvolver=function(t,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var i=new e.Convolver(t,n);return i.impulses=[],i},e.Convolver.prototype._loadBuffer=function(t,n){t=e.prototype._checkFileFormats(t);var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer";var r=this;i.onload=function(){var o=e.prototype.getAudioContext();o.decodeAudioData(i.response,function(e){var i={},o=t.split("/");i.name=o[o.length-1],i.audioBuffer=e,r.impulses.push(i),r.convolverNode.buffer=i.audioBuffer,n&&n(i)})},i.send()},e.Convolver.prototype.set=null,e.Convolver.prototype.process=function(e){e.connect(this.input)},e.Convolver.prototype.impulses=[],e.Convolver.prototype.addImpulse=function(e,t){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(e,t)},e.Convolver.prototype.resetImpulse=function(e,t){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(e,t)},e.Convolver.prototype.toggleImpulse=function(e){if("number"==typeof e&&e<this.impulses.length&&(this.convolverNode.buffer=this.impulses[e].audioBuffer),"string"==typeof e)for(var t=0;t<this.impulses.length;t++)if(this.impulses[t].name===e){this.convolverNode.buffer=this.impulses[t].audioBuffer;break}},e.Convolver.prototype.dispose=function(){for(var e in this.impulses)this.impulses[e]=null;this.convolverNode.disconnect(),this.concolverNode=null,"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)}}(n,t);var S;S=function(e){"use strict";return e.Clock=function(t,n){this._oscillator=null,this._jsNode=this.context.createScriptProcessor(this.bufferSize,1,1),this._jsNode.onaudioprocess=this._processBuffer.bind(this),this._controlSignal=new e.Signal(1),this._upTick=!1,this.tick=this.defaultArg(n,function(){}),this._jsNode.noGC(),this.setRate(t)},e.extend(e.Clock),e.Clock.prototype.setRate=function(e,t){var n=this.secondsToFrequency(this.toSeconds(e));t?this._controlSignal.exponentialRampToValueNow(n,t):(this._controlSignal.cancelScheduledValues(0),this._controlSignal.setValue(n))},e.Clock.prototype.getRate=function(){return this._controlSignal.getValue()},e.Clock.prototype.start=function(e){this._oscillator=this.context.createOscillator(),this._oscillator.type="square",this._oscillator.connect(this._jsNode),this._controlSignal.connect(this._oscillator.frequency),this._upTick=!1;var t=this.toSeconds(e);this._oscillator.start(t),this._oscillator.onended=function(){}},e.Clock.prototype.stop=function(e,t){var n=this.toSeconds(e);this._oscillator.onended=t,this._oscillator.stop(n)},e.Clock.prototype._processBuffer=function(e){for(var t=this.defaultArg(e.playbackTime,this.now()),n=this._jsNode.bufferSize,i=e.inputBuffer.getChannelData(0),r=this._upTick,o=this,s=0;n>s;s++){var a=i[s];a>0&&!r?(r=!0,setTimeout(function(){var e=t+o.samplesToSeconds(s+2*n);return function(){o.tick(e)}}(),0)):0>a&&r&&(r=!1)}this._upTick=r},e.Clock.prototype.dispose=function(){this._jsNode.disconnect(),this._controlSignal.dispose(),this._oscillator&&(this._oscillator.onended(),this._oscillator.disconnect()),this._jsNode.onaudioprocess=function(){},this._jsNode=null,this._controlSignal=null,this._oscillator=null},e.Clock}(l);var _;_=function(){"use strict";var t=n,i=S,r=t.audiocontext;e.Metro=function(){this.clock=new i(r.sampleRate,this.ontick.bind(this)),this.syncedParts=[],this.bpm=120,this._init(),this.tickCallback=function(){}};var o=0,s=0;e.Metro.prototype.ontick=function(e){var n=e-o,i=e-t.audiocontext.currentTime;if(!(-.02>=n-s)){o=e;for(var r in this.syncedParts){var a=this.syncedParts[r];a.incrementStep(i);for(var l in a.phrases){var u=a.phrases[l],c=u.sequence,h=this.metroTicks%c.length;0!==c[h]&&(this.metroTicks<c.length||!u.looping)&&u.callback(i,c[h])}}this.metroTicks+=1,this.tickCallback(i)}},e.Metro.prototype.setBPM=function(e,n){var i=60/(e*this.tatums);s=i,this.clock.setRate(i,n+t.audiocontext.currentTime),this.bpm=e},e.Metro.prototype.getBPM=function(){return 60*(this.clock.getRate()/this.tatums)},e.Metro.prototype._init=function(){this.metroTicks=0},e.Metro.prototype.resetSync=function(e){this.syncedParts=[e]},e.Metro.prototype.pushSync=function(e){this.syncedParts.push(e)},e.Metro.prototype.start=function(e){var t=e||0;this.clock.start(t),this.setBPM(this.bpm)},e.Metro.prototype.stop=function(e){var t=e||0;this.clock._oscillator&&this.clock.stop(t)},e.Metro.prototype.beatLength=function(e){this.tatums=1/e/4}}(n,S);var E;E=function(){"use strict";function t(e){e.currentPart++,e.currentPart>=e.parts.length?(e.scoreStep=0,e.onended()):(e.scoreStep=0,e.parts[e.currentPart-1].stop(),e.parts[e.currentPart].start())}var i=n,r=120;e.prototype.setBPM=function(e,t){r=e;for(var n in i.parts)i.parts[n].setBPM(r,t)},e.Phrase=function(e,t,n){this.phraseStep=0,this.name=e,this.callback=t,this.sequence=n},e.Part=function(t,n){this.length=t||0,this.partStep=0,this.phrases=[],this.looping=!1,this.isPlaying=!1,this.onended=function(){this.stop()},this.tatums=n||.0625,this.metro=new e.Metro,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(r),i.parts.push(this),this.callback=function(){}},e.Part.prototype.setBPM=function(e,t){this.metro.setBPM(e,t)},e.Part.prototype.getBPM=function(){return this.metro.getBPM()},e.Part.prototype.start=function(e){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var t=e||0;this.metro.start(t)}},e.Part.prototype.loop=function(e){this.looping=!0,this.onended=function(){this.partStep=0};var t=e||0;this.start(t)},e.Part.prototype.noLoop=function(){this.looping=!1,this.onended=function(){this.stop()}},e.Part.prototype.stop=function(e){this.partStep=0,this.pause(e)},e.Part.prototype.pause=function(e){this.isPlaying=!1;var t=e||0;this.metro.stop(t)},e.Part.prototype.addPhrase=function(t,n,i){var r;if(3===arguments.length)r=new e.Phrase(t,n,i);else{if(!(arguments[0]instanceof e.Phrase))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";r=arguments[0]}this.phrases.push(r),r.sequence.length>this.length&&(this.length=r.sequence.length)},e.Part.prototype.removePhrase=function(e){for(var t in this.phrases)this.phrases[t].name===e&&this.phrases.split(t,1)},e.Part.prototype.getPhrase=function(e){for(var t in this.phrases)if(this.phrases[t].name===e)return this.phrases[t]},e.Part.prototype.replaceSequence=function(e,t){for(var n in this.phrases)this.phrases[n].name===e&&(this.phrases[n].sequence=t)},e.Part.prototype.incrementStep=function(e){this.partStep<this.length-1?(this.callback(e),this.partStep+=1):(this.looping&&this.callback(e),this.onended(),this.partStep=0)},e.Part.prototype.onStep=function(e){this.callback=e},e.Score=function(){this.parts=[],this.currentPart=0;var e=this;for(var n in arguments)this.parts[n]=arguments[n],this.parts[n].nextPart=this.parts[n+1],this.parts[n].onended=function(){e.resetPart(n),t(e)};this.looping=!1},e.Score.prototype.onended=function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0},e.Score.prototype.start=function(){this.parts[this.currentPart].start(),this.scoreStep=0},e.Score.prototype.stop=function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0},e.Score.prototype.pause=function(){this.parts[this.currentPart].stop()},e.Score.prototype.loop=function(){this.looping=!0,this.start()},e.Score.prototype.noLoop=function(){this.looping=!1},e.Score.prototype.resetParts=function(){for(var e in this.parts)this.resetPart(e)},e.Score.prototype.resetPart=function(e){this.parts[e].stop(),this.parts[e].partStep=0;for(var t in this.parts[e].phrases)this.parts[e].phrases[t].phraseStep=0},e.Score.prototype.setBPM=function(e,t){for(var n in this.parts)this.parts[n].setBPM(e,t)}}(n);var $;$=function(){"use strict";function t(e,t){for(var n=e.length+t.length,i=new Float32Array(n),r=0,o=0;n>o;)i[o++]=e[r],i[o++]=t[r],r++;return i}function i(e,t,n){for(var i=n.length,r=0;i>r;r++)e.setUint8(t+r,n.charCodeAt(r))}var r=n,o=r.audiocontext;e.SoundRecorder=function(){this.input=o.createGain(),this.output=o.createGain(),this.recording=!1,this.bufferSize=1024,this._channels=2,this._clear(),this._jsNode=o.createScriptProcessor(this.bufferSize,this._channels,2),this._jsNode.onaudioprocess=this._audioprocess.bind(this),this._callback=function(){},this._jsNode.connect(e.soundOut._silentNode),this.setInput(),r.soundArray.push(this)},e.SoundRecorder.prototype.setInput=function(t){this.input.disconnect(),this.input=null,this.input=o.createGain(),this.input.connect(this._jsNode),this.input.connect(this.output),t?t.connect(this.input):e.soundOut.output.connect(this.input)},e.SoundRecorder.prototype.record=function(e,t,n){this.recording=!0,t&&(this.sampleLimit=Math.round(t*o.sampleRate)),e&&n?this._callback=function(){this.buffer=this._getBuffer(),e.setBuffer(this.buffer),n()}:e&&(this._callback=function(){this.buffer=this._getBuffer(),e.setBuffer(this.buffer)})},e.SoundRecorder.prototype.stop=function(){this.recording=!1,this._callback(),this._clear()},e.SoundRecorder.prototype._clear=function(){this._leftBuffers=[],this._rightBuffers=[],this.recordedSamples=0,this.sampleLimit=null},e.SoundRecorder.prototype._audioprocess=function(e){if(this.recording!==!1&&this.recording===!0)if(this.sampleLimit&&this.recordedSamples>=this.sampleLimit)this.stop();else{var t=e.inputBuffer.getChannelData(0),n=e.inputBuffer.getChannelData(1);this._leftBuffers.push(new Float32Array(t)),this._rightBuffers.push(new Float32Array(n)),this.recordedSamples+=this.bufferSize}},e.SoundRecorder.prototype._getBuffer=function(){var e=[];return e.push(this._mergeBuffers(this._leftBuffers)),e.push(this._mergeBuffers(this._rightBuffers)),e},e.SoundRecorder.prototype._mergeBuffers=function(e){for(var t=new Float32Array(this.recordedSamples),n=0,i=e.length,r=0;i>r;r++){var o=e[r];t.set(o,n),n+=o.length}return t},e.SoundRecorder.prototype.dispose=function(){this._clear(),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._jsNode=null},e.prototype.saveSound=function(n,r){var o=n.buffer.getChannelData(0),s=n.buffer.getChannelData(1),a=t(o,s),l=new ArrayBuffer(44+2*a.length),u=new DataView(l);i(u,0,"RIFF"),u.setUint32(4,44+2*a.length,!0),i(u,8,"WAVE"),i(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,1,!0),u.setUint16(22,2,!0),u.setUint32(24,44100,!0),u.setUint32(28,176400,!0),u.setUint16(32,4,!0),u.setUint16(34,16,!0),i(u,36,"data"),u.setUint32(40,2*a.length,!0);for(var c=a.length,h=44,d=1,p=0;c>p;p++)u.setInt16(h,32767*a[p]*d,!0),h+=2;e.prototype.writeFile([u],r,"wav")}}(t,n);var T;T=function(){"use strict";e.PeakDetect=function(e,t,n,i){this.framesPerPeak=i||5,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=n||.25,this.cutoff=0,this.energy=0,this.penergy=0,this.isDetected=!1,this.f1=e||40,this.f2=t||2e4,this._onPeak=function(){}},e.PeakDetect.prototype.update=function(e){var t=this.energy=e.getEnergy(this.f1,this.f2)/255;t>this.cutoff&&t>this.threshold&&t-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=1.1*t,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.penergy=t},e.PeakDetect.prototype.onPeak=function(e,t){var n=this;n._onPeak=function(){e(n.energy,t)}}}(n);var k;k=function(){"use strict";var t=n;e.Gain=function(){this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output)},e.Gain.prototype.setInput=function(e){e.connect(this.input)},e.Gain.prototype.connect=function(t){var n=t||e.soundOut.input;this.output.connect(n.input?n.input:n)},e.Gain.prototype.disconnect=function(){this.output.disconnect()},e.Gain.prototype.amp=function(e,n,i){var n=n||0,i=i||0,r=t.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(r),this.output.gain.linearRampToValueAtTime(o,r+i),this.output.gain.linearRampToValueAtTime(e,r+i+n)}}(n,t);var D;D=function(){"use strict";var e=t;return e}(t,n,i,r,o,s,a,g,m,v,y,b,w,C,x,A,_,E,$,T,k)}),function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e){var t={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null),200!==t.status&&0!==t.status)throw"XMLHttpRequest failed, status code "+t.status;return t.responseText}};window.Processing=e("./src/")(t)},{"./src/":28}],2:[function(e,t){t.exports={name:"processing-js",version:"1.4.15",author:"Processing.js",repository:{type:"git",url:"git@github.com/processing-js/processing-js.git"},main:"processing.min.js",bugs:"https://github.com/processing-js/processing-js/issues",devDependencies:{argv:"~0.0.2",browserify:"~2.18.1",express:"~3.3.3","node-minify":"~0.7.3",nunjucks:"~0.1.9",open:"0.0.3",grunt:"~0.4.1","grunt-cli":"~0.1.8","grunt-contrib-jshint":"~0.4.3"},scripts:{test:"node test"},license:"MIT"}},{}],3:[function(e,t){t.exports=function(e){if(!(e instanceof Array)){if(e.iterator instanceof Function)return e.iterator();throw"Unable to iterate: "+e}var t=-1;this.hasNext=function(){return++t<e.length},this.next=function(){return e[t]}}},{}],4:[function(e,t){t.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" 	\n\r\f",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(e,n){n.exports=function(e){var n={BufferMax:200},i=e.createElement("style"),r=!1;return i.textContent=[".pjsconsole.hidden {","  display: none!important;","}"].join("\n"),n.wrapper=e.createElement("div"),i.textContent+=["",".pjsconsole {","  opacity: .75;","  display: block;","  position: fixed;","  bottom: 0px;","  left: 0px;","  right: 0px;","  height: 50px;","  background-color: #aaa;","}"].join("\n"),n.wrapper.classList.add("pjsconsole"),n.dragger=e.createElement("div"),i.textContent+=["",".pjsconsole .dragger {","  display: block;","  border: 3px black raised;","  cursor: n-resize;","  position: absolute;","  top: 0px;","  left: 0px;","  right: 0px;","  height: 5px;","  background-color: #333;","}"].join("\n"),n.dragger.classList.add("dragger"),n.closer=e.createElement("div"),i.textContent+=["",".pjsconsole .closer {","  opacity: .5;","  display: block;","  border: 3px black raised;","  position: absolute;","  top: 10px;","  right: 30px;","  height: 20px;","  width: 20px;","  background-color: #ddd;","  color: #000;","  line-height: 20px;","  text-align: center;","  cursor: pointer","}"].join("\n"),n.closer.classList.add("closer"),n.closer.innerHTML="&#10006;",n.javaconsole=e.createElement("div"),i.textContent+=["",".pjsconsole .console {","  overflow-x: auto;","  display: block;","  position: absolute;","  left: 10px;","  right: 0px;","  bottom: 5px;","  top: 10px;","  overflow-y: scroll;","  height: 40px;","}"].join("\n"),n.javaconsole.setAttribute("class","console"),n.wrapper.appendChild(n.dragger),n.wrapper.appendChild(n.javaconsole),n.wrapper.appendChild(n.closer),n.dragger.onmousedown=function(t){n.divheight=n.wrapper.style.height,e.selection?e.selection.empty():window.getSelection().removeAllRanges();var i=t.screenY;window.onmousemove=function(e){n.wrapper.style.height=parseFloat(n.divheight)+(i-e.screenY)+"px",n.javaconsole.style.height=parseFloat(n.divheight)+(i-e.screenY)-10+"px"},window.onmouseup=function(t){e.selection?e.selection.empty():window.getSelection().removeAllRanges(),n.wrapper.style.height=parseFloat(n.divheight)+(i-t.screenY)+"px",n.javaconsole.style.height=parseFloat(n.divheight)+(i-t.screenY)-10+"px",window.onmousemove=null,window.onmouseup=null}},n.BufferArray=[],n.print=n.log=function(){var e=Array.prototype.slice.call(arguments);t=e.map(function(t,n){return t+(n+1===e.length?"":" ")}).join(""),n.BufferArray[n.BufferArray.length-1]?n.BufferArray[n.BufferArray.length-1]+=t+"":n.BufferArray.push(t),n.javaconsole.innerHTML=n.BufferArray.join(""),n.showconsole()},n.println=function(){r||(e.body.appendChild(i),e.body.appendChild(n.wrapper),r=!0);var t=Array.prototype.slice.call(arguments);t.push("<br>"),n.print.apply(n,t),n.BufferArray.length>n.BufferMax?n.BufferArray.splice(0,1):n.javaconsole.scrollTop=n.javaconsole.scrollHeight},n.showconsole=function(){n.wrapper.classList.remove("hidden")},n.hideconsole=function(){n.wrapper.classList.add("hidden")},n.closer.onclick=function(){n.hideconsole()},n.hideconsole(),n}},{}],6:[function(e,t){t.exports=function(e){function t(){}function n(e,t,n){if(!e.hasOwnProperty(t)||"function"!=typeof e[t])return e[t]=n,void 0;var i=e[t];if("$overloads"in i)return i.$defaultOverload=n,void 0;if("$overloads"in n||i.length!==n.length){var r,o;"$overloads"in n?(r=n.$overloads.slice(0),r[i.length]=i,o=n.$defaultOverload):(r=[],r[n.length]=n,r[i.length]=i,o=i);var s=function(){var e=s.$overloads[arguments.length]||("$methodArgsIndex"in s&&arguments.length>s.$methodArgsIndex?s.$overloads[s.$methodArgsIndex]:null)||s.$defaultOverload;return e.apply(this,arguments)};s.$overloads=r,"$methodArgsIndex"in n&&(s.$methodArgsIndex=n.$methodArgsIndex),s.$defaultOverload=o,s.name=t,e[t]=s}}function i(e,t){function i(n){o.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},enumerable:!0})}var r=[];for(var s in t)"function"==typeof t[s]?n(e,s,t[s]):"$"===s.charAt(0)||s in e||r.push(s);for(;r.length>0;)i(r.shift());e.$super=t}function r(e){return"string"!=typeof e?!1:-1!==["byte","int","char","color","float","long","double"].indexOf(e)}t.prototype=e.PConstants;var o=new t;return Object.keys(e).forEach(function(t){o[t]=e[t]}),o.defineProperty=function(e,t,n){"defineProperty"in Object?Object.defineProperty(e,t,n):(n.hasOwnProperty("get")&&e.__defineGetter__(t,n.get),n.hasOwnProperty("set")&&e.__defineSetter__(t,n.set))},o.extendClassChain=function(e){for(var t=[e],n=e.$upcast;n;n=n.$upcast)i(n,e),t.push(n),e=n;for(;t.length>0;)t.pop().$self=e},o.extendStaticMembers=function(e,t){i(e,t)},o.extendInterfaceMembers=function(e,t){i(e,t)},o.addMethod=function(e,t,n,i){var r=e[t];if(r||i){var o=n.length;if("$overloads"in r)r.$overloads[o]=n;else{var s=function(){var e=s.$overloads[arguments.length]||("$methodArgsIndex"in s&&arguments.length>s.$methodArgsIndex?s.$overloads[s.$methodArgsIndex]:null)||s.$defaultOverload;return e.apply(this,arguments)},a=[];r&&(a[r.length]=r),a[o]=n,s.$overloads=a,s.$defaultOverload=r||n,i&&(s.$methodArgsIndex=o),s.name=t,e[t]=s}}else e[t]=n},o.createJavaArray=function(e,t){var n=null,i=null;if("string"==typeof e&&("boolean"===e?i=!1:r(e)&&(i=0)),"number"==typeof t[0]){var s=0|t[0];if(t.length<=1){n=[],n.length=s;for(var a=0;s>a;++a)n[a]=i}else{n=[];for(var l=t.slice(1),u=0;s>u;++u)n.push(o.createJavaArray(e,l))}}return n},o.defineProperty(o,"screenWidth",{get:function(){return window.innerWidth}}),o.defineProperty(o,"screenHeight",{get:function(){return window.innerHeight}}),o}},{}],7:[function(e,t){t.exports=function(e,t){var n,i=t.window,r=t.document,o=i.XMLHttpRequest,s=t.noop,a=t.isDOMPresent,u=t.version;e.version=u?u:"@DEV-VERSION@",e.lib={},e.registerLibrary=function(t,n){e.lib[t]=n,n.hasOwnProperty("init")&&n.init(defaultScope)},e.Sketch=function(e){this.attachFunction=e,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onLoad=s,this.onSetup=s,this.onPause=s,this.onLoop=s,this.onFrameStart=s,this.onFrameEnd=s,this.onExit=s,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(e,t){if(!this.images[e]&&(a||(this.images[e]=null),t||(t=new Image,t.onload=function(e){return function(){e.pending--}}(this),this.pending++,t.src=e),this.images[e]=t,i.opera)){var n=r.createElement("div");n.appendChild(t),n.style.position="absolute",n.style.opacity=0,n.style.width="1px",n.style.height="1px",this.operaCache[e]||(r.body.appendChild(n),this.operaCache[e]=n)}}},this.sourceCode=void 0,this.attach=function(e){if("function"==typeof this.attachFunction)this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var t=new Function("return ("+this.sourceCode+");")();t(e),this.attachFunction=t}},this.toString=function(){var e,t="((function(Sketch) {\n";t+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(e in this.options)if(this.options.hasOwnProperty(e)){var n=this.options[e];t+="sketch.options."+e+" = "+("string"==typeof n?'"'+n+'"':""+n)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(t+='sketch.imageCache.add("'+e+'");\n');return t+="return sketch;\n})(Processing.Sketch))"}};var c=e.loadSketchFromSources=function(t,n){function s(e,t){var n=new o;n.onreadystatechange=function(){if(4===n.readyState){var e;200!==n.status&&0!==n.status?e="Invalid XHR status "+n.status:""===n.responseText&&(e="withCredentials"in new o&&(new o).withCredentials===!1&&"file:"===i.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty."),t(n.responseText,e)}},n.open("GET",e,!0),n.overrideMimeType&&n.overrideMimeType("application/json"),n.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),n.send(null)}function a(n,i){function o(r,o){if(l[n]=r,++h,o&&u.push(i+" ==> "+o),h===c){if(0===u.length)return new e(t,l.join("\n"));throw"Processing.js: Unable to load pjs sketch files: "+u.join("\n")}}if("#"===i.charAt(0)){var a=r.getElementById(i.substring(1));return a?o(a.text||a.textContent):o("","Unable to load pjs sketch: element with id '"+i.substring(1)+"' was not found"),void 0}s(i,o)}for(var l=[],u=[],c=n.length,h=0,d=0;c>d;++d)a(d,n[d])},h=function(){r.removeEventListener("DOMContentLoaded",h,!1);for(var t;e.instances.length>0;)for(t=e.instances.length-1;t>=0;t--)e.instances[t]&&e.instances[t].exit();var i,o=r.getElementsByTagName("canvas");for(t=0,l=o.length;l>t;t++){var s=o[t].getAttribute("data-processing-sources");if(null===s&&(s=o[t].getAttribute("data-src"),null===s&&(s=o[t].getAttribute("datasrc"))),s){i=s.split(/\s+/g);for(var a=0;a<i.length;)i[a]?a++:i.splice(a,1);c(o[t],i)}}var u,d,p,f,g=r.getElementsByTagName("script"),m=[];for(u=g.length-1;u>=0;u--)m.push(g[u]);for(u=0,d=m.length;d>u;u++){var v=m[u];if(v.getAttribute){var y=v.getAttribute("type");if(y&&("text/processing"===y.toLowerCase()||"application/processing"===y.toLowerCase())){var b=v.getAttribute("data-processing-target");if(o=n,b)o=r.getElementById(b);else{for(var w=v.nextSibling;w&&1!==w.nodeType;)w=w.nextSibling;w&&"canvas"===w.nodeName.toLowerCase()&&(o=w)}if(o){if(v.getAttribute("src")){i=v.getAttribute("src").split(/\s+/),c(o,i);continue}p=v.textContent||v.text,f=new e(o,p)}}}}};return r.addEventListener("DOMContentLoaded",h,!1),e.reload=h,e.disableInit=function(){r.removeEventListener("DOMContentLoaded",h,!1)},e}},{}],8:[function(e,t){t.exports=function(e,t){return null===e||null===t?null===e&&null===t:"string"==typeof e?e===t:"object"!=typeof e?e===t:e.equals instanceof Function?e.equals(t):e===t}},{}],9:[function(e,t){t.exports=function(e,t){if("string"==typeof e){for(var n=0,i=0;i<e.length;++i)n=4294967295&31*n+e.charCodeAt(i);return n}return"object"!=typeof e?4294967295&e:e.hashCode instanceof Function?e.hashCode():(e.$id===t&&(e.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random())),e.$id)}},{}],10:[function(e,t){t.exports=function(e){function t(e){var t=-1;this.hasNext=function(){return t+1<e.length},this.next=function(){return e[++t]},this.remove=function(){e.splice(t--,1)}}function n(e){var r=[];e&&e.toArray&&(r=e.toArray()),this.get=function(e){return r[e]},this.contains=function(e){return this.indexOf(e)>-1},this.indexOf=function(e){for(var t=0,n=r.length;n>t;++t)if(i(e,r[t]))return t;return-1},this.lastIndexOf=function(e){for(var t=r.length-1;t>=0;--t)if(i(e,r[t]))return t;return-1},this.add=function(){if(1===arguments.length)r.push(arguments[0]);else{if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&e<=r.length))throw e+" is not a valid index";r.splice(e,0,arguments[1])}},this.addAll=function(e,t){var n;if("number"==typeof e){if(0>e||e>r.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+r.length;for(n=new ObjectIterator(t);n.hasNext();)r.splice(e++,0,n.next())}else for(n=new ObjectIterator(e);n.hasNext();)r.push(n.next())},this.set=function(){if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&e<r.length))throw e+" is not a valid index.";r.splice(e,1,arguments[1])},this.size=function(){return r.length},this.clear=function(){r.length=0},this.remove=function(e){return"number"==typeof e?r.splice(e,1)[0]:(e=this.indexOf(e),e>-1?(r.splice(e,1),!0):!1)},this.removeAll=function(e){var t,i,r,o=new n;for(o.addAll(this),this.clear(),t=0,i=0;t<o.size();t++)r=o.get(t),e.contains(r)||this.add(i++,r);return this.size()<o.size()?!0:!1},this.isEmpty=function(){return!r.length},this.clone=function(){return new n(this)},this.toArray=function(){return r.slice(0)
},this.iterator=function(){return new t(r)}}var i=(e.virtHashCode,e.virtEquals);return n}},{}],11:[function(e,t){t.exports=function(e,t){var n=function(i){return this.code="string"==typeof i&&1===i.length?i.charCodeAt(0):"number"==typeof i?i:i instanceof n?i:0/0,e[this.code]===t?e[this.code]=this:e[this.code]};return n.prototype.toString=function(){return String.fromCharCode(this.code)},n.prototype.valueOf=function(){return this.code},n}({})},{}],12:[function(e,t){t.exports=function(e){function t(){function e(e){var t=n(e)%c.length;return 0>t?c.length+t:t}function r(){if(!(h<=u*c.length)){for(var t=[],n=0;n<c.length;++n)void 0!==c[n]&&(t=t.concat(c[n]));var i=2*c.length;c=[],c.length=i;for(var r=0;r<t.length;++r){var o=e(t[r].key),s=c[o];void 0===s&&(c[o]=s=[]),s.push(t[r])}}}function o(e,t){function n(){for(;!s;)if(++o,r>=c.length)s=!0;else{if(!(void 0===c[r]||o>=c[r].length))return;o=-1,++r}}var i,r=0,o=-1,s=!1;this.hasNext=function(){return!s},this.next=function(){return i=e(c[r][o]),n(),i},this.remove=function(){void 0!==i&&(t(i),--o,n())},n()}function s(e,t,n){this.clear=function(){d.clear()},this.contains=function(e){return t(e)},this.containsAll=function(e){for(var t=e.iterator();t.hasNext();)if(!this.contains(t.next()))return!1;return!0},this.isEmpty=function(){return d.isEmpty()},this.iterator=function(){return new o(e,n)},this.remove=function(e){return this.contains(e)?(n(e),!0):!1},this.removeAll=function(e){for(var t=e.iterator(),i=!1;t.hasNext();){var r=t.next();this.contains(r)&&(n(r),i=!0)}return!0},this.retainAll=function(e){for(var t=this.iterator(),i=[];t.hasNext();){var r=t.next();e.contains(r)||i.push(r)}for(var o=0;o<i.length;++o)n(i[o]);return i.length>0},this.size=function(){return d.size()},this.toArray=function(){for(var e=[],t=this.iterator();t.hasNext();)e.push(t.next());return e}}function a(e){this._isIn=function(t){return t===d&&void 0===e.removed},this.equals=function(t){return i(e.key,t.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(){return n(e.key)},this.setValue=function(t){var n=e.value;return e.value=t,n}}if(1===arguments.length&&arguments[0]instanceof t)return arguments[0].clone();var l=arguments.length>0?arguments[0]:16,u=arguments.length>1?arguments[1]:.75,c=[];c.length=l;var h=0,d=this;this.clear=function(){h=0,c=[],c.length=l},this.clone=function(){var e=new t;return e.putAll(this),e},this.containsKey=function(t){var n=e(t),r=c[n];if(void 0===r)return!1;for(var o=0;o<r.length;++o)if(i(r[o].key,t))return!0;return!1},this.containsValue=function(e){for(var t=0;t<c.length;++t){var n=c[t];if(void 0!==n)for(var r=0;r<n.length;++r)if(i(n[r].value,e))return!0}return!1},this.entrySet=function(){return new s(function(e){return new a(e)},function(e){return e instanceof a&&e._isIn(d)},function(e){return d.remove(e.getKey())})},this.get=function(t){var n=e(t),r=c[n];if(void 0===r)return null;for(var o=0;o<r.length;++o)if(i(r[o].key,t))return r[o].value;return null},this.isEmpty=function(){return 0===h},this.keySet=function(){return new s(function(e){return e.key},function(e){return d.containsKey(e)},function(e){return d.remove(e)})},this.values=function(){return new s(function(e){return e.value},function(e){return d.containsValue(e)},function(e){return d.removeByValue(e)})},this.put=function(t,n){var o=e(t),s=c[o];if(void 0===s)return++h,c[o]=[{key:t,value:n}],r(),null;for(var a=0;a<s.length;++a)if(i(s[a].key,t)){var l=s[a].value;return s[a].value=n,l}return++h,s.push({key:t,value:n}),r(),null},this.putAll=function(e){for(var t=e.entrySet().iterator();t.hasNext();){var n=t.next();this.put(n.getKey(),n.getValue())}},this.remove=function(t){var n=e(t),r=c[n];if(void 0===r)return null;for(var o=0;o<r.length;++o)if(i(r[o].key,t)){--h;var s=r[o].value;return r[o].removed=!0,r.length>1?r.splice(o,1):c[n]=void 0,s}return null},this.removeByValue=function(e){var t,n,i,r;for(t in c)if(c.hasOwnProperty(t))for(n=0,i=c[t].length;i>n;n++)if(r=c[t][n],r.value===e)return c[t].splice(n,1),!0;return!1},this.size=function(){return h}}var n=e.virtHashCode,i=e.virtEquals;return t}},{}],13:[function(e,t){t.exports=function(e,t){function n(e){var t=250,n=e.size/t,i=r.createElement("canvas");i.width=2*t,i.height=2*t,i.style.opacity=0;var s=e.getCSSDefinition(t+"px","normal"),a=i.getContext("2d");a.font=s;var l="dbflkhyjqpg";i.width=a.measureText(l).width,a.font=s;var u=r.createElement("div");u.style.position="absolute",u.style.opacity=0,u.style.fontFamily='"'+e.name+'"',u.style.fontSize=t+"px",u.innerHTML=l+"<br/>"+l,r.body.appendChild(u);var c=i.width,h=i.height,d=h/2;a.fillStyle="white",a.fillRect(0,0,c,h),a.fillStyle="black",a.fillText(l,0,d);for(var p=a.getImageData(0,0,c,h).data,f=0,g=4*c,m=p.length;++f<m&&255===p[f];)o();var v=Math.round(f/g);for(f=m-1;--f>0&&255===p[f];)o();var y=Math.round(f/g);if(e.ascent=n*(d-v),e.descent=n*(y-d),r.defaultView.getComputedStyle){var b=r.defaultView.getComputedStyle(u,null).getPropertyValue("height");b=n*b.replace("px",""),b>=2*e.size&&(e.leading=Math.round(b/2))}return r.body.removeChild(u),e.caching?a:void 0}function i(e,i){e===t&&(e=""),this.name=e,i===t&&(i=0),this.size=i,this.glyph=!1,this.ascent=0,this.descent=0,this.leading=1.2*i;var r=e.indexOf(" Italic Bold");-1!==r&&(e=e.substring(0,r)),this.style="normal";var o=e.indexOf(" Italic");-1!==o&&(e=e.substring(0,o),this.style="italic"),this.weight="normal";var s=e.indexOf(" Bold");if(-1!==s&&(e=e.substring(0,s),this.weight="bold"),this.family="sans-serif",e!==t)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}this.context2d=n(this),this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}var r=(e.Browser.window,e.Browser.document),o=e.noop;return i.prototype.caching=!0,i.prototype.getCSSDefinition=function(e,n){e===t&&(e=this.size+"px"),n===t&&(n=this.leading+"px");var i=[this.style,"normal",this.weight,e+"/"+n,this.family];return i.join(" ")},i.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},i.prototype.measureTextWidthFallback=function(e){var t=r.createElement("canvas"),n=t.getContext("2d");return n.font=this.css,n.measureText(e).width},i.PFontCache={length:0},i.get=function(e,t){t=(0|10*t+.5)/10;var n=i.PFontCache,r=e+"/"+t;if(!n[r]){if(n[r]=new i(e,t),n.length++,50===n.length){i.prototype.measureTextWidth=i.prototype.measureTextWidthFallback,i.prototype.caching=!1;var o;for(o in n)"length"!==o&&(n[o].context2d=null);return new i(e,t)}if(400===n.length)return i.PFontCache={},i.get=i.getFallback,new i(e,t)}return n[r]},i.getFallback=function(e,t){return new i(e,t)},i.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},i.preloading={template:{},initialized:!1,initialize:function(){var e=function(){var e="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#",t=function(e){return"AAAAAAAA".substr(~~e?7-e:6)};return e.replace(/[#237]/g,t)},t=r.createElement("style");t.setAttribute("type","text/css"),t.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+e()+"')\n"+"       format('truetype');\n"+"}",r.head.appendChild(t);var n=r.createElement("span");n.style.cssText='position: absolute; top: -1000; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',n.innerHTML="AAAAAAAA",r.body.appendChild(n),this.template=n,this.initialized=!0},getElementWidth:function(e){return r.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();for(var t,n,i=this.getElementWidth(this.template),o=0;o<this.fontList.length;o++){if(t=this.fontList[o],n=this.getElementWidth(t),this.timeAttempted<4e3&&n===i)return this.timeAttempted+=e,!0;r.body.removeChild(t),this.fontList.splice(o--,1),this.timeAttempted=0}return 0===this.fontList.length?!1:!0},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var t="object"==typeof e?e.fontFace:e,n="object"==typeof e?e.url:e;if(!this.addedList[t]){var i=r.createElement("style");i.setAttribute("type","text/css"),i.innerHTML="@font-face{\n  font-family: '"+t+"';\n  src:  url('"+n+"');\n}\n",r.head.appendChild(i),this.addedList[t]=!0;var o=r.createElement("span");o.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",o.style.fontFamily='"'+t+'", "PjsEmptyFont", fantasy',o.innerHTML="AAAAAAAA",r.body.appendChild(o),this.fontList.push(o)}}},i}},{}],14:[function(e,t){t.exports=function(e){var t=e.p,n=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof n?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};return n.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof n?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new n;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,i;return e instanceof PVector?(n=e.x,i=e.y,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*i+this.elements[5]):t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*i+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>PConstants.MIN_INT){var t=this.elements[0],n=this.elements[1],i=this.elements[2],r=this.elements[3],o=this.elements[4],s=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-r/e,this.elements[1]=-n/e,this.elements[4]=t/e,this.elements[2]=(n*s-o*i)/e,this.elements[5]=(r*i-t*s)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof n?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],i=0,r=0;2>r;r++)for(var o=0;3>o;o++,i++)t[i]+=this.elements[3*r+0]*e[o+0]+this.elements[3*r+1]*e[o+3];this.elements=t.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof n?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements[0],r=this.elements[1];this.elements[0]=t*i+n*r,this.elements[1]=-n*i+t*r,i=this.elements[3],r=this.elements[4],this.elements[3]=t*i+n*r,this.elements[4]=-n*i+t*r},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=printMatrixHelper(this.elements),n=""+t.nfs(this.elements[0],e,4)+" "+t.nfs(this.elements[1],e,4)+" "+t.nfs(this.elements[2],e,4)+"\n"+t.nfs(this.elements[3],e,4)+" "+t.nfs(this.elements[4],e,4)+" "+t.nfs(this.elements[5],e,4)+"\n\n";t.println(n)}},n}},{}],15:[function(e,t){t.exports=function(e,t){var n=e.p,i=function(){this.reset()};return i.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof i?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new i;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,n,i){i===t&&(i=0),this.elements[3]+=e*this.elements[0]+n*this.elements[1]+i*this.elements[2],this.elements[7]+=e*this.elements[4]+n*this.elements[5]+i*this.elements[6],this.elements[11]+=e*this.elements[8]+n*this.elements[9]+i*this.elements[10],this.elements[15]+=e*this.elements[12]+n*this.elements[13]+i*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,i,r,o;return e instanceof PVector?(n=e.x,i=e.y,r=e.z,o=1,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],r=e[2],o=e[3]||1,(!t||3!==t.length&&4!==t.length)&&(t=[0,0,0])),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3]*o,t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7]*o,t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]*o,t[3]=this.elements[12]*n+this.elements[13]*i+this.elements[14]*r+this.elements[15]*o)),t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof i?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;4>r;r++)for(var o=0;4>o;o++,n++)t[n]+=this.elements[o+0]*e[4*r+0]+this.elements[o+4]*e[4*r+1]+this.elements[o+8]*e[4*r+2]+this.elements[o+12]*e[4*r+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof i?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;4>r;r++)for(var o=0;4>o;o++,n++)t[n]+=this.elements[4*r+0]*e[o+0]+this.elements[4*r+1]*e[o+4]+this.elements[4*r+2]*e[o+8]+this.elements[4*r+3]*e[o+12];this.elements=t.slice()},rotate:function(e,t,n,i){if(n){var r=Math.cos(e),o=Math.sin(e),s=1-r;this.apply(s*t*t+r,s*t*n-o*i,s*t*i+o*n,0,s*t*n+o*i,s*n*n+r,s*n*i-o*t,0,s*t*i-o*n,s*n*i+o*t,s*i*i+r,0,0,0,0,1)}else this.rotateZ(e)},invApply:function(){inverseCopy===t&&(inverseCopy=new i);var e=arguments;return inverseCopy.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),inverseCopy.invert()?(this.preApply(inverseCopy),!0):!1},rotateX:function(e){var t=Math.cos(e),n=Math.sin(e);this.apply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},rotateY:function(e){var t=Math.cos(e),n=Math.sin(e);this.apply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},rotateZ:function(e){var t=Math.cos(e),n=Math.sin(e);this.apply([t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){!e||t||n?e&&t&&!n&&(n=1):t=n=e,e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){var t=Math.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){var t=Math.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){var t=Math.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){var t=Math.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,i){return n?i?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*i:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,i){return n?i?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*i:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,i){return i?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*i:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,i){return i?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*i:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],n=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],r=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],s=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],l=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],h=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],d=e*h-t*c+n*u+i*l-r*a+o*s;if(Math.abs(d)<=1e-9)return!1;var p=[];p[0]=+this.elements[5]*h-this.elements[6]*c+this.elements[7]*u,p[4]=-this.elements[4]*h+this.elements[6]*l-this.elements[7]*a,p[8]=+this.elements[4]*c-this.elements[5]*l+this.elements[7]*s,p[12]=-this.elements[4]*u+this.elements[5]*a-this.elements[6]*s,p[1]=-this.elements[1]*h+this.elements[2]*c-this.elements[3]*u,p[5]=+this.elements[0]*h-this.elements[2]*l+this.elements[3]*a,p[9]=-this.elements[0]*c+this.elements[1]*l-this.elements[3]*s,p[13]=+this.elements[0]*u-this.elements[1]*a+this.elements[2]*s,p[2]=+this.elements[13]*o-this.elements[14]*r+this.elements[15]*i,p[6]=-this.elements[12]*o+this.elements[14]*n-this.elements[15]*t,p[10]=+this.elements[12]*r-this.elements[13]*n+this.elements[15]*e,p[14]=-this.elements[12]*i+this.elements[13]*t-this.elements[14]*e,p[3]=-this.elements[9]*o+this.elements[10]*r-this.elements[11]*i,p[7]=+this.elements[8]*o-this.elements[10]*n+this.elements[11]*t,p[11]=-this.elements[8]*r+this.elements[9]*n-this.elements[11]*e,p[15]=+this.elements[8]*i-this.elements[9]*t+this.elements[10]*e;var f=1/d;return p[0]*=f,p[1]*=f,p[2]*=f,p[3]*=f,p[4]*=f,p[5]*=f,p[6]*=f,p[7]*=f,p[8]*=f,p[9]*=f,p[10]*=f,p[11]*=f,p[12]*=f,p[13]*=f,p[14]*=f,p[15]*=f,this.elements=p.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+=this.elements[15]},print:function(){var e=printMatrixHelper(this.elements),t=""+n.nfs(this.elements[0],e,4)+" "+n.nfs(this.elements[1],e,4)+" "+n.nfs(this.elements[2],e,4)+" "+n.nfs(this.elements[3],e,4)+"\n"+n.nfs(this.elements[4],e,4)+" "+n.nfs(this.elements[5],e,4)+" "+n.nfs(this.elements[6],e,4)+" "+n.nfs(this.elements[7],e,4)+"\n"+n.nfs(this.elements[8],e,4)+" "+n.nfs(this.elements[9],e,4)+" "+n.nfs(this.elements[10],e,4)+" "+n.nfs(this.elements[11],e,4)+"\n"+n.nfs(this.elements[12],e,4)+" "+n.nfs(this.elements[13],e,4)+" "+n.nfs(this.elements[14],e,4)+" "+n.nfs(this.elements[15],e,4)+"\n\n";n.println(t)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=Math.cos(-e),n=Math.sin(-e);this.preApply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},invRotateY:function(e){var t=Math.cos(-e),n=Math.sin(-e);this.preApply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=Math.cos(-e),n=Math.sin(-e);this.preApply([t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}},i}},{}],16:[function(e,t){t.exports=function(e){var t=e.PConstants,n=e.PMatrix2D,i=e.PMatrix3D,r=function(e){this.family=e||t.GROUP,this.visible=!0,this.style=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.image=null,this.matrix=null,this.kind=null,this.close=null,this.width=null,this.height=null,this.parent=null};return r.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,t=this.children.length;t>e;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,t=this.children.length;t>e;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){if(!e)throw"render context missing for draw() in PShape";this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){this.family===t.GROUP?this.drawGroup(e):this.family===t.PRIMITIVE?this.drawPrimitive(e):this.family===t.GEOMETRY?this.drawGeometry(e):this.family===t.PATH&&this.drawPath(e)},drawPath:function(e){var n,i;if(0!==this.vertices.length){if(e.beginShape(),0===this.vertexCodes.length)if(2===this.vertices[0].length)for(n=0,i=this.vertices.length;i>n;n++)e.vertex(this.vertices[n][0],this.vertices[n][1]);else for(n=0,i=this.vertices.length;i>n;n++)e.vertex(this.vertices[n][0],this.vertices[n][1],this.vertices[n][2]);else{var r=0;if(2===this.vertices[0].length)for(n=0,i=this.vertexCodes.length;i>n;n++)this.vertexCodes[n]===t.VERTEX?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r].moveTo),e.breakShape=!1,r++):this.vertexCodes[n]===t.BEZIER_VERTEX?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+2][0],this.vertices[r+2][1]),r+=3):this.vertexCodes[n]===t.CURVE_VERTEX?(e.curveVertex(this.vertices[r][0],this.vertices[r][1]),r++):this.vertexCodes[n]===t.BREAK&&(e.breakShape=!0);else for(n=0,i=this.vertexCodes.length;i>n;n++)this.vertexCodes[n]===t.VERTEX?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),this.vertices[r].moveTo===!0?vertArray[vertArray.length-1].moveTo=!0:this.vertices[r].moveTo===!1&&(vertArray[vertArray.length-1].moveTo=!1),e.breakShape=!1):this.vertexCodes[n]===t.BEZIER_VERTEX?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+0][2],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+1][2],this.vertices[r+2][0],this.vertices[r+2][1],this.vertices[r+2][2]),r+=3):this.vertexCodes[n]===t.CURVE_VERTEX?(e.curveVertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),r++):this.vertexCodes[n]===t.BREAK&&(e.breakShape=!0)}e.endShape(this.close?t.CLOSE:t.OPEN)}},drawGeometry:function(e){var t,n;if(e.beginShape(this.kind),this.style)for(t=0,n=this.vertices.length;n>t;t++)e.vertex(this.vertices[t]);else for(t=0,n=this.vertices.length;n>t;t++){var i=this.vertices[t];0===i[2]?e.vertex(i[0],i[1]):e.vertex(i[0],i[1],i[2])}e.endShape()},drawGroup:function(e){for(var t=0,n=this.children.length;n>t;t++)this.children[t].draw(e)},drawPrimitive:function(e){if(this.kind===t.POINT)e.point(this.params[0],this.params[1]);else if(this.kind===t.LINE)4===this.params.length?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===t.TRIANGLE)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===t.QUAD)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===t.RECT)if(null!==this.image){var n=imageModeConvert;e.imageMode(t.CORNER),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),imageModeConvert=n}else{var i=e.curRectMode;e.rectMode(t.CORNER),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),e.curRectMode=i}else if(this.kind===t.ELLIPSE){var r=e.curEllipseMode;e.ellipseMode(t.CORNER),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),e.curEllipseMode=r}else if(this.kind===t.ARC){var o=curEllipseMode;e.ellipseMode(t.CORNER),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),curEllipseMode=o}else this.kind===t.BOX?1===this.params.length?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):this.kind===t.SPHERE&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var t,n;if("number"==typeof e)return this.children[e];var i;if(""===e||this.name===e)return this;if(this.nameTable.length>0){for(t=0,n=this.nameTable.length;n>t||i;t++)if(this.nameTable[t].getName===e){i=this.nameTable[t];break}if(i)return i}for(t=0,n=this.children.length;n>t;t++)if(i=this.children[t].getChild(e))return i;return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,null!==e.getName()&&this.addName(e.getName(),e)},addName:function(e,t){null!==this.parent?this.parent.addName(e,t):this.nameTable.push([e,t])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){null===this.matrix?this.matrix=2===e?new n:new i:3===e&&this.matrix instanceof n&&(this.matrix=new i)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){1===arguments.length?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}},r}},{}],17:[function(e,t){t.exports=function(e){var t=e.CommonFunctions,n=e.PConstants,i=e.PShape,r=e.XMLElement,o=e.colors,s=function(){if(i.call(this),1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=n.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=n.SQUARE,this.strokeJoin=n.MITER,this.strokeGradient=null,this.strokeGradientPaint=null,this.strokeName=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=n.ALPHA_MASK,this.fillGradient=null,this.fillGradientPaint=null,this.fillName=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">"}else 2===arguments.length&&("string"==typeof arguments[1]?arguments[1].indexOf(".svg")>-1&&(this.element=new r(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=n.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=n.SQUARE,this.strokeJoin=n.MITER,this.strokeGradient="",this.strokeGradientPaint="",this.strokeName="",this.strokeOpacity=1,this.fill=!0,this.fillColor=n.ALPHA_MASK,this.fillGradient=null,this.fillGradientPaint=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");var e=this.element.getStringAttribute("display","inline");this.visible="none"!==e;var t=this.element.getAttribute("transform");t&&(this.matrix=this.parseMatrix(t));var o=this.element.getStringAttribute("viewBox");if(null!==o){var s=o.split(" ");this.width=s[2],this.height=s[3]}var a=this.element.getStringAttribute("width"),l=this.element.getStringAttribute("height");if(null!==a)this.width=this.parseUnitSize(a),this.height=this.parseUnitSize(l);else if(0===this.width||0===this.height)throw this.width=1,this.height=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};return s.prototype=new i,s.prototype.parseMatrix=function(){function e(e){var t=[];return e.replace(/\((.*?)\)/,function(){return function(e,n){t=n.replace(/,+/g," ").split(/\s+/)}}()),t}return function(n){this.checkMatrix(2);var i=[];if(n.replace(/\s*(\w+)\((.*?)\)/g,function(e){i.push(t.trim(e))}),0===i.length)return null;for(var r=0,o=i.length;o>r;r++){var s=e(i[r]);if(-1!==i[r].indexOf("matrix"))this.matrix.set(s[0],s[2],s[4],s[1],s[3],s[5]);
else if(-1!==i[r].indexOf("translate")){var a=s[0],l=2===s.length?s[1]:0;this.matrix.translate(a,l)}else if(-1!==i[r].indexOf("scale")){var u=s[0],c=2===s.length?s[1]:s[0];this.matrix.scale(u,c)}else if(-1!==i[r].indexOf("rotate")){var h=s[0];1===s.length?this.matrix.rotate(t.radians(h)):3===s.length&&(this.matrix.translate(s[1],s[2]),this.matrix.rotate(t.radians(s[0])),this.matrix.translate(-s[1],-s[2]))}else-1!==i[r].indexOf("skewX")?this.matrix.skewX(parseFloat(s[0])):-1!==i[r].indexOf("skewY")?this.matrix.skewY(s[0]):-1!==i[r].indexOf("shearX")?this.matrix.shearX(s[0]):-1!==i[r].indexOf("shearY")&&this.matrix.shearY(s[0])}return this.matrix}}(),s.prototype.parseChildren=function(e){var t,n,r=e.getChildren(),o=new i;for(t=0,n=r.length;n>t;t++){var s=this.parseChild(r[t]);s&&o.addChild(s)}for(t=0,n=o.children.length;n>t;t++)this.children.push(o.children[t])},s.prototype.getName=function(){return this.name},s.prototype.parseChild=function(e){var t,n=e.getName();return"g"===n?t=new s(this,e):"defs"===n?t=new s(this,e):"line"===n?(t=new s(this,e),t.parseLine()):"circle"===n?(t=new s(this,e),t.parseEllipse(!0)):"ellipse"===n?(t=new s(this,e),t.parseEllipse(!1)):"rect"===n?(t=new s(this,e),t.parseRect()):"polygon"===n?(t=new s(this,e),t.parsePoly(!0)):"polyline"===n?(t=new s(this,e),t.parsePoly(!1)):"path"===n?(t=new s(this,e),t.parsePath()):"radialGradient"===n?unimplemented("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===n?unimplemented("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===n?unimplemented("PShapeSVG.prototype.parseChild, name = text"):"filter"===n?unimplemented("PShapeSVG.prototype.parseChild, name = filter"):"mask"===n&&unimplemented("PShapeSVG.prototype.parseChild, name = mask"),t},s.prototype.parsePath=function(){this.family=n.PATH,this.kind=0;var e=t.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==e){e=e.split("");for(var i,r,o,s,a=0,l=0,u=0,c=0,h=0,d=0,p=0,f=0,g=0,m=0,v=0,y=0,b=0,w=0,C=0,x=0,A="",S=[],_=!1;C<e.length;)if(x=e[C].charCodeAt(0),x>=65&&90>=x||x>=97&&122>=x){if(o=C,C++,C<e.length)for(S=[],x=e[C].charCodeAt(0);!(x>=65&&90>=x||x>=97&&100>=x||x>=102&&122>=x)&&_===!1;)32===x?(""!==A&&(S.push(parseFloat(A)),A=""),C++):45===x?101===e[C-1].charCodeAt(0)?(A+=e[C].toString(),C++):(""!==A&&S.push(parseFloat(A)),A=e[C].toString(),C++):(A+=e[C].toString(),C++),C===e.length?_=!0:x=e[C].charCodeAt(0);if(""!==A&&(S.push(parseFloat(A)),A=""),r=e[o],x=r.charCodeAt(0),77===x){if(S.length>=2&&0===S.length%2&&(a=S[0],l=S[1],this.parsePathMoveto(a,l),S.length>2))for(o=2,s=S.length;s>o;o+=2)a=S[o],l=S[o+1],this.parsePathLineto(a,l)}else if(109===x){if(S.length>=2&&0===S.length%2&&(a+=S[0],l+=S[1],this.parsePathMoveto(a,l),S.length>2))for(o=2,s=S.length;s>o;o+=2)a+=S[o],l+=S[o+1],this.parsePathLineto(a,l)}else if(76===x){if(S.length>=2&&0===S.length%2)for(o=0,s=S.length;s>o;o+=2)a=S[o],l=S[o+1],this.parsePathLineto(a,l)}else if(108===x){if(S.length>=2&&0===S.length%2)for(o=0,s=S.length;s>o;o+=2)a+=S[o],l+=S[o+1],this.parsePathLineto(a,l)}else if(72===x)for(o=0,s=S.length;s>o;o++)a=S[o],this.parsePathLineto(a,l);else if(104===x)for(o=0,s=S.length;s>o;o++)a+=S[o],this.parsePathLineto(a,l);else if(86===x)for(o=0,s=S.length;s>o;o++)l=S[o],this.parsePathLineto(a,l);else if(118===x)for(o=0,s=S.length;s>o;o++)l+=S[o],this.parsePathLineto(a,l);else if(67===x){if(S.length>=6&&0===S.length%6)for(o=0,s=S.length;s>o;o+=6)h=S[o],p=S[o+1],d=S[o+2],f=S[o+3],g=S[o+4],m=S[o+5],this.parsePathCurveto(h,p,d,f,g,m),a=g,l=m}else if(99===x){if(S.length>=6&&0===S.length%6)for(o=0,s=S.length;s>o;o+=6)h=a+S[o],p=l+S[o+1],d=a+S[o+2],f=l+S[o+3],g=a+S[o+4],m=l+S[o+5],this.parsePathCurveto(h,p,d,f,g,m),a=g,l=m}else if(83===x){if(S.length>=4&&0===S.length%4)for(o=0,s=S.length;s>o;o+=4)"c"===i.toLowerCase()||"s"===i.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],b=this.vertices[this.vertices.length-1][0],w=this.vertices[this.vertices.length-1][1],h=b+(b-v),p=w+(w-y)):(h=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1]),d=S[o],f=S[o+1],g=S[o+2],m=S[o+3],this.parsePathCurveto(h,p,d,f,g,m),a=g,l=m}else if(115===x){if(S.length>=4&&0===S.length%4)for(o=0,s=S.length;s>o;o+=4)"c"===i.toLowerCase()||"s"===i.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],b=this.vertices[this.vertices.length-1][0],w=this.vertices[this.vertices.length-1][1],h=b+(b-v),p=w+(w-y)):(h=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1]),d=a+S[o],f=l+S[o+1],g=a+S[o+2],m=l+S[o+3],this.parsePathCurveto(h,p,d,f,g,m),a=g,l=m}else if(81===x){if(S.length>=4&&0===S.length%4)for(o=0,s=S.length;s>o;o+=4)u=S[o],c=S[o+1],g=S[o+2],m=S[o+3],this.parsePathQuadto(a,l,u,c,g,m),a=g,l=m}else if(113===x){if(S.length>=4&&0===S.length%4)for(o=0,s=S.length;s>o;o+=4)u=a+S[o],c=l+S[o+1],g=a+S[o+2],m=l+S[o+3],this.parsePathQuadto(a,l,u,c,g,m),a=g,l=m}else if(84===x){if(S.length>=2&&0===S.length%2)for(o=0,s=S.length;s>o;o+=2)"q"===i.toLowerCase()||"t"===i.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],b=this.vertices[this.vertices.length-1][0],w=this.vertices[this.vertices.length-1][1],u=b+(b-v),c=w+(w-y)):(u=a,c=l),g=S[o],m=S[o+1],this.parsePathQuadto(a,l,u,c,g,m),a=g,l=m}else if(116===x){if(S.length>=2&&0===S.length%2)for(o=0,s=S.length;s>o;o+=2)"q"===i.toLowerCase()||"t"===i.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],b=this.vertices[this.vertices.length-1][0],w=this.vertices[this.vertices.length-1][1],u=b+(b-v),c=w+(w-y)):(u=a,c=l),g=a+S[o],m=l+S[o+1],this.parsePathQuadto(a,l,u,c,g,m),a=g,l=m}else(90===x||122===x)&&(this.close=!0);i=r.toString()}else C++}},s.prototype.parsePathQuadto=function(e,t,i,r,o,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(n.BEZIER_VERTEX),this.parsePathVertex(e+2*(i-e)/3,t+2*(r-t)/3),this.parsePathVertex(o+2*(i-o)/3,s+2*(r-s)/3),this.parsePathVertex(o,s)},s.prototype.parsePathCurveto=function(e,t,i,r,o,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(n.BEZIER_VERTEX),this.parsePathVertex(e,t),this.parsePathVertex(i,r),this.parsePathVertex(o,s)},s.prototype.parsePathLineto=function(e,t){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(n.VERTEX),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!1},s.prototype.parsePathMoveto=function(e,t){this.vertices.length>0&&this.parsePathCode(n.BREAK),this.parsePathCode(n.VERTEX),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!0},s.prototype.parsePathVertex=function(e,t){var n=[];n[0]=e,n[1]=t,this.vertices.push(n)},s.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},s.prototype.parsePoly=function(e){this.family=n.PATH,this.close=e;var i=t.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(null!==i){var r=i.split(" ");if(0!==r.length%2)throw"Error parsing polygon points: odd number of coordinates provided";for(var o=0,s=r.length;s>o;o++){var a=[];a[0]=r[o],a[1]=r[++o],this.vertices.push(a)}}},s.prototype.parseRect=function(){if(this.kind=n.RECT,this.family=n.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height"),this.params[2]<0||this.params[3]<0)throw"svg error: negative width or height found while parsing <rect>"},s.prototype.parseEllipse=function(e){this.kind=n.ELLIPSE,this.family=n.PRIMITIVE,this.params=[],this.params[0]=0|this.element.getFloatAttribute("cx"),this.params[1]=0|this.element.getFloatAttribute("cy");var t,i;if(e){if(t=i=this.element.getFloatAttribute("r"),0>t)throw"svg error: negative radius found while parsing <circle>"}else if(t=this.element.getFloatAttribute("rx"),i=this.element.getFloatAttribute("ry"),0>t||0>i)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=t,this.params[1]-=i,this.params[2]=2*t,this.params[3]=2*i},s.prototype.parseLine=function(){this.kind=n.LINE,this.family=n.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},s.prototype.parseColors=function(e){if(e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill")),e.hasAttribute("style"))for(var n=e.getStringAttribute("style"),i=n.toString().split(";"),r=0,o=i.length;o>r;r++){var s=t.trim(i[r].split(":"));"fill"===s[0]?this.setFill(s[1]):"fill-opacity"===s[0]?this.setFillOpacity(s[1]):"stroke"===s[0]?this.setStroke(s[1]):"stroke-width"===s[0]?this.setStrokeWeight(s[1]):"stroke-linecap"===s[0]?this.setStrokeCap(s[1]):"stroke-linejoin"===s[0]?this.setStrokeJoin(s[1]):"stroke-opacity"===s[0]?this.setStrokeOpacity(s[1]):"opacity"===s[0]&&this.setOpacity(s[1])}},s.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},s.prototype.setFill=function(e){var t=4278190080&this.fillColor;"none"===e?this.fill=!1:0===e.indexOf("#")?(this.fill=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.fill=!0,this.fillColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.fillName=e.substring(5,e.length-1):o[e]&&(this.fill=!0,this.fillColor=t|16777215&parseInt(o[e].substring(1),16))},s.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(e)<<24|16777215&this.fillColor},s.prototype.setStroke=function(e){var t=4278190080&this.strokeColor;"none"===e?this.stroke=!1:"#"===e.charAt(0)?(this.stroke=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.stroke=!0,this.strokeColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.strokeName=e.substring(5,e.length-1):o[e]&&(this.stroke=!0,this.strokeColor=t|16777215&parseInt(o[e].substring(1),16))},s.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},s.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin=n.MITER:"round"===e?this.strokeJoin=n.ROUND:"bevel"===e&&(this.strokeJoin=n.BEVEL)},s.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap=n.SQUARE:"round"===e?this.strokeCap=n.ROUND:"square"===e&&(this.strokeCap=n.PROJECT)},s.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},s.prototype.parseRGB=function(e){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")),n=t.split(", ");return n[0]<<16|n[1]<<8|n[2]},s.prototype.parseUnitSize=function(e){var t=e.length-2;return 0>t?e:e.indexOf("pt")===t?1.25*parseFloat(e.substring(0,t)):e.indexOf("pc")===t?15*parseFloat(e.substring(0,t)):e.indexOf("mm")===t?3.543307*parseFloat(e.substring(0,t)):e.indexOf("cm")===t?35.43307*parseFloat(e.substring(0,t)):e.indexOf("in")===t?90*parseFloat(e.substring(0,t)):e.indexOf("px")===t?parseFloat(e.substring(0,t)):parseFloat(e)},s}},{}],18:[function(e,t){t.exports=function(e,t){function n(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function i(e){return function(t,n){var i=t.get();return i[e](n),i}}var r=e.PConstants;n.fromAngle=function(e,i){return(i===t||null===i)&&(i=new n),i.x=Math.cos(e),i.y=Math.sin(e),i},n.random2D=function(e){return n.fromAngle(Math.random()*r.TWO_PI,e)},n.random3D=function(e){var i=Math.random()*r.TWO_PI,o=2*Math.random()-1,s=Math.sqrt(1-o*o),a=s*Math.cos(i),l=s*Math.sin(i);return e===t||null===e?e=new n(a,l,o):e.set(a,l,o),e},n.dist=function(e,t){return e.dist(t)},n.dot=function(e,t){return e.dot(t)},n.cross=function(e,t){return e.cross(t)},n.sub=function(e,t){return new n(e.x-t.x,e.y-t.y,e.z-t.z)},n.angleBetween=function(e,t){return Math.acos(e.dot(t)/Math.sqrt(e.magSq()*t.magSq()))},n.lerp=function(e,t,i){var r=new n(e.x,e.y,e.z);return r.lerp(t,i),r},n.prototype={set:function(e,t,n){1===arguments.length?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=t,this.z=n)},get:function(){return new n(this.x,this.y,this.z)},mag:function(){var e=this.x,t=this.y,n=this.z;return Math.sqrt(e*e+t*t+n*n)},magSq:function(){var e=this.x,t=this.y,n=this.z;return e*e+t*t+n*n},setMag:function(e,n){if(n!==t){var i=e;return i.normalize(),i.mult(n),i}n=e,this.normalize(),this.mult(n)},add:function(e,t,n){1===arguments.length?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=t,this.z+=n)},sub:function(e,t,n){1===arguments.length?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=t,this.z-=n)},mult:function(e){"number"==typeof e?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){"number"==typeof e?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},rotate:function(e){var t=this.x,n=Math.cos(e),i=Math.sin(e);this.x=n*this.x-i*this.y,this.y=i*t+n*this.y},dist:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return Math.sqrt(t*t+n*n+i*i)},dot:function(e,t,n){return 1===arguments.length?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*t+this.z*n},cross:function(e){var t=this.x,i=this.y,r=this.z;return new n(i*e.z-e.y*r,r*e.x-e.z*t,t*e.y-e.x*i)},lerp:function(e,t,n,i){var r,o,s=function(e,t,n){return e+(t-e)*n};2===arguments.length?(i=t,r=e.x,o=e.y,n=e.z):(r=e,o=t),this.x=s(this.x,r,i),this.y=s(this.y,o,i),this.z=s(this.z,n,i)},normalize:function(){var e=this.mag();e>0&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading:function(){return-Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var o in n.prototype)n.prototype.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i(o));return n}},{}],19:[function(e,t){t.exports=function(){var e=function(e,t,n,i,r){this.fullName=e||"",this.name=t||"",this.namespace=n||"",this.value=i,this.type=r};return e.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}},e}},{}],20:[function(e,t){t.exports=function(e,t){var n=e.Browser,i=n.ajax,r=n.window,o=(r.XMLHttpRequest,r.DOMParser),s=e.XMLAttribute,a=function(e,n,i,r){this.attributes=[],this.children=[],this.fullName=null,this.name=null,this.namespace="",this.content=null,this.parent=null,this.lineNr="",this.systemID="",this.type="ELEMENT",e&&("string"==typeof e?n===t&&e.indexOf("<")>-1?this.parse(e):(this.fullName=e,this.namespace=n,this.systemId=i,this.lineNr=r):this.parse(n,!0))};return a.prototype={parse:function(e,t){var n;try{t&&(e=i(e)),n=(new o).parseFromString(e,"text/xml");var r=n.documentElement;if(!r)throw"Error loading document";return this.parseChildrenRecursive(null,r),this}catch(s){throw s}},parseChildrenRecursive:function(e,t){var n,i,r,o,l,u;if(e?(n=new a(t.nodeName),n.parent=e):(this.fullName=t.localName,this.name=t.nodeName,n=this),3===t.nodeType&&""!==t.textContent)return this.createPCDataElement(t.textContent);if(4===t.nodeType)return this.createCDataElement(t.textContent);if(t.attributes)for(o=0,l=t.attributes.length;l>o;o++)r=t.attributes[o],i=new s(r.getname,r.nodeName,r.namespaceURI,r.nodeValue,r.nodeType),n.attributes.push(i);if(t.childNodes)for(o=0,l=t.childNodes.length;l>o;o++){var c=t.childNodes[o];u=n.parseChildrenRecursive(n,c),null!==u&&n.children.push(u)}return n},createElement:function(e,n,i,r){return i===t?new a(e,n):new a(e,n,i,r)},createPCDataElement:function(e){if(""===e.replace(/^\s+$/g,""))return null;var t=new a;return t.type="TEXT",t.content=e,t},createCDataElement:function(e){var t=this.createPCDataElement(e);if(null===t)return null;t.type="CDATA";var n,i={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};for(n in i)Object.hasOwnProperty(i,n)||(e=e.replace(new RegExp(n,"g"),i[n]));return t.cdata=e,t},hasAttribute:function(){return 1===arguments.length?null!==this.getAttribute(arguments[0]):2===arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(e){if(!(e instanceof a))return!1;var t,n;if(this.fullName!==e.fullName)return!1;if(this.attributes.length!==e.getAttributeCount())return!1;if(this.attributes.length!==e.attributes.length)return!1;var i,r,o;for(t=0,n=this.attributes.length;n>t;t++){if(i=this.attributes[t].getName(),r=this.attributes[t].getNamespace(),o=e.findAttribute(i,r),null===o)return!1;if(this.attributes[t].getValue()!==o.getValue())return!1;if(this.attributes[t].getType()!==o.getType())return!1}if(this.children.length!==e.getChildCount())return!1;if(this.children.length>0){var s,l;for(t=0,n=this.children.length;n>t;t++)if(s=this.getChild(t),l=e.getChild(t),!s.equals(l))return!1;return!0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var e=this.children;return 1!==e.length||"TEXT"!==e[0].type&&"CDATA"!==e[0].type?null:e[0].content},getAttribute:function(){var e;return 2===arguments.length?(e=this.findAttribute(arguments[0]),e?e.getValue():arguments[1]):1===arguments.length?(e=this.findAttribute(arguments[0]),e?e.getValue():null):3===arguments.length?(e=this.findAttribute(arguments[0],arguments[1]),e?e.getValue():arguments[2]):void 0},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return this.children.length>0},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(e,t){if(e){if(null===e.getLocalName()&&!this.hasChildren()){var n=this.children[this.children.length-1];if(null===n.getLocalName())return n.setContent(n.getContent()+e.getContent()),void 0}e.parent=this,this.children.splice(t,0,e)}},getChild:function(e){if("number"==typeof e)return this.children[e];if(-1!==e.indexOf("/"))return this.getChildRecursive(e.split("/"),0);for(var t,n,i=0,r=this.getChildCount();r>i;i++)if(t=this.getChild(i),n=t.getName(),null!==n&&n===e)return t;return null},getChildren:function(){if(1===arguments.length){if("number"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var e,t,n=[],i=0,r=this.getChildCount();r>i;i++)e=this.getChild(i),t=e.getName(),null!==t&&t===arguments[0]&&n.push(e);return n}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,t){if(t===e.length)return this;for(var n,i,r=e[t],o=0,s=this.getChildCount();s>o;o++)if(n=this.getChild(o),i=n.getName(),null!==i&&i===r)return n.getChildRecursive(e,t+1);return null},getChildrenRecursive:function(e,t){if(t===e.length-1)return this.getChildren(e[t]);for(var n=this.getChildren(e[t]),i=[],r=0;r<n.length;r++)i=i.concat(n[r].getChildrenRecursive(e,t+1));return i},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var e=[],t=0,n=this.children.length;n>t;t++)e.push(this.getChild(t).getName());return e},removeAttribute:function(e,t){this.namespace=t||"";for(var n=0,i=this.attributes.length;i>n;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace){this.attributes.splice(n,1);break}},removeChild:function(e){if(e)for(var t=0,n=this.children.length;n>t;t++)if(this.children[t].equals(e)){this.children.splice(t,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,t){this.namespace=t||"";for(var n=0,i=this.attributes.length;i>n;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace)return this.attributes[n];return null},setAttribute:function(){var e;if(3===arguments.length){var t=arguments[0].indexOf(":"),n=arguments[0].substring(t+1);e=this.findAttribute(n,arguments[1]),e?e.setValue(arguments[2]):(e=new s(arguments[0],n,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else e=this.findAttribute(arguments[0]),e?e.setValue(arguments[1]):(e=new s(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,t){this.setAttribute(e,t)},setInt:function(e,t){this.setAttribute(e,t)},setFloat:function(e,t){this.setAttribute(e,t)},setContent:function(e){this.children.length>0&&Processing.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");this.name=null===arguments[1]||0>e?arguments[0]:arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content||"";if("CDATA"===this.type)return this.cdata||"";var e,t,n=this.fullName,i="<"+n;for(e=0;e<this.attributes.length;e++){var r=this.attributes[e];i+=" "+r.getName()+"="+'"'+r.getValue()+'"'}if(0===this.children.length)i+=""===this.content||null===this.content||void 0===this.content?"/>":">"+this.content+"</"+n+">";else{for(i+=">",t=0;t<this.children.length;t++)i+=this.children[t].toString();i+="</"+n+">"}return i}},a.parse=function(e){var t=new a;return t.parse(e),t},a}},{}],21:[function(e,t){t.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],22:[function(e,t){t.exports=function(e,t,n){return function(i,r){i.__contains=function(e,t){return"string"!=typeof e?e.contains.apply(e,r(arguments)):null!==e&&null!==t&&"string"==typeof t&&e.indexOf(t)>-1},i.__replaceAll=function(e,t,n){return"string"!=typeof e?e.replaceAll.apply(e,r(arguments)):e.replace(new RegExp(t,"g"),n)},i.__replaceFirst=function(e,t,n){return"string"!=typeof e?e.replaceFirst.apply(e,r(arguments)):e.replace(new RegExp(t,""),n)},i.__replace=function(e,t,n){if("string"!=typeof e)return e.replace.apply(e,r(arguments));if(t instanceof RegExp)return e.replace(t,n);if("string"!=typeof t&&(t=t.toString()),""===t)return e;var i=e.indexOf(t);if(0>i)return e;var o=0,s="";do s+=e.substring(o,i)+n,o=i+t.length;while((i=e.indexOf(t,o))>=0);return s+e.substring(o)},i.__equals=function(e,n){return e.equals instanceof Function?e.equals.apply(e,r(arguments)):t(e,n)},i.__equalsIgnoreCase=function(e,t){return"string"!=typeof e?e.equalsIgnoreCase.apply(e,r(arguments)):e.toLowerCase()===t.toLowerCase()},i.__toCharArray=function(e){if("string"!=typeof e)return e.toCharArray.apply(e,r(arguments));for(var t=[],n=0,i=e.length;i>n;++n)t[n]=new Char(e.charAt(n));return t},i.__split=function(e,t,i){if("string"!=typeof e)return e.split.apply(e,r(arguments));var o=new RegExp(t);if(i===n||1>i)return e.split(o);for(var s,a=[],l=e;-1!==(s=l.search(o))&&a.length<i-1;){var u=o.exec(l).toString();a.push(l.substring(0,s)),l=l.substring(s+u.length)}return(-1!==s||""!==l)&&a.push(l),a},i.__codePointAt=function(e,t){var n,i,r=e.charCodeAt(t);return r>=55296&&56319>=r?(n=r,i=e.charCodeAt(t+1),1024*(n-55296)+(i-56320)+65536):r},i.__matches=function(e,t){return new RegExp(t).test(e)},i.__startsWith=function(e,t,n){return"string"!=typeof e?e.startsWith.apply(e,r(arguments)):(n=n||0,0>n||n>e.length?!1:""===t||t===e?!0:e.indexOf(t)===n)},i.__endsWith=function(e,t){if("string"!=typeof e)return e.endsWith.apply(e,r(arguments));var n=t?t.length:0;return""===t||t===e?!0:e.indexOf(t)===e.length-n},i.__hashCode=function(t){return t.hashCode instanceof Function?t.hashCode.apply(t,r(arguments)):e(t)},i.__printStackTrace=function(e){i.println("Exception: "+e.toString())}}}},{}],23:[function(e,t){t.exports=function(e,t){function n(e,t){var n=e||362436069,i=t||521288629,r=function(){return n=4294967295&36969*(65535&n)+(n>>>16),i=4294967295&18e3*(65535&i)+(i>>>16),4294967295&((65535&n)<<16|65535&i)};this.doubleGenerator=function(){var e=r()/4294967296;return 0>e?1+e:e},this.intGenerator=r}function i(e){function i(e,t,n,i){var r=15&e,o=8>r?t:n,s=4>r?n:12===r||14===r?t:i;return(0===(1&r)?o:-o)+(0===(2&r)?s:-s)}function r(e,t,n){var i=0===(1&e)?t:n;return 0===(2&e)?-i:i}function o(e,t){return 0===(1&e)?-t:t}function s(e,t,n){return t+e*(n-t)}var a,l,u=e!==t?new n(e,(e<<16)+(e>>16)):n.createRandomized(),c=new Uint8Array(512);for(a=0;256>a;++a)c[a]=a;for(a=0;256>a;++a){var h=c[l=255&u.intGenerator()];c[l]=c[a],c[a]=h}for(a=0;256>a;++a)c[a+256]=c[a];this.noise3d=function(e,t,n){var r=255&Math.floor(e),o=255&Math.floor(t),a=255&Math.floor(n);e-=Math.floor(e),t-=Math.floor(t),n-=Math.floor(n);var l=(3-2*e)*e*e,u=(3-2*t)*t*t,h=(3-2*n)*n*n,d=c[r]+o,p=c[d]+a,f=c[d+1]+a,g=c[r+1]+o,m=c[g]+a,v=c[g+1]+a;return s(h,s(u,s(l,i(c[p],e,t,n),i(c[m],e-1,t,n)),s(l,i(c[f],e,t-1,n),i(c[v],e-1,t-1,n))),s(u,s(l,i(c[p+1],e,t,n-1),i(c[m+1],e-1,t,n-1)),s(l,i(c[f+1],e,t-1,n-1),i(c[v+1],e-1,t-1,n-1))))},this.noise2d=function(e,t){var n=255&Math.floor(e),i=255&Math.floor(t);e-=Math.floor(e),t-=Math.floor(t);var o=(3-2*e)*e*e,a=(3-2*t)*t*t,l=c[n]+i,u=c[n+1]+i;return s(a,s(o,r(c[l],e,t),r(c[u],e-1,t)),s(o,r(c[l+1],e,t-1),r(c[u+1],e-1,t-1)))},this.noise1d=function(e){var t=255&Math.floor(e);e-=Math.floor(e);var n=(3-2*e)*e*e;return s(n,o(c[t],e),o(c[t+1],e-1))}}var r=function(){return Math.random()};e.abs=Math.abs,e.ceil=Math.ceil,e.exp=Math.exp,e.floor=Math.floor,e.log=Math.log,e.pow=Math.pow,e.round=Math.round,e.sqrt=Math.sqrt,e.acos=Math.acos,e.asin=Math.asin,e.atan=Math.atan,e.atan2=Math.atan2,e.cos=Math.cos,e.sin=Math.sin,e.tan=Math.tan,e.constrain=function(e,t,n){return e>n?n:t>e?t:e},e.dist=function(){var e,t,n;return 4===arguments.length?(e=arguments[0]-arguments[2],t=arguments[1]-arguments[3],Math.sqrt(e*e+t*t)):6===arguments.length?(e=arguments[0]-arguments[3],t=arguments[1]-arguments[4],n=arguments[2]-arguments[5],Math.sqrt(e*e+t*t+n*n)):void 0},e.lerp=function(e,t,n){return(t-e)*n+e},e.mag=function(e,t,n){return n?Math.sqrt(e*e+t*t+n*n):Math.sqrt(e*e+t*t)},e.map=function(e,t,n,i,r){return i+(r-i)*((e-t)/(n-t))},e.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var t=e[0],n=e.length,i=1;n>i;++i)t<e[i]&&(t=e[i]);return t},e.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var t=e[0],n=e.length,i=1;n>i;++i)t>e[i]&&(t=e[i]);return t},e.norm=function(e,t,n){return(e-t)/(n-t)},e.sq=function(e){return e*e},e.degrees=function(e){return 180*e/Math.PI},e.random=function(){if(0===arguments.length)return r();if(1===arguments.length)return r()*arguments[0];var e=arguments[0],t=arguments[1];return r()*(t-e)+e},n.createRandomized=function(){var e=new Date;return new n(4294967295&e/6e4,4294967295&e)},e.randomSeed=function(e){r=new n(e,(e<<16)+(e>>16)).doubleGenerator,this.haveNextNextGaussian=!1},e.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var e,t,n;do e=2*r()-1,t=2*r()-1,n=e*e+t*t;while(n>=1||0===n);var i=Math.sqrt(-2*Math.log(n)/n);return this.nextNextGaussian=t*i,this.haveNextNextGaussian=!0,e*i};var o={generator:t,octaves:4,fallout:.5,seed:t};e.noise=function(e,n,r){o.generator===t&&(o.generator=new i(o.seed));for(var s=o.generator,a=1,l=1,u=0,c=0;c<o.octaves;++c){switch(a*=o.fallout,arguments.length){case 1:u+=a*(1+s.noise1d(l*e))/2;break;case 2:u+=a*(1+s.noise2d(l*e,l*n))/2;break;case 3:u+=a*(1+s.noise3d(l*e,l*n,l*r))/2}l*=2}return u},e.noiseDetail=function(e,n){o.octaves=e,n!==t&&(o.fallout=n)},e.noiseSeed=function(e){o.seed=e,o.generator=t
}}},{}],24:[function(e,t){t.exports=function(e){var t={trim:function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(e[n].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return t}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},radians:function(e){return e/180*Math.PI},nfCoreScalar:function(t,n,i,r,o,s){var a=0>t?i:n,l=0===o,u=o===e||0>o?0:o,c=Math.abs(t);if(l)for(u=1,c*=10;Math.abs(Math.round(c)-c)>1e-6&&7>u;)++u,c*=10;else 0!==u&&(c*=Math.pow(10,u));var h,d=2*c;if(Math.floor(c)===c)h=c;else if(Math.floor(d)===d){var p=Math.floor(c);h=p+p%2}else h=Math.round(c);for(var f="",g=r+u;g>0||h>0;)g--,f=""+h%10+f,h=Math.floor(h/10);if(s!==e)for(var m=f.length-3-u;m>0;)f=f.substring(0,m)+s+f.substring(m),m-=3;return u>0?a+f.substring(0,f.length-u)+"."+f.substring(f.length-u,f.length):a+f},nfCore:function(e,n,i,r,o,s){if(e instanceof Array){for(var a=[],l=0,u=e.length;u>l;l++)a.push(t.nfCoreScalar(e[l],n,i,r,o,s));return a}return t.nfCoreScalar(e,n,i,r,o,s)},nf:function(e,n,i){return t.nfCore(e,"","-",n,i)},nfs:function(e,n,i){return t.nfCore(e," ","-",n,i)},nfp:function(e,n,i){return t.nfCore(e,"+","-",n,i)},nfc:function(e,n){return t.nfCore(e,"","-",0,n,",")},withCommonFunctions:function(e){["trim","radians","nf","nfs","nfp","nfc"].forEach(function(n){e[n]=t[n]})}};return t}()},{}],25:[function(e,t){t.exports=function(e,t,n,i,r,o){function s(t){var n=t,r=0,o=0;if(e.pmouseX=e.mouseX,e.pmouseY=e.mouseY,n.offsetParent)do r+=n.offsetLeft,o+=n.offsetTop;while(n=n.offsetParent);n=t;do r-=n.scrollLeft||0,o-=n.scrollTop||0;while(n=n.parentNode);var s,a,l,u;return i.defaultView&&i.defaultView.getComputedStyle&&(s=parseInt(i.defaultView.getComputedStyle(t,null).paddingLeft,10)||0,a=parseInt(i.defaultView.getComputedStyle(t,null).paddingTop,10)||0,l=parseInt(i.defaultView.getComputedStyle(t,null).borderLeftWidth,10)||0,u=parseInt(i.defaultView.getComputedStyle(t,null).borderTopWidth,10)||0),r+=s,o+=a,r+=l,o+=u,r+=window.pageXOffset,o+=window.pageYOffset,{X:r,Y:o}}function a(t,n){var i=s(t,n);e.mouseX=n.pageX-i.X,e.mouseY=n.pageY-i.Y}function l(e){var t,n=s(e.changedTouches[0].target,e.changedTouches[0]);for(t=0;t<e.touches.length;t++){var i=e.touches[t];i.offsetX=i.pageX-n.X,i.offsetY=i.pageY-n.Y}for(t=0;t<e.targetTouches.length;t++){var r=e.targetTouches[t];r.offsetX=r.pageX-n.X,r.offsetY=r.pageY-n.Y}for(t=0;t<e.changedTouches.length;t++){var o=e.changedTouches[t];o.offsetX=o.pageX-n.X,o.offsetY=o.pageY-n.Y}return e}n(t,"touchstart",function(i){t.setAttribute("style","-webkit-user-select: none"),t.setAttribute("onclick","void(0)"),t.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var s=0,u=eventHandlers.length;u>s;s++){var c=eventHandlers[s].type;("mouseout"===c||"mousemove"===c||"mousedown"===c||"mouseup"===c||"DOMMouseScroll"===c||"mousewheel"===c||"touchstart"===c)&&detachEventHandler(eventHandlers[s])}e.touchStart!==o||e.touchMove!==o||e.touchEnd!==o||e.touchCancel!==o?(n(t,"touchstart",function(t){e.touchStart!==o&&(t=l(t),e.touchStart(t))}),n(t,"touchmove",function(t){e.touchMove!==o&&(t.preventDefault(),t=l(t),e.touchMove(t))}),n(t,"touchend",function(t){e.touchEnd!==o&&(t=l(t),e.touchEnd(t))}),n(t,"touchcancel",function(t){e.touchCancel!==o&&(t=l(t),e.touchCancel(t))})):(n(t,"touchstart",function(n){a(t,n.touches[0]),e.__mousePressed=!0,e.mouseDragging=!1,e.mouseButton=r.LEFT,"function"==typeof e.mousePressed&&e.mousePressed()}),n(t,"touchmove",function(n){n.preventDefault(),a(t,n.touches[0]),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),n(t,"touchend",function(){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()})),t.dispatchEvent(i)}),function(){var i=!0,r=function(e){e.preventDefault(),e.stopPropagation()};e.disableContextMenu=function(){i&&(n(t,"contextmenu",r),i=!1)},e.enableContextMenu=function(){i||(detachEventHandler({elem:t,type:"contextmenu",fn:r}),i=!0)}}(),n(t,"mousemove",function(n){a(t,n),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),n(t,"mouseout",function(){"function"==typeof e.mouseOut&&e.mouseOut()}),n(t,"mouseover",function(n){a(t,n),"function"==typeof e.mouseOver&&e.mouseOver()}),t.onmousedown=function(){return t.focus(),!1},n(t,"mousedown",function(t){switch(e.__mousePressed=!0,e.mouseDragging=!1,t.which){case 1:e.mouseButton=r.LEFT;break;case 2:e.mouseButton=r.CENTER;break;case 3:e.mouseButton=r.RIGHT}"function"==typeof e.mousePressed&&e.mousePressed()}),n(t,"mouseup",function(){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()});var u=function(t){var n=0;t.wheelDelta?(n=t.wheelDelta/120,window.opera&&(n=-n)):t.detail&&(n=-t.detail/3),e.mouseScroll=n,n&&"function"==typeof e.mouseScrolled&&e.mouseScrolled()};n(i,"DOMMouseScroll",u),n(i,"mousewheel",u)}},{}],26:[function(e,t){t.exports=function(t,n){function i(){var e=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadXML","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","parseXML","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","randomGaussian","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shearX","shearY","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","transform","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","XML","year","__contains","__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith","__matches"];u&&Object.keys(u).forEach(function(t){e.push(t)});var n,i,r={};for(n=0,i=e.length;i>n;++n)r[e[n]]=null;for(var o in t.lib)if(t.lib.hasOwnProperty(o)&&t.lib[o].exports){var s=t.lib[o].exports;for(n=0,i=s.length;i>n;++n)r[s[n]]=null}return r}function r(e){function t(e){for(var t=[],n=e.split(/([\{\[\(\)\]\}])/),i=n[0],r=[],o=1;o<n.length;o+=2){var s=n[o];if("["===s||"{"===s||"("===s)r.push(i),i=s;else if("]"===s||"}"===s||")"===s){var a="}"===s?"A":")"===s?"B":"C",l=t.length;t.push(i+s),i=r.pop()+'"'+a+(l+1)+'"'}i+=n[o+1]}return t.unshift(i),t}function n(e,t){return e.replace(/'(\d+)'/g,function(e,n){var i=t[n];return"/"===i.charAt(0)?i:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(i)?"(new $p.Character("+i+"))":i})}function r(e){var t,n=/^\s*/.exec(e);if(n[0].length===e.length)t={left:n[0],middle:"",right:""};else{var i=/\s*$/.exec(e);t={left:n[0],middle:e.substring(n[0].length,i.index),right:i[0]}}return t.untrim=function(e){return this.left+e+this.right},t}function o(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function u(e,t){for(var n=0,i=t.length;i>n;++n)e[t[n]]=null;return e}function c(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function h(e){return e.substring(2,e.length-1)}function d(e,t){var n=kt.length;return kt.push(e),'"'+t+n+'"'}function p(){return"class"+ ++Ft}function f(e,t,n){e.classId=t,e.scopeId=n,Dt[t]=e}function g(e){var t=e;return t=t.replace(Mt,function(e){return d(e,"E")}),t=t.replace(Rt,function(e){return d(e,"D")}),t=t.replace(It,function(e){return d(e,"H")})}function m(e,t){var n=e.replace(Pt,function(e,n,i){return i!==t?e:d(e,"G")});return n}function v(e){this.name=e}function y(e,t){this.params=e,this.methodArgsParam=t}function b(e){var t=o(e.substring(1,e.length-1)),n=[],i=null;if(""!==t)for(var r=t.split(","),s=0;s<r.length;++s){var a=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(r[s]);if(s===r.length-1&&r[s].indexOf("...")>=0){i=new v(a[1]);break}n.push(new v(a[1]))}return new y(n,i)}function w(e){function t(e,t,n,i){var s=kt[i];o=!0;var a=r(s.substring(1,s.length-1));return"__"+n+(""===a.middle?d("("+t.replace(/\.\s*$/,"")+")","B"):d("("+t.replace(/\.\s*$/,"")+","+a.middle+")","B"))}function n(e,t,n){return o=!0,"__instanceof"+d("("+t+", "+n+")","B")}var i=e;i=i.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,t,n){return n}),i=i.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e){return d(e,"F")}),i=i.replace(It,function(e){return d(e,"H")}),i=i.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,t,n){var i=n.replace(/"C(\d+)"/g,function(e,t){return kt[t]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),r="{"+i.substring(1,i.length-1)+"}",o="('"+t+"', "+d(r,"A")+")";return"$p.createJavaArray"+d(o,"B")}),i=i.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),i=i.replace(/#([0-9A-Fa-f]{6})\b/g,function(e,t){return"0xFF"+t}),i=i.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,t,n){var i=kt[t];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(i))return e;if(/^\(\s*int\s*\)$/.test(i))return"(int)"+n;var r=i.split(/"C(\d+)"/g);return r.length>1&&!/^\[\s*\]$/.test(kt[r[1]])?e:""+n}),i=i.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,t){var n=r(t);return n.untrim("__int_cast("+n.middle+")")}),i=i.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1"),i=i.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,t,n){return t===n?e:""===n?"0"+t:t}),i=i.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),i=i.replace(/([^\s])%([^=\s])/g,"$1 % $2"),i=i.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),i=i.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,t){return"parse"+t.substring(0,1).toUpperCase()+t.substring(1)+'"B'}),i=i.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,t,n,i,r,o){if(n){var s=kt[i];return r?"pixels.setPixel"+d("("+s.substring(1,s.length-1)+","+o+")","B"):"pixels.getPixel"+d("("+s.substring(1,s.length-1)+")","B")}return t?"pixels.getLength"+d("()","B"):r?"pixels.set"+d("("+o+")","B"):"pixels.toArray"+d("()","B")});var o;do o=!1,i=i.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,t);while(o);do o=!1,i=i.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,n);while(o);return i=i.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function C(e,t){this.baseInterfaceName=e,this.body=t,t.owner=this}function x(e){var t=new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(e),n=xt,i=p();xt=i;var r=t[1]+"$"+i,o=new C(r,At(kt[t[2]],r,"","implements "+t[1]));return f(o,i,n),xt=n,o}function A(e,t,n){this.name=e,this.params=t,this.body=n}function S(e){var t=new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(e);return new A("function"!==t[1]?t[1]:null,b(kt[t[2]]),_t(kt[t[3]]))}function _(e){this.members=e}function E(e){for(var t=e.split(","),n=0;n<t.length;++n){var i=t[n].indexOf(":");t[n]=0>i?{value:Tt(t[n])}:{label:o(t[n].substring(0,i)),value:Tt(o(t[n].substring(i+1)))}}return new _(t)}function $(e){if("("===e.charAt(0)||"["===e.charAt(0))return e.charAt(0)+$(e.substring(1,e.length-1))+e.charAt(e.length-1);if("{"===e.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+d(e.substring(1,e.length-1),"I")+"}":"["+$(e.substring(1,e.length-1))+"]";var t=r(e),n=w(t.middle);return n=n.replace(/"[ABC](\d+)"/g,function(e,t){return $(kt[t])}),t.untrim(n)}function T(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,t,n,i,r,o){if(t)return e;var a={name:n,member:r,callSign:!!o};return Ct(a)+(i===s?"":i)})}function k(e,t){this.expr=e,this.transforms=t}function D(e,t,n){this.name=e,this.value=t,this.isDefault=n}function F(e,t){var n,i,r,s=e.indexOf("=");return 0>s?(n=e,i=t,r=!0):(n=e.substring(0,s),i=Tt(e.substring(s+1)),r=!1),new D(o(n.replace(/(\s*"C\d+")+/g,"")),i,r)}function M(e){return"int"===e||"float"===e?"0":"boolean"===e?"false":"color"===e?"0x00000000":"null"}function R(e,t){this.definitions=e,this.varType=t}function L(e){this.expression=e}function P(e){if(Lt.test(e)){for(var t=Ot.exec(e),n=e.substring(t[0].length).split(","),i=M(t[2]),r=0;r<n.length;++r)n[r]=F(n[r],i);return new R(n,t[2])}return new L(Tt(e))}function O(e,t,n){this.initStatement=e,this.condition=t,this.step=n}function I(e,t){this.initStatement=e,this.container=t}function B(e,t){this.initStatement=e,this.container=t}function N(e){var t;return/\bin\b/.test(e)?(t=e.substring(1,e.length-1).split(/\bin\b/g),new I(P(o(t[0])),Tt(t[1]))):e.indexOf(":")>=0&&e.indexOf(";")<0?(t=e.substring(1,e.length-1).split(":"),new B(P(o(t[0])),Tt(t[1]))):(t=e.substring(1,e.length-1).split(";"),new O(P(o(t[0])),Tt(t[1]),Tt(t[2])))}function G(e){e.sort(function(e,t){return t.weight-e.weight})}function H(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function V(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function U(e){var t=Mt.exec(e);Mt.lastIndex=0;var n,i=t[1].indexOf("static")>=0,r=kt[h(t[6])],o=xt,s=p();return xt=s,n="interface"===t[2]?new H(t[3],St(r,t[3],t[4]),i):new V(t[3],At(r,t[3],t[4],t[5]),i),f(n,s,o),xt=o,n}function z(e,t,n,i){this.name=e,this.params=t,this.body=n,this.isStatic=i}function W(e){var t=Rt.exec(e);Rt.lastIndex=0;var n=t[1].indexOf("static")>=0,i=";"!==t[6]?kt[h(t[6])]:"{}";return new z(t[3],b(kt[h(t[4])]),_t(i),n)}function j(e,t,n){this.definitions=e,this.fieldType=t,this.isStatic=n}function q(e){for(var t=Ot.exec(e),n=t[1].indexOf("static")>=0,i=e.substring(t[0].length).split(/,\s*/g),r=M(t[2]),o=0;o<i.length;++o)i[o]=F(i[o],r);return new j(i,t[2],n)}function K(e,t){this.params=e,this.body=t}function Y(e){var t=new RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(e),n=b(kt[t[1]]);return new K(n,_t(kt[t[2]]))}function X(e,t,n,i,r,o){var s,a;for(this.name=e,this.interfacesNames=t,this.methodsNames=n,this.fields=i,this.innerClasses=r,this.misc=o,s=0,a=i.length;a>s;++s)i[s].owner=this}function Z(e,t,n,i,r,o,s,a,l){var u,c;for(this.name=e,this.baseClassName=t,this.interfacesNames=n,this.functions=i,this.methods=r,this.fields=o,this.cstrs=s,this.innerClasses=a,this.misc=l,u=0,c=o.length;c>u;++u)o[u].owner=this}function J(e,t){this.name=e,this.body=t,t.owner=this}function Q(e,t){this.name=e,this.body=t,t.owner=this}function et(e){var t=Mt.exec(e);Mt.lastIndex=0;var n=kt[h(t[6])],i=xt,r=p();xt=r;var o;return o="interface"===t[2]?new J(t[3],St(n,t[3],t[4])):new Q(t[3],At(n,t[3],t[4],t[5])),f(o,r,i),xt=i,o}function tt(e,t,n){this.name=e,this.params=t,this.body=n}function nt(e){var t=Rt.exec(e);return Rt.lastIndex=0,new tt(t[3],b(kt[h(t[4])]),_t(kt[h(t[6])]))}function it(e){var t=e;return t=t.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1")}function rt(e,t){this.argument=e,this.misc=t}function ot(e,t){this.argument=e,this.misc=t}function st(e,t,n){this.name=e,this.argument=t,this.misc=n}function at(e){this.expr=e}function lt(e){this.label=e}function ut(e){for(var t=[],n=0,i=e.length;i>n;++n){var r=e[n];r instanceof R?t=t.concat(r.getNames()):r instanceof rt&&r.argument.initStatement instanceof R?t=t.concat(r.argument.initStatement.getNames()):(r instanceof H||r instanceof V||r instanceof J||r instanceof Q||r instanceof tt||r instanceof A)&&t.push(r.name)}return u({},t)}function ct(e){this.statements=e}function ht(e){this.statements=e}function dt(){function e(e,t){for(var n,r=t.split("."),o=e.scope;o;){if(o.hasOwnProperty(r[0])){n=o[r[0]];break}o=o.scope}n===s&&(n=i[r[0]]);for(var a=1,l=r.length;l>a&&n;++a)n=n.inScope[r[a]];return n}var t,n,i={};for(t in Dt)if(Dt.hasOwnProperty(t)){n=Dt[t];var r=n.scopeId,o=n.name;if(r){var a=Dt[r];n.scope=a,a.inScope===s&&(a.inScope={}),a.inScope[o]=n}else i[o]=n}for(t in Dt)if(Dt.hasOwnProperty(t)){n=Dt[t];var l=n.body.baseClassName;if(l){var u=e(n,l);u&&(n.base=u,u.derived||(u.derived=[]),u.derived.push(n))}var c,h,d=n.body.interfacesNames,p=[];if(d&&d.length>0){for(c=0,h=d.length;h>c;++c){var f=e(n,d[c]);p.push(f),f&&(f.derived||(f.derived=[]),f.derived.push(n))}p.length>0&&(n.interfaces=p)}}}function pt(){function e(e,t){var n=o[e];if(!n)return!1;var i=n.indexOf(t);return 0>i?!1:(n.splice(i,1),n.length>0?!1:(delete o[e],!0))}var t,n,i,r=[],o={};for(t in Dt)if(Dt.hasOwnProperty(t))if(i=Dt[t],i.inScope||i.derived){var s=[];if(i.inScope)for(n in i.inScope)i.inScope.hasOwnProperty(n)&&s.push(i.inScope[n]);i.derived&&(s=s.concat(i.derived)),o[t]=s}else r.push(t),i.weight=0;for(;r.length>0;)if(t=r.shift(),i=Dt[t],i.scopeId&&e(i.scopeId,i)&&(r.push(i.scopeId),Dt[i.scopeId].weight=i.weight+1),i.base&&e(i.base.classId,i)&&(r.push(i.base.classId),i.base.weight=i.weight+1),i.interfaces){var a,l;for(a=0,l=i.interfaces.length;l>a;++a)i.interfaces[a]&&e(i.interfaces[a].classId,i)&&(r.push(i.interfaces[a].classId),i.interfaces[a].weight=i.weight+1)}}var ft=i(),gt=e.replace(/\r\n?|\n\r/g,"\n"),mt=[],vt=gt.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,t,n,i,r,o,s,a){var l;return t||n?(l=mt.length,mt.push(e),"'"+l+"'"):i?(l=mt.length,mt.push(o),r+"'"+l+"'"):""!==a?" ":"\n"});vt=vt.replace(/__x([0-9A-F]{4})/g,function(e,t){return"__x005F_x"+t}),vt=vt.replace(/\$/g,"__x0024"),vt=vt.replace(/return\s*[\n\r]+/g,"return ");var yt,bt=vt,wt=function(e,t,n,i){return t||i?e:(yt=!0,"")};do yt=!1,bt=bt.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,wt);while(yt);var Ct,xt,At,St,_t,Et,$t,Tt,kt=t(bt),Dt={},Ft=0,Mt=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,Rt=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,Lt=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,Pt=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,Ot=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,It=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;v.prototype.toString=function(){return this.name},y.prototype.getNames=function(){for(var e=[],t=0,n=this.params.length;n>t;++t)e.push(this.params[t].name);return e},y.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},y.prototype.toString=function(){if(0===this.params.length)return"()";for(var e="(",t=0,n=this.params.length;n>t;++t)e+=this.params[t]+", ";return e.substring(0,e.length-2)+")"},C.prototype.toString=function(){return"new ("+this.body+")"},A.prototype.toString=function(){var e=Ct,t=u({"this":null},this.params.getNames());Ct=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n="function";this.name&&(n+=" "+this.name);var i=this.params.prependMethodArgs(this.body.toString());return n+=this.params+" "+i,Ct=e,n},_.prototype.toString=function(){var e=Ct;Ct=function(t){return"this"===t.name?"this":e(t)};for(var t="",n=0,i=this.members.length;i>n;++n)this.members[n].label&&(t+=this.members[n].label+": "),t+=this.members[n].value.toString()+", ";return Ct=e,t.substring(0,t.length-2)},k.prototype.toString=function(){var e=this.transforms,t=T(this.expr);return t.replace(/"!(\d+)"/g,function(t,n){return e[n].toString()})},Tt=function(e){var t=[],n=$(e);return n=n.replace(/"H(\d+)"/g,function(e,n){return t.push(S(kt[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"F(\d+)"/g,function(e,n){return t.push(x(kt[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"I(\d+)"/g,function(e,n){return t.push(E(kt[n])),'"!'+(t.length-1)+'"'}),new k(n,t)},D.prototype.toString=function(){return this.name+" = "+this.value},R.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;n>t;++t)e.push(this.definitions[t].name);return e},R.prototype.toString=function(){return"var "+this.definitions.join(",")},L.prototype.toString=function(){return this.expression.toString()},O.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},I.prototype.toString=function(){var e=this.initStatement.toString();return e.indexOf("=")>=0&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},B.iteratorId=0,B.prototype.toString=function(){var e=this.initStatement.toString(),t="$it"+B.iteratorId++,n=e.replace(/^\s*var\s*/,"").split("=")[0],i="var "+t+" = new $p.ObjectIterator("+this.container+"), "+n+" = void(0)",r=t+".hasNext() && (("+n+" = "+t+".next()) || true)";return"("+i+"; "+r+";)"},H.prototype.toString=function(){return""+this.body},V.prototype.toString=function(){return""+this.body},z.prototype.toString=function(){var e=u({},this.params.getNames()),t=Ct;Ct=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),i="function "+this.methodId+this.params+" "+n+"\n";return Ct=t,i},j.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;n>t;++t)e.push(this.definitions[t].name);return e},j.prototype.toString=function(){var e=Ct({name:"[this]"});if(this.isStatic){for(var t=this.owner.name,n=[],i=0,r=this.definitions.length;r>i;++i){var o=this.definitions[i],s=o.name,a=t+"."+s,l="if("+a+" === void(0)) {\n"+" "+a+" = "+o.value+"; }\n"+"$p.defineProperty("+e+", "+"'"+s+"', { get: function(){return "+a+";}, "+"set: function(val){"+a+" = val;} });\n";n.push(l)}return n.join("")}return e+"."+this.definitions.join("; "+e+".")},K.prototype.toString=function(){var e=u({},this.params.getNames()),t=Ct;Ct=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n="function $constr_"+this.params.params.length+this.params.toString(),i=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(i)||(i="{\n$superCstr();\n"+i.substring(1)),Ct=t,n+i+"\n"},X.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var i,r,o,s;for(i=0,o=this.fields.length;o>i;++i){var a=this.fields[i].getNames();for(r=0,s=a.length;s>r;++r)e[a[r]]=this.fields[i]}for(i=0,o=this.methodsNames.length;o>i;++i){var l=this.methodsNames[i];t[l]=!0}for(i=0,o=this.innerClasses.length;o>i;++i){var u=this.innerClasses[i];n[u.name]=u}},X.prototype.toString=function(){function e(e){for(var t=0;e;)++t,e=e.scope;return t}e(this.owner);var t=this.name,n="",i="",r={},o={},s={};this.getMembers(r,o,s);var a,l;if(this.owner.interfaces){var u,c=[];for(a=0,l=this.interfacesNames.length;l>a;++a)this.owner.interfaces[a]&&(u=Ct({name:this.interfacesNames[a]}),c.push(u),n+="$p.extendInterfaceMembers("+t+", "+u+");\n");i+=t+".$interfaces = ["+c.join(", ")+"];\n"}for(i+=t+".$isInterface = true;\n",i+=t+".$methods = ['"+this.methodsNames.join("', '")+"'];\n",G(this.innerClasses),a=0,l=this.innerClasses.length;l>a;++a){var h=this.innerClasses[a];h.isStatic&&(n+=t+"."+h.name+" = "+h+";\n")}for(a=0,l=this.fields.length;l>a;++a){var d=this.fields[a];d.isStatic&&(n+=t+"."+d.definitions.join(";\n"+t+".")+";\n")}return"(function() {\nfunction "+t+"() { throw 'Unable to create the interface'; }\n"+n+i+"return "+t+";\n"+"})()"},St=function(e,t,n){var i=e.substring(1,e.length-1);i=g(i),i=m(i,t);var o=[],a=[];i=i.replace(/"([DE])(\d+)"/g,function(e,t,n){return"D"===t?o.push(n):"E"===t&&a.push(n),""});var l,u,c,h=i.split(/;(?:\s*;)*/g);for(n!==s&&(l=n.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),u=0,c=o.length;c>u;++u){var d=W(kt[o[u]]);o[u]=d.name}for(u=0,c=h.length-1;c>u;++u){var p=r(h[u]);h[u]=q(p.middle)}var f=h.pop();for(u=0,c=a.length;c>u;++u)a[u]=U(kt[a[u]]);return new X(t,l,o,h,a,{tail:f})},Z.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var i,r,o,s;for(i=0,o=this.fields.length;o>i;++i){var a=this.fields[i].getNames();for(r=0,s=a.length;s>r;++r)e[a[r]]=this.fields[i]}for(i=0,o=this.methods.length;o>i;++i){var l=this.methods[i];t[l.name]=l}for(i=0,o=this.innerClasses.length;o>i;++i){var u=this.innerClasses[i];n[u.name]=u}},Z.prototype.toString=function(){function e(e){for(var t=0;e;)++t,e=e.scope;return t}var t=e(this.owner),n="$this_"+t,i=this.name,r="var "+n+" = this;\n",s="",a="",l={},u={},c={};this.getMembers(l,u,c);var h=Ct;Ct=function(e){var t=e.name;return"this"===t?e.callSign||!e.member?n+".$self":n:l.hasOwnProperty(t)?l[t].isStatic?i+"."+t:n+"."+t:c.hasOwnProperty(t)?n+"."+t:u.hasOwnProperty(t)?u[t].isStatic?i+"."+t:n+".$self."+t:h(e)};var d;this.baseClassName?(d=h({name:this.baseClassName}),r+="var $super = { $upcast: "+n+" };\n",r+="function $superCstr(){"+d+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",a+=i+".$base = "+d+";\n"):r+="function $superCstr(){$p.extendClassChain("+n+")}\n",this.owner.base&&(s+="$p.extendStaticMembers("+i+", "+d+");\n");var p,f,g,m;if(this.owner.interfaces){var v,y=[];for(p=0,f=this.interfacesNames.length;f>p;++p)this.owner.interfaces[p]&&(v=h({name:this.interfacesNames[p]}),y.push(v),s+="$p.extendInterfaceMembers("+i+", "+v+");\n");a+=i+".$interfaces = ["+y.join(", ")+"];\n"}for(this.functions.length>0&&(r+=this.functions.join("\n")+"\n"),G(this.innerClasses),p=0,f=this.innerClasses.length;f>p;++p){var b=this.innerClasses[p];b.isStatic?(s+=i+"."+b.name+" = "+b+";\n",r+=n+"."+b.name+" = "+i+"."+b.name+";\n"):r+=n+"."+b.name+" = "+b+";\n"}for(p=0,f=this.fields.length;f>p;++p){var w=this.fields[p];if(w.isStatic)for(s+=i+"."+w.definitions.join(";\n"+i+".")+";\n",g=0,m=w.definitions.length;m>g;++g){var C=w.definitions[g].name,x=i+"."+C;r+="$p.defineProperty("+n+", '"+C+"', {"+"get: function(){return "+x+"}, "+"set: function(val){"+x+" = val}});\n"}else r+=n+"."+w.definitions.join(";\n"+n+".")+";\n"}var A={};for(p=0,f=this.methods.length;f>p;++p){var S=this.methods[p],_=A[S.name],E=S.name+"$"+S.params.params.length,$=!!S.params.methodArgsParam;_?(++_,E+="_"+_):_=1,S.methodId=E,A[S.name]=_,S.isStatic?(s+=S,s+="$p.addMethod("+i+", '"+S.name+"', "+E+", "+$+");\n",r+="$p.addMethod("+n+", '"+S.name+"', "+E+", "+$+");\n"):(r+=S,r+="$p.addMethod("+n+", '"+S.name+"', "+E+", "+$+");\n")}r+=o(this.misc.tail),this.cstrs.length>0&&(r+=this.cstrs.join("\n")+"\n"),r+="function $constr() {\n";var T=[];for(p=0,f=this.cstrs.length;f>p;++p){var k=this.cstrs[p].params.params.length,D=!!this.cstrs[p].params.methodArgsParam;T.push("if(arguments.length "+(D?">=":"===")+" "+k+") { "+"$constr_"+k+".apply("+n+", arguments); }")}return T.length>0&&(r+=T.join(" else ")+" else "),r+="$superCstr();\n}\n",r+="$constr.apply(null, arguments);\n",Ct=h,"(function() {\nfunction "+i+"() {\n"+r+"}\n"+s+a+"return "+i+";\n"+"})()"},At=function(e,t,n,i){var o=e.substring(1,e.length-1);o=g(o),o=m(o,t);var a=[],l=[],u=[],c=[];o=o.replace(/"([DEGH])(\d+)"/g,function(e,t,n){return"D"===t?a.push(n):"E"===t?l.push(n):"H"===t?c.push(n):u.push(n),""});var h,d,p,f=o.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);for(n!==s&&(h=n.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),i!==s&&(d=i.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),p=0;p<c.length;++p)c[p]=S(kt[c[p]]);for(p=0;p<a.length;++p)a[p]=W(kt[a[p]]);for(p=0;p<f.length-1;++p){var v=r(f[p]);f[p]=q(v.middle)}var y=f.pop();for(p=0;p<u.length;++p)u[p]=Y(kt[u[p]]);for(p=0;p<l.length;++p)l[p]=U(kt[l[p]]);return new Z(t,h,d,c,a,f,u,l,{tail:y})},J.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},Q.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},tt.prototype.toString=function(){var e=u({},this.params.getNames()),t=Ct;Ct=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),i="function "+this.name+this.params+" "+n+"\n"+"$p."+this.name+" = "+this.name+";\n"+this.name+" = "+this.name+".bind($p);";return Ct=t,i},rt.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},ot.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},st.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==s&&(e+=this.argument.toString()),e
},at.prototype.toString=function(){return"case "+this.expr+":"},lt.prototype.toString=function(){return this.label},Et=function(e,t,n){var i=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),a=[];e=it(e);for(var l,u,c=0;null!==(l=i.exec(e));){if(l[1]!==s){var h=e.lastIndexOf('"B',i.lastIndex),d=e.substring(c,h);"for"===l[1]?a.push(new rt(N(kt[l[2]]),{prefix:d})):"catch"===l[1]?a.push(new ot(b(kt[l[2]]),{prefix:d})):a.push(new st(l[1],Tt(kt[l[2]]),{prefix:d}))}else if(l[3]!==s)a.push(new st(l[3],s,{prefix:e.substring(c,i.lastIndex)}));else if(l[4]!==s){if(u=e.substring(c,i.lastIndex-l[4].length),0!==o(u).length)continue;a.push(u);var p=l[4].charAt(1),f=l[5];"D"===p?a.push(t(kt[f])):"E"===p?a.push(n(kt[f])):"H"===p?a.push(S(kt[f])):a.push(_t(kt[f]))}else if(l[6]!==s)a.push(new at(Tt(o(l[7]))));else if(l[8]!==s){if(u=e.substring(c,i.lastIndex-l[8].length),0!==o(u).length)continue;a.push(new lt(e.substring(c,i.lastIndex)))}else{var g=r(e.substring(c,i.lastIndex-1));a.push(g.left),a.push(P(g.middle)),a.push(g.right+";")}c=i.lastIndex}var m=r(e.substring(c));return a.push(m.left),""!==m.middle&&(a.push(P(m.middle)),a.push(";"+m.right)),a},ct.prototype.toString=function(){var e=ut(this.statements),t=Ct;c(e)||(Ct=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)});var n="{\n"+this.statements.join("")+"\n}";return Ct=t,n},_t=function(e){var t=r(e.substring(1,e.length-1));return new ct(Et(t.middle))},ht.prototype.toString=function(){for(var e,t=[],n=[],i=0,r=this.statements.length;r>i;++i)e=this.statements[i],e instanceof Q||e instanceof J?t.push(e):n.push(e);G(t);var o=ut(this.statements);Ct=function(e){var t=e.name;return o.hasOwnProperty(t)?t:ft.hasOwnProperty(t)||l.hasOwnProperty(t)||a.hasOwnProperty(t)?"$p."+t:t};var s="// this code was autogenerated from PJS\n(function($p) {\n"+t.join("")+"\n"+n.join("")+"\n})";return Ct=null,s},$t=function(){var e=g(kt[0]);return e=e.replace(/\bimport\s+[^;]+;/g,""),new ht(Et(e,nt,et))};var Bt=$t();dt(Bt),pt(Bt);var Nt=Bt.toString();return Nt=Nt.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n"),Nt=Nt.replace(/__x([0-9A-F]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),n(Nt,mt)}function o(e,t){var n=new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(e);if(n&&2===n.length)for(var i=[],r=n.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,t){return i.push(t),"{"+(i.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),o=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},s=0,a=r.length;a>s;s++){var l=r[s].split("=");if(l&&2===l.length){var u=o(l[0]),c=o(l[1]),h=[];if("preload"===u){h=c.split(",");for(var d=0,p=h.length;p>d;d++){var f=o(h[d]);t.imageCache.add(f)}}else if("font"===u){h=c.split(",");for(var g=0,m=h.length;m>g;g++){var v=o(h[g]),y=/^\{(\d*?)\}$/.exec(v);PFont.preloading.add(y?JSON.parse("{"+i[y[1]]+"}"):v)}}else"pauseOnBlur"===u?t.options.pauseOnBlur="true"===c:"globalKeyEvents"===u?t.options.globalKeyEvents="true"===c:"param-"===u.substring(0,6)?t.params[u.substring(6)]=c:t.options[u]=c}}return e}var s,a=n.defaultScope,l=a.PConstants,u=n.aFunctions,c=n.Browser,h=c.document;t.compile=function(e){var n=new t.Sketch,i=o(e,n),s=r(i);return n.sourceCode=s,n};var d=e("../Helpers/PjsConsole");return t.logger=new d(h),t}},{"../Helpers/PjsConsole":5}],27:[function(e,t){t.exports=function(e,t){function n(e,t){return e in l?l[e]:"function"==typeof l[t]?l[t]:function(e){if(e instanceof Array)return e;if("number"==typeof e){var t=[];return t.length=e,t}}}var i=e.defaultScope,r=e.extend,o=e.Browser,s=o.ajax,a=o.navigator,l=o.window,u=(l.XMLHttpRequest,o.document),c=e.noop,h=i.PConstants;PFont=i.PFont,PShapeSVG=i.PShapeSVG,PVector=i.PVector,Char=Character=i.Char,ObjectIterator=i.ObjectIterator,XMLElement=i.XMLElement,XML=i.XML;var d,p=l.HTMLCanvasElement,f=l.HTMLImageElement;try{d=l.localStorage}catch(g){d={}}"document"in this&&!("fake"in this.document),u.head||(u.head=u.getElementsByTagName("head")[0]);var m=n("Float32Array","WebGLFloatArray"),v=n("Int32Array","WebGLIntArray"),y=n("Uint16Array","WebGLUnsignedShortArray"),b=n("Uint8Array","WebGLUnsignedByteArray");if(u.documentMode>=9&&!u.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var w=[],C={},x=function(e){e.externals.canvas.id!==t&&e.externals.canvas.id.length||(e.externals.canvas.id="__processing"+w.length),C[e.externals.canvas.id]=w.length,w.push(e)},A=function(e){w.splice(C[e],1),delete C[e]},S=this.Processing=function(e,n,o){function g(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),vt.push({elem:e,type:t,fn:n})}function w(e){var t=e.elem,n=e.type,i=e.fn;t.removeEventListener?t.removeEventListener(n,i,!1):t.detachEvent&&t.detachEvent("on"+n,i)}function C(e){return Array.prototype.slice.call(e,1)}function _(e,n,i,r){var o=Yn.locations[e];o===t&&(o=bt.getUniformLocation(n,i),Yn.locations[e]=o),null!==o&&(4===r.length?bt.uniform4fv(o,r):3===r.length?bt.uniform3fv(o,r):2===r.length?bt.uniform2fv(o,r):bt.uniform1f(o,r))}function E(e,n,i,r){var o=Yn.locations[e];o===t&&(o=bt.getUniformLocation(n,i),Yn.locations[e]=o),null!==o&&(4===r.length?bt.uniform4iv(o,r):3===r.length?bt.uniform3iv(o,r):2===r.length?bt.uniform2iv(o,r):bt.uniform1i(o,r))}function $(e,n,i,r,o){var s=Yn.locations[e];s===t&&(s=bt.getUniformLocation(n,i),Yn.locations[e]=s),-1!==s&&(16===o.length?bt.uniformMatrix4fv(s,r,o):9===o.length?bt.uniformMatrix3fv(s,r,o):bt.uniformMatrix2fv(s,r,o))}function T(e,n,i,r,o){var s=Yn.attributes[e];s===t&&(s=bt.getAttribLocation(n,i),Yn.attributes[e]=s),-1!==s&&(bt.bindBuffer(bt.ARRAY_BUFFER,o),bt.vertexAttribPointer(s,r,bt.FLOAT,!1,0,0),bt.enableVertexAttribArray(s))}function k(e,n,i){var r=Yn.attributes[e];r===t&&(r=bt.getAttribLocation(n,i),Yn.attributes[e]=r),-1!==r&&bt.disableVertexAttribArray(r)}function D(e,t,n,i){var r,o,s,a;if(Un===h.HSB){var l=yt.color.toRGB(e,t,n);r=l[0],o=l[1],s=l[2]}else r=Math.round(255*(e/Bn)),o=Math.round(255*(t/Nn)),s=Math.round(255*(n/Gn));return a=Math.round(255*(i/In)),r=0>r?0:r,o=0>o?0:o,s=0>s?0:s,a=0>a?0:a,r=r>255?255:r,o=o>255?255:o,s=s>255?255:s,a=a>255?255:a,a<<24&h.ALPHA_MASK|r<<16&h.RED_MASK|o<<8&h.GREEN_MASK|s&h.BLUE_MASK}function F(e,t){var n;return e&h.ALPHA_MASK?(n=Math.round(255*(t/In)),n=n>255?255:n,n=0>n?0:n,e-(e&h.ALPHA_MASK)+(n<<24&h.ALPHA_MASK)):Un===h.RGB?D(e,e,e,t):Un===h.HSB?D(0,0,e/Bn*Gn,t):void 0}function M(e){if(Bn>=e&&e>=0){if(Un===h.RGB)return D(e,e,e,In);if(Un===h.HSB)return D(0,0,e/Bn*Gn,In)}return e?(e>2147483647&&(e-=4294967296),e):void 0}function R(e){var t,n,i;t=((e&h.RED_MASK)>>>16)/255,n=((e&h.GREEN_MASK)>>>8)/255,i=(e&h.BLUE_MASK)/255;var r,o,s=yt.max(yt.max(t,n),i),a=yt.min(yt.min(t,n),i);return a===s?[0,0,s*Gn]:(o=(s-a)/s,r=t===s?(n-i)/(s-a):n===s?2+(i-t)/(s-a):4+(t-n)/(s-a),r/=6,0>r?r+=1:r>1&&(r-=1),[r*Bn,o*Nn,s*Gn])}function L(){bt.save()}function P(){bt.restore(),fn=!0,cn=!0}function O(){var e=(Date.now()-qn)/1e3;Kn++;var t=Kn/e;e>.5&&(qn=Date.now(),Kn=0,yt.__frameRate=t),yt.frameCount++}function I(e){var t=parseInt("0x"+e,16);return t>2147483647&&(t-=4294967296),t}function B(e){return"number"==typeof e?0!==e:"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase():e instanceof Char?49===e.code||84===e.code||116===e.code:void 0}function N(e){return"number"==typeof e?e:"boolean"==typeof e?e?1:0:"string"==typeof e?parseFloat(e):e instanceof Char?e.code:void 0}function G(e,t){if("number"==typeof e)return 4294967295&e;if("boolean"==typeof e)return e?1:0;if("string"==typeof e){var n=parseInt(e,t||10);return 4294967295&n}return e instanceof Char?e.code:void 0}function H(){an&&(cn&&(bt.fillStyle=yt.color.toString(un),cn=!1),bt.fill())}function V(){hn&&(fn&&(bt.strokeStyle=yt.color.toString(pn),fn=!1),bt.stroke())}function U(){H(),V(),bt.closePath()}function z(e,n,i){var r=Cr.shift();r===t&&(r={},r.canvas=u.createElement("canvas"),r.context=r.canvas.getContext("2d")),Cr.push(r);var o=r.canvas,s=r.context,a=n||e.width,l=i||e.height;return o.width=a,o.height=l,e?"data"in e?s.putImageData(e,0,0):(s.clearRect(0,0,a,l),s.drawImage(e,0,0,a,l)):s.clearRect(0,0,a,l),r}function W(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(t){var n=4*t,i=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return i[n+3]<<24&h.ALPHA_MASK|i[n]<<16&h.RED_MASK|i[n+1]<<8&h.GREEN_MASK|i[n+2]&h.BLUE_MASK}}(e),setPixel:function(e){return function(t,n){var i=4*t,r=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";r[i+0]=(n&h.RED_MASK)>>>16,r[i+1]=(n&h.GREEN_MASK)>>>8,r[i+2]=n&h.BLUE_MASK,r[i+3]=(n&h.ALPHA_MASK)>>>24,e.__isDirty=!0}}(e),toArray:function(e){return function(){var t=[],n=e.imageData.data,i=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var r=0,o=0;i>r;r++,o+=4)t.push(n[o+3]<<24&h.ALPHA_MASK|n[o]<<16&h.RED_MASK|n[o+1]<<8&h.GREEN_MASK|n[o+2]&h.BLUE_MASK);return t}}(e),set:function(e){return function(t){var n,i,r;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";i=e.imageData.data;for(var o=0,s=t.length;s>o;o++)r=t[o],n=4*o,i[n+0]=(r&h.RED_MASK)>>>16,i[n+1]=(r&h.GREEN_MASK)>>>8,i[n+2]=r&h.BLUE_MASK,i[n+3]=(r&h.ALPHA_MASK)>>>24;e.__isDirty=!0}}(e)}}function j(e,t){var n;if(e>=yt.width||0>e||0>t||t>=yt.height)return 0;if(ui){var i=4*((0|e)+yt.width*(0|t));return n=yt.imageData.data,n[i+3]<<24&h.ALPHA_MASK|n[i]<<16&h.RED_MASK|n[i+1]<<8&h.GREEN_MASK|n[i+2]&h.BLUE_MASK}return n=yt.toImageData(0|e,0|t,1,1).data,n[3]<<24&h.ALPHA_MASK|n[0]<<16&h.RED_MASK|n[1]<<8&h.GREEN_MASK|n[2]&h.BLUE_MASK}function q(e,t,n){if(n.isRemote)throw"Image is loaded remotely. Cannot get x,y.";var i=4*t*n.width+4*e,r=n.imageData.data;return r[i+3]<<24&h.ALPHA_MASK|r[i]<<16&h.RED_MASK|r[i+1]<<8&h.GREEN_MASK|r[i+2]&h.BLUE_MASK}function K(e,t,n,i){var r=new xr(n,i,h.ARGB);return r.fromImageData(yt.toImageData(e,t,n,i)),r}function Y(e,t,n,i,r){if(r.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";for(var o=new xr(n,i,h.ARGB),s=o.imageData.data,a=r.width,l=r.height,u=r.imageData.data,c=Math.max(0,-t),d=Math.max(0,-e),p=Math.min(i,l-t),f=Math.min(n,a-e),g=c;p>g;++g)for(var m=4*((t+g)*a+(e+d)),v=4*(g*n+d),y=d;f>y;++y)s[v++]=u[m++],s[v++]=u[m++],s[v++]=u[m++],s[v++]=u[m++];return o.__isDirty=!0,o}function X(){ui&&(bt=Yt,ui=!1,yt.updatePixels())}function Z(){function e(e,t){function n(){X(),bt[t].apply(bt,arguments)}e[t]=n}function t(e,t){function n(){return X(),bt[t]}function i(e){X(),bt[t]=e}yt.defineProperty(e,t,{get:n,set:i})}for(var n in bt)"function"==typeof bt[n]?e(this,n):t(this,n)}function J(){ui||(yt.loadPixels(),null===li&&(Yt=bt,li=new Z),ui=!0,bt=li,Xt=0)}function Q(e,t,n){e<yt.width&&e>=0&&t>=0&&t<yt.height&&(J(),yt.pixels.setPixel((0|e)+yt.width*(0|t),n),++Xt>ci&&X())}function et(e,t,n,i){if(i.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var r=yt.color.toArray(n),o=4*t*i.width+4*e,s=i.imageData.data;s[o]=r[0],s[o+1]=r[1],s[o+2]=r[2],s[o+3]=r[3]}function tt(e){return e instanceof String?e:"number"==typeof e?e===(0|e)?e.toString():yt.nf(e,0,3):null===e||e===t?"":e.toString()}function nt(e,t,n,i){var r,o;e.indexOf("\n")<0?(r=[e],o=1):(r=e.split(/\r?\n/g),o=r.length);var s=0;ei===h.TOP?s=ri+oi:ei===h.CENTER?s=ri/2-(o-1)*si/2:ei===h.BOTTOM&&(s=-(oi+(o-1)*si));for(var a=0;o>a;++a){var l=r[a];Ct.text$line(l,t,n+s,i,Qn),s+=si}}function it(e,t,n,i,r,o){if(0!==e.length&&0!==i&&0!==r&&!(ii>r)){for(var s=-1,a=0,l=0,u=[],c=0,d=e.length;d>c;c++){var p=e[c],f=" "===p,g=ai.measureTextWidth(p);if("\n"!==p&&i>=l+g)f&&(s=c),l+=g;else{if(s+1===a){if(!(c>0))return;s=c}"\n"===p?(u.push({text:e.substring(a,c),width:l}),a=c+1):(u.push({text:e.substring(a,s+1),width:l}),a=s+1),l=0,c=a-1}}d>a&&u.push({text:e.substring(a),width:l});var m=1,v=ri;Qn===h.CENTER?m=i/2:Qn===h.RIGHT&&(m=i);var y=u.length,b=Math.min(y,Math.floor(r/si));ei===h.TOP?v=ri+oi:ei===h.CENTER?v=r/2-si*(b/2-1):ei===h.BOTTOM&&(v=oi+si);var w,C,x;for(w=0;y>w&&(x=w*si,!(v+x>r-oi));w++)C=u[w],Ct.text$line(C.text,t+m,n+v+x,o,Qn)}}function rt(e){Ct="3D"===e?new rr:"2D"===e?new ir:new or;for(var t in or.prototype)or.prototype.hasOwnProperty(t)&&t.indexOf("$")<0&&(yt[t]=Ct[t]);Ct.$init()}function ot(e){return function(){return rt("2D"),Ct[e].apply(this,arguments)}}function st(e){var t=e.which||e.keyCode;switch(t){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return t}function at(e){var t=e.which||e.keyCode,n=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(t){case 13:t=n?13:10;break;case 8:t=n?127:8}return new Char(t)}function lt(e){return"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof e.stopPropagation&&e.stopPropagation(),!1}function ut(){var e;for(e in hi)if(hi.hasOwnProperty(e))return yt.__keyPressed=!0,void 0;yt.__keyPressed=!1}function ct(){yt.__keyPressed=!1,hi=[],di=null}function ht(e,t){hi[e]=t,di=null,yt.key=t,yt.keyCode=e,yt.keyPressed(),yt.keyCode=0,yt.keyTyped(),ut()}function dt(e){var t=st(e);if(t===h.DELETE)return ht(t,new Char(127)),void 0;if(pi.indexOf(t)<0)return di=t,void 0;var n=new Char(h.CODED);return yt.key=n,yt.keyCode=t,hi[t]=n,yt.keyPressed(),di=null,ut(),lt(e)}function pt(e){if(null!==di){var t=di,n=at(e);return ht(t,n),lt(e)}}function ft(e){var n=st(e),i=hi[n];i!==t&&(yt.key=i,yt.keyCode=n,yt.keyReleased(),delete hi[n],ut())}if(!(this instanceof S))throw"called Processing constructor as if it were a function: missing 'new'.";var gt={},mt=e===t&&n===t;if(gt=mt?u.createElement("canvas"):"string"==typeof e?u.getElementById(e):e,!("getContext"in gt))throw"called Processing constructor without passing canvas element reference or id.";var vt=[],yt=this;yt.Char=yt.Character=Char,r.withCommonFunctions(yt),r.withMath(yt),r.withProxyFunctions(yt,C),r.withTouch(yt,gt,g,u,h),o&&Object.keys(o).forEach(function(e){yt[e]=o[e]}),yt.externals={canvas:gt,context:t,sketch:t,window:l},yt.name="Processing.js Instance",yt.use3DContext=!1,yt.focused=!1,yt.breakShape=!1,yt.glyphTable={},yt.pmouseX=0,yt.pmouseY=0,yt.mouseX=0,yt.mouseY=0,yt.mouseButton=0,yt.mouseScroll=0,yt.mouseClicked=t,yt.mouseDragged=t,yt.mouseMoved=t,yt.mousePressed=t,yt.mouseReleased=t,yt.mouseScrolled=t,yt.mouseOver=t,yt.mouseOut=t,yt.touchStart=t,yt.touchEnd=t,yt.touchMove=t,yt.touchCancel=t,yt.key=t,yt.keyCode=t,yt.keyPressed=c,yt.keyReleased=c,yt.keyTyped=c,yt.draw=t,yt.setup=t,yt.__mousePressed=!1,yt.__keyPressed=!1,yt.__frameRate=60,yt.frameCount=0,yt.width=100,yt.height=100;var bt,wt,Ct,xt,At,St,_t,Et,$t,Tt,kt,Dt,Ft,Mt,Rt,Lt,Pt,Ot,It,Bt,Nt,Gt,Ht,Vt,Ut,zt,Wt,jt,qt,Kt,Yt,Xt,Zt,Jt,Qt,en,tn,nn,rn,on,sn,an=!0,ln=[1,1,1,1],un=4294967295,cn=!0,hn=!0,dn=[0,0,0,1],pn=4278190080,fn=!0,gn=1,mn=!1,vn=!1,yn=!0,bn=0,wn=h.CORNER,Cn=h.CENTER,xn=0,An=0,Sn=0,_n=h.NORMAL_MODE_AUTO,En=60,$n=1e3/En,Tn=h.ARROW,kn=gt.style.cursor,Dn=h.POLYGON,Fn=[],Mn=0,Rn=20,Ln=!1,Pn=-3355444,On=20,In=255,Bn=255,Nn=255,Gn=255,Hn=0,Vn=0,Un=h.RGB,zn=null,Wn=null,jn=Date.now(),qn=jn,Kn=0,Yn={attributes:{},locations:{}},Xn={width:0,height:0},Zn=h.IMAGE,Jn=!1,Qn=h.LEFT,ei=h.BASELINE,ti=h.MODEL,ni="Arial",ii=12,ri=9,oi=2,si=14,ai=PFont.get(ni,ii),li=null,ui=!1,ci=1e3,hi=[],di=null,pi=[h.SHIFT,h.CONTROL,h.ALT,h.CAPSLK,h.PGUP,h.PGDN,h.END,h.HOME,h.LEFT,h.UP,h.RIGHT,h.DOWN,h.NUMLK,h.INSERT,h.F1,h.F2,h.F3,h.F4,h.F5,h.F6,h.F7,h.F8,h.F9,h.F10,h.F11,h.F12,h.META],fi=0,gi=0,mi=0,vi=[],yi=[],bi=[],wi=new m(h.SINCOS_LENGTH),Ci=new m(h.SINCOS_LENGTH),xi=!1,Ai=!1,Si=60*(Math.PI/180),_i=yt.width/2,Ei=yt.height/2,$i=Ei/Math.tan(Si/2),Ti=$i/10,ki=10*$i,Di=yt.width/yt.height,Fi=[],Mi=[],Ri=0,Li=!1,Pi=!1,Oi=!0,Ii=h.CORNER,Bi=[],Ni=new m([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),Gi=new m([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),Hi=new m([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Vi=new m([0,0,0,0,1,0,1,1,0,1,0,0]),Ui=new m([0,0,1,0,0,1,0,0,1,0,0,1]),zi="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}",Wi="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}",ji="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}",qi="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}",Ki=/Windows/.test(a.userAgent),Yi="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(Ki?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );"+"  vec3 halfVector = normalize( VP - normalize(ecPos) );"+"  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );"+"  if( nDotVP != 0.0 ) {"+"    powerFactor = pow( nDotHV, uShininess );"+"  }"+"  spec += uSpecular * powerFactor * attenuation;"+"  col += light.color * nDotVP * attenuation;"+"}"+"void main(void) {"+"  vec3 finalAmbient = vec3( 0.0 );"+"  vec3 finalDiffuse = vec3( 0.0 );"+"  vec3 finalSpecular = vec3( 0.0 );"+"  vec4 col = uColor;"+"  if ( uColor[0] == -1.0 ){"+"    col = aColor;"+"  }"+"  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));"+"  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);"+"  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;"+"  if( uLightCount == 0 ) {"+"    vFrontColor = col + vec4(uMaterialSpecular, 1.0);"+"  }"+"  else {"+"    for( int i = 0; i < 8; i++ ) {"+"      Light l = getLight(i);"+"      if( i >= uLightCount ){"+"        break;"+"      }"+"      if( l.type == 0 ) {"+"        AmbientLight( finalAmbient, ecPos, l );"+"      }"+"      else if( l.type == 1 ) {"+"        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else if( l.type == 2 ) {"+"        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else {"+"        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"    }"+"   if( uUsingMat == false ) {"+"     vFrontColor = vec4("+"       vec3( col ) * finalAmbient +"+"       vec3( col ) * finalDiffuse +"+"       vec3( col ) * finalSpecular,"+"       col[3] );"+"   }"+"   else{"+"     vFrontColor = vec4( "+"       uMaterialEmissive + "+"       (vec3(col) * uMaterialAmbient * finalAmbient ) + "+"       (vec3(col) * finalDiffuse) + "+"       (uMaterialSpecular * finalSpecular), "+"       col[3] );"+"    }"+"  }"+"  vTexture.xy = aTexture.xy;"+"  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );"+"}",Xi="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}",Zi=function(e,t,n){var i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw e.getShaderInfoLog(i);var r=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r);var o=e.createProgram();if(e.attachShader(o,i),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw"Error linking shaders.";return o},Ji=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},Qi=Ji,er=function(e,t,n,i,r){return{x:e,y:t,w:r?n:n-e,h:r?i:i-t}},tr=function(e,t,n,i){return{x:e-n/2,y:t-i/2,w:n,h:i}},nr=function(){},ir=function(){},rr=function(){},or=function(){};ir.prototype=new nr,ir.prototype.constructor=ir,rr.prototype=new nr,rr.prototype.constructor=rr,or.prototype=new nr,or.prototype.constructor=or,nr.prototype.a3DOnlyFunction=c,yt.shape=function(e,t,n,i,r){arguments.length>=1&&null!==arguments[0]&&e.isVisible()&&(yt.pushMatrix(),Ii===h.CENTER?5===arguments.length?(yt.translate(t-i/2,n-r/2),yt.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length?yt.translate(t-e.getWidth()/2,-e.getHeight()/2):yt.translate(-e.getWidth()/2,-e.getHeight()/2):Ii===h.CORNER?5===arguments.length?(yt.translate(t,n),yt.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length&&yt.translate(t,n):Ii===h.CORNERS&&(5===arguments.length?(i-=t,r-=n,yt.translate(t,n),yt.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length&&yt.translate(t,n)),e.draw(yt),(1===arguments.length&&Ii===h.CENTER||arguments.length>1)&&yt.popMatrix())},yt.shapeMode=function(e){Ii=e},yt.loadShape=function(e){return 1===arguments.length&&e.indexOf(".svg")>-1?new PShapeSVG(null,e):null},yt.loadXML=function(e){return new XML(yt,e)},yt.parseXML=function(e){var t=new XML;return t.parse(e),t};var sr=function(e){for(var t=0,n=0;n<e.length;n++)t=0!==n?Math.max(t,Math.abs(e[n])):Math.abs(e[n]);var i=(t+"").indexOf(".");return 0===i?i=1:-1===i&&(i=(t+"").length),i},ar=yt.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof ar?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};ar.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof ar?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new ar;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,i;return e instanceof PVector?(n=e.x,i=e.y,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*i+this.elements[5]):t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*i+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>h.MIN_INT){var t=this.elements[0],n=this.elements[1],i=this.elements[2],r=this.elements[3],o=this.elements[4],s=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-r/e,this.elements[1]=-n/e,this.elements[4]=t/e,this.elements[2]=(n*s-o*i)/e,this.elements[5]=(r*i-t*s)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof ar?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],n=0,i=0;2>i;i++)for(var r=0;3>r;r++,n++)t[n]+=this.elements[3*i+0]*e[r+0]+this.elements[3*i+1]*e[r+3];this.elements=t.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof ar?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements[0],r=this.elements[1];this.elements[0]=t*i+n*r,this.elements[1]=-n*i+t*r,i=this.elements[3],r=this.elements[4],this.elements[3]=t*i+n*r,this.elements[4]=-n*i+t*r},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=sr(this.elements),t=""+yt.nfs(this.elements[0],e,4)+" "+yt.nfs(this.elements[1],e,4)+" "+yt.nfs(this.elements[2],e,4)+"\n"+yt.nfs(this.elements[3],e,4)+" "+yt.nfs(this.elements[4],e,4)+" "+yt.nfs(this.elements[5],e,4)+"\n\n";yt.println(t)}};var lr=yt.PMatrix3D=function(){this.reset()};lr.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof lr?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new lr;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,n,i){i===t&&(i=0),this.elements[3]+=e*this.elements[0]+n*this.elements[1]+i*this.elements[2],this.elements[7]+=e*this.elements[4]+n*this.elements[5]+i*this.elements[6],this.elements[11]+=e*this.elements[8]+n*this.elements[9]+i*this.elements[10],this.elements[15]+=e*this.elements[12]+n*this.elements[13]+i*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,i,r,o;return e instanceof PVector?(n=e.x,i=e.y,r=e.z,o=1,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],r=e[2],o=e[3]||1,(!t||3!==t.length&&4!==t.length)&&(t=[0,0,0])),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3]*o,t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7]*o,t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]*o,t[3]=this.elements[12]*n+this.elements[13]*i+this.elements[14]*r+this.elements[15]*o)),t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof lr?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);
for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;4>i;i++)for(var r=0;4>r;r++,n++)t[n]+=this.elements[r+0]*e[4*i+0]+this.elements[r+4]*e[4*i+1]+this.elements[r+8]*e[4*i+2]+this.elements[r+12]*e[4*i+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof lr?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;4>i;i++)for(var r=0;4>r;r++,n++)t[n]+=this.elements[4*i+0]*e[r+0]+this.elements[4*i+1]*e[r+4]+this.elements[4*i+2]*e[r+8]+this.elements[4*i+3]*e[r+12];this.elements=t.slice()},rotate:function(e,t,n,i){if(arguments.length<4)this.rotateZ(e);else{var r=new PVector(t,n,i),o=r.mag();if(0===o)return;1!=o&&(r.normalize(),t=r.x,n=r.y,i=r.z);var s=yt.cos(e),a=yt.sin(e),l=1-s;this.apply(l*t*t+s,l*t*n-a*i,l*t*i+a*n,0,l*t*n+a*i,l*n*n+s,l*n*i-a*t,0,l*t*i-a*n,l*n*i+a*t,l*i*i+s,0,0,0,0,1)}},invApply:function(){on===t&&(on=new lr);var e=arguments;return on.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),on.invert()?(this.preApply(on),!0):!1},rotateX:function(e){var t=yt.cos(e),n=yt.sin(e);this.apply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},rotateY:function(e){var t=yt.cos(e),n=yt.sin(e);this.apply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},rotateZ:function(e){var t=Math.cos(e),n=Math.sin(e);this.apply([t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){!e||t||n?e&&t&&!n&&(n=1):t=n=e,e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){var t=Math.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){var t=Math.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){var t=Math.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){var t=Math.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,i){return n?i?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*i:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,i){return n?i?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*i:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,i){return i?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*i:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,i){return i?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*i:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],n=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],r=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],s=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],l=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],h=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],d=e*h-t*c+n*u+i*l-r*a+o*s;if(Math.abs(d)<=1e-9)return!1;var p=[];p[0]=+this.elements[5]*h-this.elements[6]*c+this.elements[7]*u,p[4]=-this.elements[4]*h+this.elements[6]*l-this.elements[7]*a,p[8]=+this.elements[4]*c-this.elements[5]*l+this.elements[7]*s,p[12]=-this.elements[4]*u+this.elements[5]*a-this.elements[6]*s,p[1]=-this.elements[1]*h+this.elements[2]*c-this.elements[3]*u,p[5]=+this.elements[0]*h-this.elements[2]*l+this.elements[3]*a,p[9]=-this.elements[0]*c+this.elements[1]*l-this.elements[3]*s,p[13]=+this.elements[0]*u-this.elements[1]*a+this.elements[2]*s,p[2]=+this.elements[13]*o-this.elements[14]*r+this.elements[15]*i,p[6]=-this.elements[12]*o+this.elements[14]*n-this.elements[15]*t,p[10]=+this.elements[12]*r-this.elements[13]*n+this.elements[15]*e,p[14]=-this.elements[12]*i+this.elements[13]*t-this.elements[14]*e,p[3]=-this.elements[9]*o+this.elements[10]*r-this.elements[11]*i,p[7]=+this.elements[8]*o-this.elements[10]*n+this.elements[11]*t,p[11]=-this.elements[8]*r+this.elements[9]*n-this.elements[11]*e,p[15]=+this.elements[8]*i-this.elements[9]*t+this.elements[10]*e;var f=1/d;return p[0]*=f,p[1]*=f,p[2]*=f,p[3]*=f,p[4]*=f,p[5]*=f,p[6]*=f,p[7]*=f,p[8]*=f,p[9]*=f,p[10]*=f,p[11]*=f,p[12]*=f,p[13]*=f,p[14]*=f,p[15]*=f,this.elements=p.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+=this.elements[15]},print:function(){var e=sr(this.elements),t=""+yt.nfs(this.elements[0],e,4)+" "+yt.nfs(this.elements[1],e,4)+" "+yt.nfs(this.elements[2],e,4)+" "+yt.nfs(this.elements[3],e,4)+"\n"+yt.nfs(this.elements[4],e,4)+" "+yt.nfs(this.elements[5],e,4)+" "+yt.nfs(this.elements[6],e,4)+" "+yt.nfs(this.elements[7],e,4)+"\n"+yt.nfs(this.elements[8],e,4)+" "+yt.nfs(this.elements[9],e,4)+" "+yt.nfs(this.elements[10],e,4)+" "+yt.nfs(this.elements[11],e,4)+"\n"+yt.nfs(this.elements[12],e,4)+" "+yt.nfs(this.elements[13],e,4)+" "+yt.nfs(this.elements[14],e,4)+" "+yt.nfs(this.elements[15],e,4)+"\n\n";yt.println(t)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=Math.cos(-e),n=Math.sin(-e);this.preApply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},invRotateY:function(e){var t=Math.cos(-e),n=Math.sin(-e);this.preApply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=Math.cos(-e),n=Math.sin(-e);this.preApply([t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}};var ur=yt.PMatrixStack=function(){this.matrixStack=[]};ur.prototype.load=function(){var e=Ct.$newPMatrix();1===arguments.length?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},ir.prototype.$newPMatrix=function(){return new ar},rr.prototype.$newPMatrix=function(){return new lr},ur.prototype.push=function(){this.matrixStack.push(this.peek())},ur.prototype.pop=function(){return this.matrixStack.pop()},ur.prototype.peek=function(){var e=Ct.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},ur.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},yt.split=function(e,t){return e.split(t)},yt.splitTokens=function(e,n){if(n===t)return e.split(/\s+/g);var i,r,o=n.split(/()/g),s="",a=e.length,l=[];for(i=0;a>i;i++)r=e[i],o.indexOf(r)>-1?(""!==s&&l.push(s),s=""):s+=r;return""!==s&&l.push(s),l},yt.append=function(e,t){return e[e.length]=t,e},yt.concat=function(e,t){return e.concat(t)},yt.sort=function(e,t){var n=[];if(e.length>0){for(var i=t>0?t:e.length,r=0;i>r;r++)n.push(e[r]);if("string"==typeof e[0]?n.sort():n.sort(function(e,t){return e-t}),t>0)for(var o=n.length;o<e.length;o++)n.push(e[o])}return n},yt.splice=function(e,t,n){if(0===t.length)return e;if(t instanceof Array)for(var i=0,r=n;i<t.length;r++,i++)e.splice(r,0,t[i]);else e.splice(n,0,t);return e},yt.subset=function(e,n,i){var r=i!==t?n+i:e.length;return e.slice(n,r)},yt.join=function(e,t){return e.join(t)},yt.shorten=function(e){for(var t=[],n=e.length,i=0;n>i;i++)t[i]=e[i];return t.pop(),t},yt.expand=function(e,t){var n=e.slice(0),i=t||2*e.length;return n.length=i,n},yt.arrayCopy=function(){var e,n,i,r=0,o=0;2===arguments.length?(e=arguments[0],n=arguments[1],i=e.length):3===arguments.length?(e=arguments[0],n=arguments[1],i=arguments[2]):5===arguments.length&&(e=arguments[0],r=arguments[1],n=arguments[2],o=arguments[3],i=arguments[4]);for(var s=r,a=o;i+r>s;s++,a++){if(n[a]===t)throw"array index out of bounds exception";n[a]=e[s]}},yt.reverse=function(e){return e.reverse()},yt.mix=function(e,t,n){return e+((t-e)*n>>8)},yt.peg=function(e){return 0>e?0:e>255?255:e},yt.modes=function(){function e(e,t,n,i,r,s,a,l,u,c,h){var d=o(((4278190080&e)>>>24)+t,255)<<24,p=n+((u-n)*t>>8);p=(0>p?0:p>255?255:p)<<16;var f=i+((c-i)*t>>8);f=(0>f?0:f>255?255:f)<<8;var g=r+((h-r)*t>>8);return g=0>g?0:g>255?255:g,d|p|f|g}var t=h.ALPHA_MASK,n=h.RED_MASK,i=h.GREEN_MASK,r=h.BLUE_MASK,o=Math.min,s=Math.max;return{replace:function(e,t){return t},blend:function(e,s){var a=(s&t)>>>24,l=e&n,u=e&i,c=e&r,h=s&n,d=s&i,p=s&r;return o(((e&t)>>>24)+a,255)<<24|l+((h-l)*a>>8)&n|u+((d-u)*a>>8)&i|c+((p-c)*a>>8)&r},add:function(e,s){var a=(s&t)>>>24;return o(((e&t)>>>24)+a,255)<<24|o((e&n)+((s&n)>>8)*a,n)&n|o((e&i)+((s&i)>>8)*a,i)&i|o((e&r)+((s&r)*a>>8),r)},subtract:function(e,a){var l=(a&t)>>>24;return o(((e&t)>>>24)+l,255)<<24|s((e&n)-((a&n)>>8)*l,i)&n|s((e&i)-((a&i)>>8)*l,r)&i|s((e&r)-((a&r)*l>>8),0)},lightest:function(e,a){var l=(a&t)>>>24;return o(((e&t)>>>24)+l,255)<<24|s(e&n,((a&n)>>8)*l)&n|s(e&i,((a&i)>>8)*l)&i|s(e&r,(a&r)*l>>8)},darkest:function(e,s){var a=(s&t)>>>24,l=e&n,u=e&i,c=e&r,h=o(e&n,((s&n)>>8)*a),d=o(e&i,((s&i)>>8)*a),p=o(e&r,(s&r)*a>>8);return o(((e&t)>>>24)+a,255)<<24|l+((h-l)*a>>8)&n|u+((d-u)*a>>8)&i|c+((p-c)*a>>8)&r},difference:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=l>h?l-h:h-l,g=u>d?u-d:d-u,m=c>p?c-p:p-c;return e(o,a,l,u,c,h,d,p,f,g,m)},exclusion:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=l+h-(l*h>>7),g=u+d-(u*d>>7),m=c+p-(c*p>>7);return e(o,a,l,u,c,h,d,p,f,g,m)},multiply:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=l*h>>8,g=u*d>>8,m=c*p>>8;return e(o,a,l,u,c,h,d,p,f,g,m)},screen:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=255-((255-l)*(255-h)>>8),g=255-((255-u)*(255-d)>>8),m=255-((255-c)*(255-p)>>8);return e(o,a,l,u,c,h,d,p,f,g,m)},hard_light:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=128>h?l*h>>7:255-((255-l)*(255-h)>>7),g=128>d?u*d>>7:255-((255-u)*(255-d)>>7),m=128>p?c*p>>7:255-((255-c)*(255-p)>>7);return e(o,a,l,u,c,h,d,p,f,g,m)},soft_light:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=(l*h>>7)+(l*l>>8)-(l*l*h>>15),g=(u*d>>7)+(u*u>>8)-(u*u*d>>15),m=(c*p>>7)+(c*c>>8)-(c*c*p>>15);return e(o,a,l,u,c,h,d,p,f,g,m)},overlay:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=128>l?l*h>>7:255-((255-l)*(255-h)>>7),g=128>u?u*d>>7:255-((255-u)*(255-d)>>7),m=128>c?c*p>>7:255-((255-c)*(255-p)>>7);return e(o,a,l,u,c,h,d,p,f,g,m)},dodge:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=255;255!==h&&(f=(l<<8)/(255-h),f=0>f?0:f>255?255:f);var g=255;255!==d&&(g=(u<<8)/(255-d),g=0>g?0:g>255?255:g);var m=255;return 255!==p&&(m=(c<<8)/(255-p),m=0>m?0:m>255?255:m),e(o,a,l,u,c,h,d,p,f,g,m)},burn:function(o,s){var a=(s&t)>>>24,l=(o&n)>>16,u=(o&i)>>8,c=o&r,h=(s&n)>>16,d=(s&i)>>8,p=s&r,f=0;0!==h&&(f=(255-l<<8)/h,f=255-(0>f?0:f>255?255:f));var g=0;0!==d&&(g=(255-u<<8)/d,g=255-(0>g?0:g>255?255:g));var m=0;return 0!==p&&(m=(255-c<<8)/p,m=255-(0>m?0:m>255?255:m)),e(o,a,l,u,c,h,d,p,f,g,m)}}}(),yt.color=function(e,n,i,r){return e!==t&&n!==t&&i!==t&&r!==t?D(e,n,i,r):e!==t&&n!==t&&i!==t?D(e,n,i,In):e!==t&&n!==t?F(e,n):"number"==typeof e?M(e):D(Bn,Nn,Gn,In)},yt.color.toString=function(e){return"rgba("+((e&h.RED_MASK)>>>16)+","+((e&h.GREEN_MASK)>>>8)+","+(e&h.BLUE_MASK)+","+((e&h.ALPHA_MASK)>>>24)/255+")"},yt.color.toInt=function(e,t,n,i){return i<<24&h.ALPHA_MASK|e<<16&h.RED_MASK|t<<8&h.GREEN_MASK|n&h.BLUE_MASK},yt.color.toArray=function(e){return[(e&h.RED_MASK)>>>16,(e&h.GREEN_MASK)>>>8,e&h.BLUE_MASK,(e&h.ALPHA_MASK)>>>24]},yt.color.toGLArray=function(e){return[((e&h.RED_MASK)>>>16)/255,((e&h.GREEN_MASK)>>>8)/255,(e&h.BLUE_MASK)/255,((e&h.ALPHA_MASK)>>>24)/255]},yt.color.toRGB=function(e,t,n){e=e>Bn?Bn:e,t=t>Nn?Nn:t,n=n>Gn?Gn:n,e=360*(e/Bn),t=100*(t/Nn),n=100*(n/Gn);var i=Math.round(255*(n/100));if(0===t)return[i,i,i];var r=e%360,o=r%60,s=Math.round(255*(n*(100-t)/1e4)),a=Math.round(255*(n*(6e3-t*o)/6e5)),l=Math.round(255*(n*(6e3-t*(60-o))/6e5));switch(Math.floor(r/60)){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},yt.brightness=function(e){return R(e)[2]},yt.saturation=function(e){return R(e)[1]},yt.hue=function(e){return R(e)[0]},yt.red=function(e){return((e&h.RED_MASK)>>>16)/255*Bn},yt.green=function(e){return((e&h.GREEN_MASK)>>>8)/255*Nn},yt.blue=function(e){return(e&h.BLUE_MASK)/255*Gn},yt.alpha=function(e){return((e&h.ALPHA_MASK)>>>24)/255*In},yt.lerpColor=function(e,t,n){var i,r,o,s,a,l,u,c,d,p,f,g,m,v,y,b,w,C=yt.color(e),x=yt.color(t);return Un===h.HSB?(m=R(C),c=((C&h.ALPHA_MASK)>>>24)/In,v=R(x),g=((x&h.ALPHA_MASK)>>>24)/In,b=yt.lerp(m[0],v[0],n),w=yt.lerp(m[1],v[1],n),o=yt.lerp(m[2],v[2],n),y=yt.color.toRGB(b,w,o),s=0|yt.lerp(c,g,n)*In+.5,s<<24&h.ALPHA_MASK|y[0]<<16&h.RED_MASK|y[1]<<8&h.GREEN_MASK|y[2]&h.BLUE_MASK):(a=(C&h.RED_MASK)>>>16,l=(C&h.GREEN_MASK)>>>8,u=C&h.BLUE_MASK,c=((C&h.ALPHA_MASK)>>>24)/In,d=(x&h.RED_MASK)>>>16,p=(x&h.GREEN_MASK)>>>8,f=x&h.BLUE_MASK,g=((x&h.ALPHA_MASK)>>>24)/In,i=0|yt.lerp(a,d,n)+.5,r=0|yt.lerp(l,p,n)+.5,o=0|yt.lerp(u,f,n)+.5,s=0|yt.lerp(c,g,n)*In+.5,s<<24&h.ALPHA_MASK|i<<16&h.RED_MASK|r<<8&h.GREEN_MASK|o&h.BLUE_MASK)},yt.colorMode=function(){Un=arguments[0],arguments.length>1&&(Bn=arguments[1],Nn=arguments[2]||arguments[1],Gn=arguments[3]||arguments[1],In=arguments[4]||arguments[1])},yt.blendColor=function(e,t,n){return n===h.REPLACE?yt.modes.replace(e,t):n===h.BLEND?yt.modes.blend(e,t):n===h.ADD?yt.modes.add(e,t):n===h.SUBTRACT?yt.modes.subtract(e,t):n===h.LIGHTEST?yt.modes.lightest(e,t):n===h.DARKEST?yt.modes.darkest(e,t):n===h.DIFFERENCE?yt.modes.difference(e,t):n===h.EXCLUSION?yt.modes.exclusion(e,t):n===h.MULTIPLY?yt.modes.multiply(e,t):n===h.SCREEN?yt.modes.screen(e,t):n===h.HARD_LIGHT?yt.modes.hard_light(e,t):n===h.SOFT_LIGHT?yt.modes.soft_light(e,t):n===h.OVERLAY?yt.modes.overlay(e,t):n===h.DODGE?yt.modes.dodge(e,t):n===h.BURN?yt.modes.burn(e,t):void 0},yt.printMatrix=function(){en.print()},ir.prototype.translate=function(e,t){en.translate(e,t),tn.invTranslate(e,t),bt.translate(e,t)},rr.prototype.translate=function(e,t,n){en.translate(e,t,n),tn.invTranslate(e,t,n)},ir.prototype.scale=function(e,t){en.scale(e,t),tn.invScale(e,t),bt.scale(e,t||e)},rr.prototype.scale=function(e,t,n){en.scale(e,t,n),tn.invScale(e,t,n)},ir.prototype.transform=function(e){var t=e.array();bt.transform(t[0],t[3],t[1],t[4],t[2],t[5])},rr.prototype.transformm=function(){throw"p.transform is currently not supported in 3D mode"},ir.prototype.pushMatrix=function(){nn.load(en),rn.load(tn),L()},rr.prototype.pushMatrix=function(){nn.load(en),rn.load(tn)},ir.prototype.popMatrix=function(){en.set(nn.pop()),tn.set(rn.pop()),P()},rr.prototype.popMatrix=function(){en.set(nn.pop()),tn.set(rn.pop())},ir.prototype.resetMatrix=function(){en.reset(),tn.reset(),bt.setTransform(1,0,0,1,0,0)},rr.prototype.resetMatrix=function(){en.reset(),tn.reset()},nr.prototype.applyMatrix=function(){var e=arguments;en.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),tn.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},ir.prototype.applyMatrix=function(){for(var e=arguments,t=e.length;16>t;t++)e[t]=0;e[10]=e[15]=1,nr.prototype.applyMatrix.apply(this,e)},yt.rotateX=function(e){en.rotateX(e),tn.invRotateX(e)},ir.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},rr.prototype.rotateZ=function(e){en.rotateZ(e),tn.invRotateZ(e)},yt.rotateY=function(e){en.rotateY(e),tn.invRotateY(e)},ir.prototype.rotate=function(e){en.rotateZ(e),tn.invRotateZ(e),bt.rotate(e)},rr.prototype.rotate=function(e){arguments.length<4?yt.rotateZ(e):(en.rotate(e,arguments[1],arguments[2],arguments[3]),tn.rotate(-e,arguments[1],arguments[2],arguments[3]))},ir.prototype.shearX=function(e){en.shearX(e),bt.transform(1,0,e,1,0,0)},rr.prototype.shearX=function(e){en.shearX(e)},ir.prototype.shearY=function(e){en.shearY(e),bt.transform(1,e,0,1,0,0)},rr.prototype.shearY=function(e){en.shearY(e)},yt.pushStyle=function(){L(),yt.pushMatrix();var e={doFill:an,currentFillColor:un,doStroke:hn,currentStrokeColor:pn,curTint:zn,curRectMode:wn,curColorMode:Un,colorModeX:Bn,colorModeZ:Gn,colorModeY:Nn,colorModeA:In,curTextFont:ai,horizontalTextAlignment:Qn,verticalTextAlignment:ei,textMode:ti,curFontName:ni,curTextSize:ii,curTextAscent:ri,curTextDescent:oi,curTextLeading:si};Bi.push(e)},yt.popStyle=function(){var e=Bi.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";P(),yt.popMatrix(),an=e.doFill,un=e.currentFillColor,hn=e.doStroke,pn=e.currentStrokeColor,zn=e.curTint,wn=e.curRectMode,Un=e.curColorMode,Bn=e.colorModeX,Gn=e.colorModeZ,Nn=e.colorModeY,In=e.colorModeA,ai=e.curTextFont,ni=e.curFontName,ii=e.curTextSize,Qn=e.horizontalTextAlignment,ei=e.verticalTextAlignment,ti=e.textMode,ri=e.curTextAscent,oi=e.curTextDescent,si=e.curTextLeading},yt.year=function(){return(new Date).getFullYear()},yt.month=function(){return(new Date).getMonth()+1},yt.day=function(){return(new Date).getDate()},yt.hour=function(){return(new Date).getHours()},yt.minute=function(){return(new Date).getMinutes()},yt.second=function(){return(new Date).getSeconds()},yt.millis=function(){return Date.now()-jn},ir.prototype.redraw=function(){O(),bt.lineWidth=gn;var e=yt.pmouseX,t=yt.pmouseY;yt.pmouseX=Hn,yt.pmouseY=Vn,L(),yt.draw(),P(),Hn=yt.mouseX,Vn=yt.mouseY,yt.pmouseX=e,yt.pmouseY=t},rr.prototype.redraw=function(){O();var e=yt.pmouseX,t=yt.pmouseY;yt.pmouseX=Hn,yt.pmouseY=Vn,bt.clear(bt.DEPTH_BUFFER_BIT),Yn={attributes:{},locations:{}},yt.noLights(),yt.lightFalloff(1,0,0),yt.shininess(1),yt.ambient(255,255,255),yt.specular(0,0,0),yt.emissive(0,0,0),yt.camera(),yt.draw(),Hn=yt.mouseX,Vn=yt.mouseY,yt.pmouseX=e,yt.pmouseY=t},yt.noLoop=function(){yn=!1,mn=!1,clearInterval(bn),wt.onPause()},yt.loop=function(){mn||(qn=Date.now(),Kn=0,bn=l.setInterval(function(){try{wt.onFrameStart(),yt.redraw(),wt.onFrameEnd()}catch(e){throw l.clearInterval(bn),e}},$n),yn=!0,mn=!0,wt.onLoop())},yt.frameRate=function(e){En=e,$n=1e3/En,yn&&(yt.noLoop(),yt.loop())},yt.exit=function(){l.clearInterval(bn),A(yt.externals.canvas.id),delete gt.onmousedown;for(var e in S.lib)S.lib.hasOwnProperty(e)&&S.lib[e].hasOwnProperty("detach")&&S.lib[e].detach(yt);for(var t=vt.length;t--;)w(vt[t]);wt.onExit()},yt.cursor=function(){if(arguments.length>1||1===arguments.length&&arguments[0]instanceof yt.PImage){var e,t,n=arguments[0];if(arguments.length>=3){if(e=arguments[1],t=arguments[2],0>e||0>t||t>=n.height||e>=n.width)throw"x and y must be non-negative and less than the dimensions of the image"}else e=n.width>>>1,t=n.height>>>1;var i=n.toDataURL(),r='url("'+i+'") '+e+" "+t+", default";Tn=gt.style.cursor=r}else if(1===arguments.length){var o=arguments[0];Tn=gt.style.cursor=o}else Tn=gt.style.cursor=kn},yt.noCursor=function(){Tn=gt.style.cursor=h.NOCURSOR},yt.link=function(e,n){n!==t?l.open(e,n):l.location=e},yt.beginDraw=c,yt.endDraw=c,ir.prototype.toImageData=function(e,n,i,r){return e=e!==t?e:0,n=n!==t?n:0,i=i!==t?i:yt.width,r=r!==t?r:yt.height,bt.getImageData(e,n,i,r)},rr.prototype.toImageData=function(e,n,i,r){e=e!==t?e:0,n=n!==t?n:0,i=i!==t?i:yt.width,r=r!==t?r:yt.height;var o=u.createElement("canvas"),s=o.getContext("2d"),a=s.createImageData(i,r),l=new b(4*i*r);bt.readPixels(e,n,i,r,bt.RGBA,bt.UNSIGNED_BYTE,l);for(var c=0,h=l.length,d=a.data;h>c;c++)d[c]=l[4*(r-1-Math.floor(c/4/i))*i+c%(4*i)];return a},yt.status=function(e){l.status=e},yt.binary=function(e,t){var n;if(t>0)n=t;else if(e instanceof Char)n=16,e|=0;else for(n=32;n>1&&!(1&e>>>n-1);)n--;for(var i="";n>0;)i+=1&e>>>--n?"1":"0";return i},yt.unbinary=function(e){for(var t=e.length-1,n=1,i=0;t>=0;){var r=e[t--];if("0"!==r&&"1"!==r)throw"the value passed into unbinary was not an 8 bit binary number";"1"===r&&(i+=n),n<<=1}return i};var cr=function(e,n){n=n===t||null===n?n=8:n,0>e&&(e=4294967295+e+1);for(var i=Number(e).toString(16).toUpperCase();i.length<n;)i="0"+i;return i.length>=n&&(i=i.substring(i.length-n,i.length)),i};yt.hex=function(e,t){return 1===arguments.length&&(t=e instanceof Char?4:8),cr(e,t)},yt.unhex=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(I(e[n]));return t}return I(e)},yt.loadStrings=function(e){if(d[e])return d[e].split("\n");var t=s(e);return"string"!=typeof t||""===t?[]:(t=t.replace(/(\r\n?)/g,"\n").replace(/\n$/,""),t.split("\n"))},yt.saveStrings=function(e,t){d[e]=t.join("\n")},yt.loadBytes=function(e){for(var t=s(e),n=[],i=0;i<t.length;i++)n.push(t.charCodeAt(i));return n},yt.matchAll=function(e,t){for(var n,i=[],r=new RegExp(t,"g");null!==(n=r.exec(e));)i.push(n),0===n[0].length&&++r.lastIndex;return i.length>0?i:null},yt.match=function(e,t){return e.match(t)},yt.println=function(){S.logger.println.apply(S.logger,arguments)},yt.print=function(){S.logger.print.apply(S.logger,arguments)},yt.str=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString()+"");return t}return e.toString()+""},yt.parseBoolean=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(B(e[n]));return t}return B(e)},yt.parseByte=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(0-(128&e[n])|127&e[n]);return t}return 0-(128&e)|127&e},yt.parseChar=function(e){if("number"==typeof e)return new Char(String.fromCharCode(65535&e));if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(new Char(String.fromCharCode(65535&e[n])));return t}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},yt.parseFloat=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(N(e[n]));return t}return N(e)},yt.parseInt=function(e,t){if(e instanceof Array){for(var n=[],i=0;i<e.length;i++)"string"!=typeof e[i]||/^\s*[+\-]?\d+\s*$/.test(e[i])?n.push(G(e[i],t)):n.push(0);return n}return G(e,t)},yt.__int_cast=function(e){return 0|e},yt.__instanceof=function(e,t){if("function"!=typeof t)throw"Function is expected as type argument for instanceof operator";if("string"==typeof e)return t===Object||t===String;if(e instanceof t)return!0;if("object"!=typeof e||null===e)return!1;var n=e.constructor;if(t.$isInterface){for(var i=[];n;)n.$interfaces&&(i=i.concat(n.$interfaces)),n=n.$base;for(;i.length>0;){var r=i.shift();if(r===t)return!0;r.$interfaces&&(i=i.concat(r.$interfaces))}return!1}for(;n.hasOwnProperty("$base");)if(n=n.$base,n===t)return!0;return!1},nr.prototype.size=function(e,t){hn&&yt.stroke(0),an&&yt.fill(255);var n={fillStyle:bt.fillStyle,strokeStyle:bt.strokeStyle,lineCap:bt.lineCap,lineJoin:bt.lineJoin};gt.style.length>0&&(gt.style.removeProperty("width"),gt.style.removeProperty("height")),gt.width=yt.width=e||100,gt.height=yt.height=t||100;for(var i in n)n.hasOwnProperty(i)&&(bt[i]=n[i]);yt.textFont(ai),yt.background(),ci=Math.max(1e3,.05*e*t),yt.externals.context=bt;for(var r=0;r<h.SINCOS_LENGTH;r++)wi[r]=yt.sin(.5*r*(h.PI/180)),Ci[r]=yt.cos(.5*r*(h.PI/180))},ir.prototype.size=function(){bt===t&&(bt=gt.getContext("2d"),nn=new ur,rn=new ur,en=new ar,tn=new ar),nr.prototype.size.apply(this,arguments)},rr.prototype.size=function(){var e=!1;return function(t,n){function i(e){for(var t,n=["experimental-webgl","webgl","webkit-3d"],i=0,r=n.length;r>i&&!(t=e.getContext(n[i],{antialias:!1,preserveDrawingBuffer:!0}));i++);return t}if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{gt.width=yt.width=t||100,gt.height=yt.height=n||100,bt=i(gt),zt=bt.createTexture(),Wt=bt.createTexture()}catch(r){S.debug(r)}if(!bt)throw"WebGL context is not supported on this browser.";bt.viewport(0,0,gt.width,gt.height),bt.enable(bt.DEPTH_TEST),bt.enable(bt.BLEND),bt.blendFunc(bt.SRC_ALPHA,bt.ONE_MINUS_SRC_ALPHA),Dt=Zi(bt,ji,qi),Ft=Zi(bt,zi,Wi),yt.strokeWeight(1),kt=Zi(bt,Yi,Xi),bt.useProgram(kt),E("usingTexture3d",kt,"usingTexture",Jn),yt.lightFalloff(1,0,0),yt.shininess(1),yt.ambient(255,255,255),yt.specular(0,0,0),yt.emissive(0,0,0),Mt=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,Mt),bt.bufferData(bt.ARRAY_BUFFER,Ni,bt.STATIC_DRAW),Rt=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,Rt),bt.bufferData(bt.ARRAY_BUFFER,Hi,bt.STATIC_DRAW),Lt=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,Lt),bt.bufferData(bt.ARRAY_BUFFER,Gi,bt.STATIC_DRAW),Pt=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,Pt),bt.bufferData(bt.ARRAY_BUFFER,Vi,bt.STATIC_DRAW),Ot=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,Ot),bt.bufferData(bt.ARRAY_BUFFER,Ui,bt.STATIC_DRAW),It=bt.createBuffer(),Bt=bt.createBuffer(),Nt=bt.createBuffer(),Gt=bt.createBuffer(),Ht=bt.createBuffer(),Ut=bt.createBuffer(),Vt=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,Vt),bt.bufferData(bt.ARRAY_BUFFER,new m([0,0,0]),bt.STATIC_DRAW),jt=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,jt),bt.bufferData(bt.ARRAY_BUFFER,new m([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),bt.STATIC_DRAW),qt=bt.createBuffer(),bt.bindBuffer(bt.ARRAY_BUFFER,qt),bt.bufferData(bt.ARRAY_BUFFER,new m([0,0,1,0,1,1,0,1]),bt.STATIC_DRAW),Kt=bt.createBuffer(),bt.bindBuffer(bt.ELEMENT_ARRAY_BUFFER,Kt),bt.bufferData(bt.ELEMENT_ARRAY_BUFFER,new y([0,1,2,2,3,0]),bt.STATIC_DRAW),Jt=new lr,Qt=new lr,en=new lr,tn=new lr,sn=new lr,yt.camera(),yt.perspective(),nn=new ur,rn=new ur,At=new lr,St=new lr,_t=new lr,Et=new lr,$t=new lr,Tt=new lr,Tt.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),nr.prototype.size.apply(this,arguments)}}(),ir.prototype.ambientLight=nr.prototype.a3DOnlyFunction,rr.prototype.ambientLight=function(e,t,n,i,r,o){if(fi===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";var s=new PVector(i,r,o),a=new lr;a.scale(1,-1,1),a.apply(en.array()),a.mult(s,s);var l=D(e,t,n,0),u=[((l&h.RED_MASK)>>>16)/255,((l&h.GREEN_MASK)>>>8)/255,(l&h.BLUE_MASK)/255];bt.useProgram(kt),_("uLights.color.3d."+fi,kt,"uLights"+fi+".color",u),_("uLights.position.3d."+fi,kt,"uLights"+fi+".position",s.array()),E("uLights.type.3d."+fi,kt,"uLights"+fi+".type",0),E("uLightCount3d",kt,"uLightCount",++fi)},ir.prototype.directionalLight=nr.prototype.a3DOnlyFunction,rr.prototype.directionalLight=function(e,t,n,i,r,o){if(fi===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";bt.useProgram(kt);var s=new lr;s.scale(1,-1,1),s.apply(en.array()),s=s.array();var a=[s[0]*i+s[4]*r+s[8]*o,s[1]*i+s[5]*r+s[9]*o,s[2]*i+s[6]*r+s[10]*o],l=D(e,t,n,0),u=[((l&h.RED_MASK)>>>16)/255,((l&h.GREEN_MASK)>>>8)/255,(l&h.BLUE_MASK)/255];_("uLights.color.3d."+fi,kt,"uLights"+fi+".color",u),_("uLights.position.3d."+fi,kt,"uLights"+fi+".position",a),E("uLights.type.3d."+fi,kt,"uLights"+fi+".type",1),E("uLightCount3d",kt,"uLightCount",++fi)},ir.prototype.lightFalloff=nr.prototype.a3DOnlyFunction,rr.prototype.lightFalloff=function(e,t,n){bt.useProgram(kt),_("uFalloff3d",kt,"uFalloff",[e,t,n])},ir.prototype.lightSpecular=nr.prototype.a3DOnlyFunction,rr.prototype.lightSpecular=function(e,t,n){var i=D(e,t,n,0),r=[((i&h.RED_MASK)>>>16)/255,((i&h.GREEN_MASK)>>>8)/255,(i&h.BLUE_MASK)/255];bt.useProgram(kt),_("uSpecular3d",kt,"uSpecular",r)},yt.lights=function(){yt.ambientLight(128,128,128),yt.directionalLight(128,128,128,0,0,-1),yt.lightFalloff(1,0,0),yt.lightSpecular(0,0,0)},ir.prototype.pointLight=nr.prototype.a3DOnlyFunction,rr.prototype.pointLight=function(e,t,n,i,r,o){if(fi===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";var s=new PVector(i,r,o),a=new lr;a.scale(1,-1,1),a.apply(en.array()),a.mult(s,s);var l=D(e,t,n,0),u=[((l&h.RED_MASK)>>>16)/255,((l&h.GREEN_MASK)>>>8)/255,(l&h.BLUE_MASK)/255];bt.useProgram(kt),_("uLights.color.3d."+fi,kt,"uLights"+fi+".color",u),_("uLights.position.3d."+fi,kt,"uLights"+fi+".position",s.array()),E("uLights.type.3d."+fi,kt,"uLights"+fi+".type",2),E("uLightCount3d",kt,"uLightCount",++fi)},ir.prototype.noLights=nr.prototype.a3DOnlyFunction,rr.prototype.noLights=function(){fi=0,bt.useProgram(kt),E("uLightCount3d",kt,"uLightCount",fi)},ir.prototype.spotLight=nr.prototype.a3DOnlyFunction,rr.prototype.spotLight=function(e,t,n,i,r,o,s,a,l,u,c){if(fi===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";bt.useProgram(kt);var d=new PVector(i,r,o),p=new lr;p.scale(1,-1,1),p.apply(en.array()),p.mult(d,d),p=p.array();var f=[p[0]*s+p[4]*a+p[8]*l,p[1]*s+p[5]*a+p[9]*l,p[2]*s+p[6]*a+p[10]*l],g=D(e,t,n,0),m=[((g&h.RED_MASK)>>>16)/255,((g&h.GREEN_MASK)>>>8)/255,(g&h.BLUE_MASK)/255];_("uLights.color.3d."+fi,kt,"uLights"+fi+".color",m),_("uLights.position.3d."+fi,kt,"uLights"+fi+".position",d.array()),_("uLights.direction.3d."+fi,kt,"uLights"+fi+".direction",f),_("uLights.concentration.3d."+fi,kt,"uLights"+fi+".concentration",c),_("uLights.angle.3d."+fi,kt,"uLights"+fi+".angle",u),E("uLights.type.3d."+fi,kt,"uLights"+fi+".type",3),E("uLightCount3d",kt,"uLightCount",++fi)},ir.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},rr.prototype.beginCamera=function(){if(xi)throw"You cannot call beginCamera() again before calling endCamera()";xi=!0,en=Qt,tn=Jt},ir.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},rr.prototype.endCamera=function(){if(!xi)throw"You cannot call endCamera() before calling beginCamera()";en.set(Jt),tn.set(Qt),xi=!1},yt.camera=function(e,n,i,r,o,s,a,l,u){e===t&&(_i=yt.width/2,Ei=yt.height/2,$i=Ei/Math.tan(Si/2),e=_i,n=Ei,i=$i,r=_i,o=Ei,s=0,a=0,l=1,u=0);var c=new PVector(e-r,n-o,i-s),h=new PVector(a,l,u);c.normalize();var d=PVector.cross(h,c);h=PVector.cross(c,d),d.normalize(),h.normalize();var p=d.x,f=d.y,g=d.z,m=h.x,v=h.y,y=h.z,b=c.x,w=c.y,C=c.z;Jt.set(p,f,g,0,m,v,y,0,b,w,C,0,0,0,0,1),Jt.translate(-e,-n,-i),Qt.reset(),Qt.invApply(p,f,g,0,m,v,y,0,b,w,C,0,0,0,0,1),Qt.translate(e,n,i),en.set(Jt),tn.set(Qt)},yt.perspective=function(e,t,n,i){0===arguments.length&&(Ei=gt.height/2,$i=Ei/Math.tan(Si/2),Ti=$i/10,ki=10*$i,Di=yt.width/yt.height,e=Si,t=Di,n=Ti,i=ki);var r,o,s,a;r=n*Math.tan(e/2),o=-r,s=r*t,a=o*t,yt.frustum(a,s,o,r,n,i)},ir.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},rr.prototype.frustum=function(e,t,n,i,r,o){Ai=!0,sn=new lr,sn.set(2*r/(t-e),0,(t+e)/(t-e),0,0,2*r/(i-n),(i+n)/(i-n),0,0,0,-(o+r)/(o-r),-(2*o*r)/(o-r),0,0,-1,0);var s=new lr;s.set(sn),s.transpose(),bt.useProgram(Dt),$("projection2d",Dt,"uProjection",!1,s.array()),bt.useProgram(kt),$("projection3d",kt,"uProjection",!1,s.array()),bt.useProgram(Ft),$("uProjectionUS",Ft,"uProjection",!1,s.array())},yt.ortho=function(e,t,n,i,r,o){0===arguments.length&&(e=0,t=yt.width,n=0,i=yt.height,r=-10,o=10);var s=2/(t-e),a=2/(i-n),l=-2/(o-r),u=-(t+e)/(t-e),c=-(i+n)/(i-n),h=-(o+r)/(o-r);sn=new lr,sn.set(s,0,0,u,0,a,0,c,0,0,l,h,0,0,0,1);var d=new lr;d.set(sn),d.transpose(),bt.useProgram(Dt),$("projection2d",Dt,"uProjection",!1,d.array()),bt.useProgram(kt),$("projection3d",kt,"uProjection",!1,d.array()),bt.useProgram(Ft),$("uProjectionUS",Ft,"uProjection",!1,d.array()),Ai=!1},yt.printProjection=function(){sn.print()},yt.printCamera=function(){Jt.print()},ir.prototype.box=nr.prototype.a3DOnlyFunction,rr.prototype.box=function(e,t,n){t&&n||(t=n=e);var i=new lr;i.scale(e,t,n);var r=new lr;if(r.scale(1,-1,1),r.apply(en.array()),r.transpose(),an){if(bt.useProgram(kt),$("model3d",kt,"uModel",!1,i.array()),$("view3d",kt,"uView",!1,r.array()),bt.enable(bt.POLYGON_OFFSET_FILL),bt.polygonOffset(1,1),_("color3d",kt,"uColor",ln),fi>0){var o=new lr;o.set(r);var s=new lr;s.set(i),o.mult(s);var a=new lr;a.set(o),a.invert(),a.transpose(),$("uNormalTransform3d",kt,"uNormalTransform",!1,a.array()),T("aNormal3d",kt,"aNormal",3,Rt)
}else k("aNormal3d",kt,"aNormal");T("aVertex3d",kt,"aVertex",3,Mt),k("aColor3d",kt,"aColor"),k("aTexture3d",kt,"aTexture"),bt.drawArrays(bt.TRIANGLES,0,Ni.length/3),bt.disable(bt.POLYGON_OFFSET_FILL)}gn>0&&hn&&(bt.useProgram(Dt),$("uModel2d",Dt,"uModel",!1,i.array()),$("uView2d",Dt,"uView",!1,r.array()),_("uColor2d",Dt,"uColor",dn),E("uIsDrawingText2d",Dt,"uIsDrawingText",!1),T("vertex2d",Dt,"aVertex",3,Lt),k("aTextureCoord2d",Dt,"aTextureCoord"),bt.drawArrays(bt.LINES,0,Gi.length/3))};var hr=function(){var e;for(Zt=[],e=0;mi>e;e++)Zt.push(0),Zt.push(-1),Zt.push(0),Zt.push(vi[e]),Zt.push(yi[e]),Zt.push(bi[e]);Zt.push(0),Zt.push(-1),Zt.push(0),Zt.push(vi[0]),Zt.push(yi[0]),Zt.push(bi[0]);var t,n,i,r=0;for(e=2;gi>e;e++){t=n=r,r+=mi,i=r;for(var o=0;mi>o;o++)Zt.push(vi[t]),Zt.push(yi[t]),Zt.push(bi[t++]),Zt.push(vi[i]),Zt.push(yi[i]),Zt.push(bi[i++]);t=n,i=r,Zt.push(vi[t]),Zt.push(yi[t]),Zt.push(bi[t]),Zt.push(vi[i]),Zt.push(yi[i]),Zt.push(bi[i])}for(e=0;mi>e;e++)i=r+e,Zt.push(vi[i]),Zt.push(yi[i]),Zt.push(bi[i]),Zt.push(0),Zt.push(1),Zt.push(0);Zt.push(vi[r]),Zt.push(yi[r]),Zt.push(bi[r]),Zt.push(0),Zt.push(1),Zt.push(0),bt.bindBuffer(bt.ARRAY_BUFFER,It),bt.bufferData(bt.ARRAY_BUFFER,new m(Zt),bt.STATIC_DRAW)};yt.sphereDetail=function(e,t){var n;if(1===arguments.length&&(e=t=arguments[0]),3>e&&(e=3),2>t&&(t=2),e!==mi||t!==gi){var i=h.SINCOS_LENGTH/e,r=new m(e),o=new m(e);for(n=0;e>n;n++)r[n]=Ci[0|n*i%h.SINCOS_LENGTH],o[n]=wi[0|n*i%h.SINCOS_LENGTH];var s=e*(t-1)+2,a=0;vi=new m(s),yi=new m(s),bi=new m(s);var l=.5*h.SINCOS_LENGTH/t,u=l;for(n=1;t>n;n++){for(var c=wi[0|u%h.SINCOS_LENGTH],d=-Ci[0|u%h.SINCOS_LENGTH],p=0;e>p;p++)vi[a]=r[p]*c,yi[a]=d,bi[a++]=o[p]*c;u+=l}mi=e,gi=t,hr()}},ir.prototype.sphere=nr.prototype.a3DOnlyFunction,rr.prototype.sphere=function(){var e=arguments[0];(3>mi||2>gi)&&yt.sphereDetail(30);var t=new lr;t.scale(e,e,e);var n=new lr;if(n.scale(1,-1,1),n.apply(en.array()),n.transpose(),an){if(fi>0){var i=new lr;i.set(n);var r=new lr;r.set(t),i.mult(r);var o=new lr;o.set(i),o.invert(),o.transpose(),$("uNormalTransform3d",kt,"uNormalTransform",!1,o.array()),T("aNormal3d",kt,"aNormal",3,It)}else k("aNormal3d",kt,"aNormal");bt.useProgram(kt),k("aTexture3d",kt,"aTexture"),$("uModel3d",kt,"uModel",!1,t.array()),$("uView3d",kt,"uView",!1,n.array()),T("aVertex3d",kt,"aVertex",3,It),k("aColor3d",kt,"aColor"),bt.enable(bt.POLYGON_OFFSET_FILL),bt.polygonOffset(1,1),_("uColor3d",kt,"uColor",ln),bt.drawArrays(bt.TRIANGLE_STRIP,0,Zt.length/3),bt.disable(bt.POLYGON_OFFSET_FILL)}gn>0&&hn&&(bt.useProgram(Dt),$("uModel2d",Dt,"uModel",!1,t.array()),$("uView2d",Dt,"uView",!1,n.array()),T("aVertex2d",Dt,"aVertex",3,It),k("aTextureCoord2d",Dt,"aTextureCoord"),_("uColor2d",Dt,"uColor",dn),E("uIsDrawingText",Dt,"uIsDrawingText",!1),bt.drawArrays(bt.LINE_STRIP,0,Zt.length/3))},yt.modelX=function(e,t,n){var i=en.array(),r=Qt.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],u=r[0]*o+r[1]*s+r[2]*a+r[3]*l,c=r[12]*o+r[13]*s+r[14]*a+r[15]*l;return 0!==c?u/c:u},yt.modelY=function(e,t,n){var i=en.array(),r=Qt.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],u=r[4]*o+r[5]*s+r[6]*a+r[7]*l,c=r[12]*o+r[13]*s+r[14]*a+r[15]*l;return 0!==c?u/c:u},yt.modelZ=function(e,t,n){var i=en.array(),r=Qt.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],u=r[8]*o+r[9]*s+r[10]*a+r[11]*l,c=r[12]*o+r[13]*s+r[14]*a+r[15]*l;return 0!==c?u/c:u},ir.prototype.ambient=nr.prototype.a3DOnlyFunction,rr.prototype.ambient=function(e,t,n){bt.useProgram(kt),E("uUsingMat3d",kt,"uUsingMat",!0);var i=yt.color(e,t,n);_("uMaterialAmbient3d",kt,"uMaterialAmbient",yt.color.toGLArray(i).slice(0,3))},ir.prototype.emissive=nr.prototype.a3DOnlyFunction,rr.prototype.emissive=function(e,t,n){bt.useProgram(kt),E("uUsingMat3d",kt,"uUsingMat",!0);var i=yt.color(e,t,n);_("uMaterialEmissive3d",kt,"uMaterialEmissive",yt.color.toGLArray(i).slice(0,3))},ir.prototype.shininess=nr.prototype.a3DOnlyFunction,rr.prototype.shininess=function(e){bt.useProgram(kt),E("uUsingMat3d",kt,"uUsingMat",!0),_("uShininess3d",kt,"uShininess",e)},ir.prototype.specular=nr.prototype.a3DOnlyFunction,rr.prototype.specular=function(e,t,n){bt.useProgram(kt),E("uUsingMat3d",kt,"uUsingMat",!0);var i=yt.color(e,t,n);_("uMaterialSpecular3d",kt,"uMaterialSpecular",yt.color.toGLArray(i).slice(0,3))},yt.screenX=function(e,t,n){var i=en.array();if(16===i.length){var r=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],s=i[8]*e+i[9]*t+i[10]*n+i[11],a=i[12]*e+i[13]*t+i[14]*n+i[15],l=sn.array(),u=l[0]*r+l[1]*o+l[2]*s+l[3]*a,c=l[12]*r+l[13]*o+l[14]*s+l[15]*a;return 0!==c&&(u/=c),yt.width*(1+u)/2}return en.multX(e,t)},yt.screenY=function(e,t,n){var i=en.array();if(16===i.length){var r=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],s=i[8]*e+i[9]*t+i[10]*n+i[11],a=i[12]*e+i[13]*t+i[14]*n+i[15],l=sn.array(),u=l[4]*r+l[5]*o+l[6]*s+l[7]*a,c=l[12]*r+l[13]*o+l[14]*s+l[15]*a;return 0!==c&&(u/=c),yt.height*(1+u)/2}return en.multY(e,t)},yt.screenZ=function(e,t,n){var i=en.array();if(16!==i.length)return 0;var r=sn.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11],l=i[12]*e+i[13]*t+i[14]*n+i[15],u=r[8]*o+r[9]*s+r[10]*a+r[11]*l,c=r[12]*o+r[13]*s+r[14]*a+r[15]*l;return 0!==c&&(u/=c),(u+1)/2},nr.prototype.fill=function(){var e=yt.color.apply(this,arguments);e===un&&an||(an=!0,un=e)},ir.prototype.fill=function(){nr.prototype.fill.apply(this,arguments),cn=!0},rr.prototype.fill=function(){nr.prototype.fill.apply(this,arguments),ln=yt.color.toGLArray(un)},yt.noFill=function(){an=!1},nr.prototype.stroke=function(){var e=yt.color.apply(this,arguments);e===pn&&hn||(hn=!0,pn=e)},ir.prototype.stroke=function(){nr.prototype.stroke.apply(this,arguments),fn=!0},rr.prototype.stroke=function(){nr.prototype.stroke.apply(this,arguments),dn=yt.color.toGLArray(pn)},yt.noStroke=function(){hn=!1},nr.prototype.strokeWeight=function(e){gn=e},ir.prototype.strokeWeight=function(e){nr.prototype.strokeWeight.apply(this,arguments),bt.lineWidth=e},rr.prototype.strokeWeight=function(e){nr.prototype.strokeWeight.apply(this,arguments),bt.useProgram(Dt),_("pointSize2d",Dt,"uPointSize",e),bt.useProgram(Ft),_("pointSizeUnlitShape",Ft,"uPointSize",e),bt.lineWidth(e)},yt.strokeCap=function(e){Ct.$ensureContext().lineCap=e},yt.strokeJoin=function(e){Ct.$ensureContext().lineJoin=e},ir.prototype.smooth=function(){vn=!0;var e=gt.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),bt.hasOwnProperty("mozImageSmoothingEnabled")&&(bt.mozImageSmoothingEnabled=!0)},rr.prototype.smooth=function(){vn=!0},ir.prototype.noSmooth=function(){vn=!1;var e=gt.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),bt.hasOwnProperty("mozImageSmoothingEnabled")&&(bt.mozImageSmoothingEnabled=!1)},rr.prototype.noSmooth=function(){vn=!1},ir.prototype.point=function(e,t){hn&&(vn||(e=Math.round(e),t=Math.round(t)),bt.fillStyle=yt.color.toString(pn),cn=!0,gn>1?(bt.beginPath(),bt.arc(e,t,gn/2,0,h.TWO_PI,!1),bt.fill()):bt.fillRect(e,t,1,1))},rr.prototype.point=function(e,t,n){var i=new lr;i.translate(e,t,n||0),i.transpose();var r=new lr;r.scale(1,-1,1),r.apply(en.array()),r.transpose(),bt.useProgram(Dt),$("uModel2d",Dt,"uModel",!1,i.array()),$("uView2d",Dt,"uView",!1,r.array()),gn>0&&hn&&(_("uColor2d",Dt,"uColor",dn),E("uIsDrawingText2d",Dt,"uIsDrawingText",!1),E("uSmooth2d",Dt,"uSmooth",vn),T("aVertex2d",Dt,"aVertex",3,Vt),k("aTextureCoord2d",Dt,"aTextureCoord"),bt.drawArrays(bt.POINTS,0,1))},yt.beginShape=function(e){Dn=e,Fn=[],Fi=[]},ir.prototype.vertex=function(e,t,n){var i=[];Oi&&(Oi=!1),i.isVert=!0,i[0]=e,i[1]=t,i[2]=0,i[3]=0,i[4]=0,i[5]=un,i[6]=pn,Fi.push(i),n&&(Fi[Fi.length-1].moveTo=n)},rr.prototype.vertex=function(e,n,i,r,o){var s=[];Oi&&(Oi=!1),s.isVert=!0,o===t&&Jn&&(o=r,r=i,i=0),r!==t&&o!==t&&(Zn===h.IMAGE&&(r/=Xn.width,o/=Xn.height),r=r>1?1:r,r=0>r?0:r,o=o>1?1:o,o=0>o?0:o),s[0]=e,s[1]=n,s[2]=i||0,s[3]=r||0,s[4]=o||0,s[5]=ln[0],s[6]=ln[1],s[7]=ln[2],s[8]=ln[3],s[9]=dn[0],s[10]=dn[1],s[11]=dn[2],s[12]=dn[3],s[13]=xn,s[14]=An,s[15]=Sn,Fi.push(s)};var dr=function(e,t){var n=new lr;n.scale(1,-1,1),n.apply(en.array()),n.transpose(),bt.useProgram(Ft),$("uViewUS",Ft,"uView",!1,n.array()),E("uSmoothUS",Ft,"uSmooth",vn),T("aVertexUS",Ft,"aVertex",3,Vt),bt.bufferData(bt.ARRAY_BUFFER,new m(e),bt.STREAM_DRAW),T("aColorUS",Ft,"aColor",4,Gt),bt.bufferData(bt.ARRAY_BUFFER,new m(t),bt.STREAM_DRAW),bt.drawArrays(bt.POINTS,0,e.length/3)},pr=function(e,t,n){var i;i="LINES"===t?bt.LINES:"LINE_LOOP"===t?bt.LINE_LOOP:bt.LINE_STRIP;var r=new lr;r.scale(1,-1,1),r.apply(en.array()),r.transpose(),bt.useProgram(Ft),$("uViewUS",Ft,"uView",!1,r.array()),T("aVertexUS",Ft,"aVertex",3,Bt),bt.bufferData(bt.ARRAY_BUFFER,new m(e),bt.STREAM_DRAW),T("aColorUS",Ft,"aColor",4,Ht),bt.bufferData(bt.ARRAY_BUFFER,new m(n),bt.STREAM_DRAW),bt.drawArrays(i,0,e.length/3)},fr=function(e,t,n,i){var r;r="TRIANGLES"===t?bt.TRIANGLES:"TRIANGLE_FAN"===t?bt.TRIANGLE_FAN:bt.TRIANGLE_STRIP;var o=new lr;o.scale(1,-1,1),o.apply(en.array()),o.transpose(),bt.useProgram(kt),$("model3d",kt,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),$("view3d",kt,"uView",!1,o.array()),bt.enable(bt.POLYGON_OFFSET_FILL),bt.polygonOffset(1,1),_("color3d",kt,"uColor",[-1,0,0,0]),T("vertex3d",kt,"aVertex",3,Nt),bt.bufferData(bt.ARRAY_BUFFER,new m(e),bt.STREAM_DRAW),Jn&&null!==zn&&Wn(n),T("aColor3d",kt,"aColor",4,Gt),bt.bufferData(bt.ARRAY_BUFFER,new m(n),bt.STREAM_DRAW),k("aNormal3d",kt,"aNormal"),Jn&&(E("uUsingTexture3d",kt,"uUsingTexture",Jn),T("aTexture3d",kt,"aTexture",2,Ut),bt.bufferData(bt.ARRAY_BUFFER,new m(i),bt.STREAM_DRAW)),bt.drawArrays(r,0,e.length/3),bt.disable(bt.POLYGON_OFFSET_FILL)};ir.prototype.endShape=function(e){if(0!==Fi.length){var n=e===h.CLOSE;n&&Fi.push(Fi[0]);var i,r=[],o=[],s=[],a=[];Oi=!0;var l,u,c=Fi.length;for(l=0;c>l;l++)for(i=Fi[l],u=0;3>u;u++)r.push(i[u]);for(l=0;c>l;l++)for(i=Fi[l],u=5;9>u;u++)o.push(i[u]);for(l=0;c>l;l++)for(i=Fi[l],u=9;13>u;u++)s.push(i[u]);for(l=0;c>l;l++)i=Fi[l],a.push(i[3]),a.push(i[4]);if(!Li||Dn!==h.POLYGON&&Dn!==t)if(!Pi||Dn!==h.POLYGON&&Dn!==t)if(Dn===h.POINTS)for(l=0;c>l;l++)i=Fi[l],hn&&yt.stroke(i[6]),yt.point(i[0],i[1]);else if(Dn===h.LINES)for(l=0;c>l+1;l+=2)i=Fi[l],hn&&yt.stroke(Fi[l+1][6]),yt.line(i[0],i[1],Fi[l+1][0],Fi[l+1][1]);else if(Dn===h.TRIANGLES)for(l=0;c>l+2;l+=3)i=Fi[l],bt.beginPath(),bt.moveTo(i[0],i[1]),bt.lineTo(Fi[l+1][0],Fi[l+1][1]),bt.lineTo(Fi[l+2][0],Fi[l+2][1]),bt.lineTo(i[0],i[1]),an&&(yt.fill(Fi[l+2][5]),H()),hn&&(yt.stroke(Fi[l+2][6]),V()),bt.closePath();else if(Dn===h.TRIANGLE_STRIP)for(l=0;c>l+1;l++)i=Fi[l],bt.beginPath(),bt.moveTo(Fi[l+1][0],Fi[l+1][1]),bt.lineTo(i[0],i[1]),hn&&yt.stroke(Fi[l+1][6]),an&&yt.fill(Fi[l+1][5]),c>l+2&&(bt.lineTo(Fi[l+2][0],Fi[l+2][1]),hn&&yt.stroke(Fi[l+2][6]),an&&yt.fill(Fi[l+2][5])),U();else if(Dn===h.TRIANGLE_FAN){if(c>2)for(bt.beginPath(),bt.moveTo(Fi[0][0],Fi[0][1]),bt.lineTo(Fi[1][0],Fi[1][1]),bt.lineTo(Fi[2][0],Fi[2][1]),an&&(yt.fill(Fi[2][5]),H()),hn&&(yt.stroke(Fi[2][6]),V()),bt.closePath(),l=3;c>l;l++)i=Fi[l],bt.beginPath(),bt.moveTo(Fi[0][0],Fi[0][1]),bt.lineTo(Fi[l-1][0],Fi[l-1][1]),bt.lineTo(i[0],i[1]),an&&(yt.fill(i[5]),H()),hn&&(yt.stroke(i[6]),V()),bt.closePath()}else if(Dn===h.QUADS)for(l=0;c>l+3;l+=4){for(i=Fi[l],bt.beginPath(),bt.moveTo(i[0],i[1]),u=1;4>u;u++)bt.lineTo(Fi[l+u][0],Fi[l+u][1]);bt.lineTo(i[0],i[1]),an&&(yt.fill(Fi[l+3][5]),H()),hn&&(yt.stroke(Fi[l+3][6]),V()),bt.closePath()}else if(Dn===h.QUAD_STRIP){if(c>3)for(l=0;c>l+1;l+=2)i=Fi[l],bt.beginPath(),c>l+3?(bt.moveTo(Fi[l+2][0],Fi[l+2][1]),bt.lineTo(i[0],i[1]),bt.lineTo(Fi[l+1][0],Fi[l+1][1]),bt.lineTo(Fi[l+3][0],Fi[l+3][1]),an&&yt.fill(Fi[l+3][5]),hn&&yt.stroke(Fi[l+3][6])):(bt.moveTo(i[0],i[1]),bt.lineTo(Fi[l+1][0],Fi[l+1][1])),U()}else{for(bt.beginPath(),bt.moveTo(Fi[0][0],Fi[0][1]),l=1;c>l;l++)i=Fi[l],i.isVert&&(i.moveTo?bt.moveTo(i[0],i[1]):bt.lineTo(i[0],i[1]));U()}else{for(bt.beginPath(),l=0;c>l;l++)i=Fi[l],Fi[l].isVert?Fi[l].moveTo?bt.moveTo(i[0],i[1]):bt.lineTo(i[0],i[1]):bt.bezierCurveTo(Fi[l][0],Fi[l][1],Fi[l][2],Fi[l][3],Fi[l][4],Fi[l][5]);U()}else if(c>3){var d=[],p=1-Mn;for(bt.beginPath(),bt.moveTo(Fi[1][0],Fi[1][1]),l=1;c>l+2;l++)i=Fi[l],d[0]=[i[0],i[1]],d[1]=[i[0]+(p*Fi[l+1][0]-p*Fi[l-1][0])/6,i[1]+(p*Fi[l+1][1]-p*Fi[l-1][1])/6],d[2]=[Fi[l+1][0]+(p*Fi[l][0]-p*Fi[l+2][0])/6,Fi[l+1][1]+(p*Fi[l][1]-p*Fi[l+2][1])/6],d[3]=[Fi[l+1][0],Fi[l+1][1]],bt.bezierCurveTo(d[1][0],d[1][1],d[2][0],d[2][1],d[3][0],d[3][1]);U()}Li=!1,Pi=!1,Mi=[],Ri=0,n&&Fi.pop()}},rr.prototype.endShape=function(e){if(0!==Fi.length){var n,i=e===h.CLOSE,r=[],o=[],s=[],a=[],l=[];Oi=!0;var u,c,d,p=Fi.length;for(u=0;p>u;u++)for(n=Fi[u],c=0;3>c;c++)o.push(n[c]);for(u=0;p>u;u++)for(n=Fi[u],c=5;9>c;c++)s.push(n[c]);for(u=0;p>u;u++)for(n=Fi[u],c=9;13>c;c++)a.push(n[c]);for(u=0;p>u;u++)n=Fi[u],l.push(n[3]),l.push(n[4]);if(i){for(o.push(Fi[0][0]),o.push(Fi[0][1]),o.push(Fi[0][2]),u=5;9>u;u++)s.push(Fi[0][u]);for(u=9;13>u;u++)a.push(Fi[0][u]);l.push(Fi[0][3]),l.push(Fi[0][4])}if(!Li||Dn!==h.POLYGON&&Dn!==t)if(!Pi||Dn!==h.POLYGON&&Dn!==t){if(Dn===h.POINTS){for(u=0;p>u;u++)for(n=Fi[u],c=0;3>c;c++)r.push(n[c]);dr(r,a)}else if(Dn===h.LINES){for(u=0;p>u;u++)for(n=Fi[u],c=0;3>c;c++)r.push(n[c]);for(u=0;p>u;u++)for(n=Fi[u],c=5;9>c;c++)s.push(n[c]);pr(r,"LINES",a)}else if(Dn===h.TRIANGLES){if(p>2)for(u=0;p>u+2;u+=3){for(o=[],l=[],r=[],s=[],a=[],c=0;3>c;c++)for(d=0;3>d;d++)r.push(Fi[u+c][d]),o.push(Fi[u+c][d]);for(c=0;3>c;c++)for(d=3;5>d;d++)l.push(Fi[u+c][d]);for(c=0;3>c;c++)for(d=5;9>d;d++)s.push(Fi[u+c][d]),a.push(Fi[u+c][d+4]);hn&&pr(r,"LINE_LOOP",a),(an||Jn)&&fr(o,"TRIANGLES",s,l)}}else if(Dn===h.TRIANGLE_STRIP){if(p>2)for(u=0;p>u+2;u++){for(r=[],o=[],a=[],s=[],l=[],c=0;3>c;c++)for(d=0;3>d;d++)r.push(Fi[u+c][d]),o.push(Fi[u+c][d]);for(c=0;3>c;c++)for(d=3;5>d;d++)l.push(Fi[u+c][d]);for(c=0;3>c;c++)for(d=5;9>d;d++)a.push(Fi[u+c][d+4]),s.push(Fi[u+c][d]);(an||Jn)&&fr(o,"TRIANGLE_STRIP",s,l),hn&&pr(r,"LINE_LOOP",a)}}else if(Dn===h.TRIANGLE_FAN){if(p>2){for(u=0;3>u;u++)for(n=Fi[u],c=0;3>c;c++)r.push(n[c]);for(u=0;3>u;u++)for(n=Fi[u],c=9;13>c;c++)a.push(n[c]);for(hn&&pr(r,"LINE_LOOP",a),u=2;p>u+1;u++){for(r=[],a=[],r.push(Fi[0][0]),r.push(Fi[0][1]),r.push(Fi[0][2]),a.push(Fi[0][9]),a.push(Fi[0][10]),a.push(Fi[0][11]),a.push(Fi[0][12]),c=0;2>c;c++)for(d=0;3>d;d++)r.push(Fi[u+c][d]);for(c=0;2>c;c++)for(d=9;13>d;d++)a.push(Fi[u+c][d]);hn&&pr(r,"LINE_STRIP",a)}(an||Jn)&&fr(o,"TRIANGLE_FAN",s,l)}}else if(Dn===h.QUADS)for(u=0;p>u+3;u+=4){for(r=[],c=0;4>c;c++)for(n=Fi[u+c],d=0;3>d;d++)r.push(n[d]);if(hn&&pr(r,"LINE_LOOP",a),an){for(o=[],s=[],l=[],c=0;3>c;c++)o.push(Fi[u][c]);for(c=5;9>c;c++)s.push(Fi[u][c]);for(c=0;3>c;c++)o.push(Fi[u+1][c]);for(c=5;9>c;c++)s.push(Fi[u+1][c]);for(c=0;3>c;c++)o.push(Fi[u+3][c]);for(c=5;9>c;c++)s.push(Fi[u+3][c]);for(c=0;3>c;c++)o.push(Fi[u+2][c]);for(c=5;9>c;c++)s.push(Fi[u+2][c]);Jn&&(l.push(Fi[u+0][3]),l.push(Fi[u+0][4]),l.push(Fi[u+1][3]),l.push(Fi[u+1][4]),l.push(Fi[u+3][3]),l.push(Fi[u+3][4]),l.push(Fi[u+2][3]),l.push(Fi[u+2][4])),fr(o,"TRIANGLE_STRIP",s,l)}}else if(Dn===h.QUAD_STRIP){var f=[];if(p>3){for(u=0;2>u;u++)for(n=Fi[u],c=0;3>c;c++)r.push(n[c]);for(u=0;2>u;u++)for(n=Fi[u],c=9;13>c;c++)a.push(n[c]);for(pr(r,"LINE_STRIP",a),p>4&&p%2>0&&(f=o.splice(o.length-3),Fi.pop()),u=0;p>u+3;u+=2){for(r=[],a=[],c=0;3>c;c++)r.push(Fi[u+1][c]);for(c=0;3>c;c++)r.push(Fi[u+3][c]);for(c=0;3>c;c++)r.push(Fi[u+2][c]);for(c=0;3>c;c++)r.push(Fi[u+0][c]);for(c=9;13>c;c++)a.push(Fi[u+1][c]);for(c=9;13>c;c++)a.push(Fi[u+3][c]);for(c=9;13>c;c++)a.push(Fi[u+2][c]);for(c=9;13>c;c++)a.push(Fi[u+0][c]);hn&&pr(r,"LINE_STRIP",a)}(an||Jn)&&fr(o,"TRIANGLE_LIST",s,l)}}else if(1===p){for(c=0;3>c;c++)r.push(Fi[0][c]);for(c=9;13>c;c++)a.push(Fi[0][c]);dr(r,a)}else{for(u=0;p>u;u++){for(n=Fi[u],c=0;3>c;c++)r.push(n[c]);for(c=5;9>c;c++)a.push(n[c])}hn&&i?pr(r,"LINE_LOOP",a):hn&&!i&&pr(r,"LINE_STRIP",a),(an||Jn)&&fr(o,"TRIANGLE_FAN",s,l)}Jn=!1,bt.useProgram(kt),E("usingTexture3d",kt,"uUsingTexture",Jn)}else r=o,r.splice(r.length-3),a.splice(a.length-4),hn&&pr(r,null,a),an&&fr(o,"TRIANGLES",s);else r=o,hn&&pr(r,null,a),an&&fr(o,null,s);Li=!1,Pi=!1,Mi=[],Ri=0}};var gr=function(e,t){var n=1/e,i=n*n,r=i*n;t.set(0,0,0,1,r,i,n,0,6*r,2*i,0,0,6*r,0,0,0)},mr=function(){_t||(At=new lr,_t=new lr,Ln=!0);var e=Mn;At.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),gr(Rn,_t),$t||(St=new lr),St.set(At),St.preApply($t),_t.apply(At)};ir.prototype.bezierVertex=function(){Pi=!0;var e=[];if(Oi)throw"vertex() must be used at least once before calling bezierVertex()";for(var t=0;t<arguments.length;t++)e[t]=arguments[t];Fi.push(e),Fi[Fi.length-1].isVert=!1},rr.prototype.bezierVertex=function(){if(Pi=!0,Oi)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){Et===t&&(Et=new lr);var e=Fi.length-1;gr(On,Et),Et.apply(Tt);for(var n=Et.array(),i=Fi[e][0],r=Fi[e][1],o=Fi[e][2],s=n[4]*i+n[5]*arguments[0]+n[6]*arguments[3]+n[7]*arguments[6],a=n[8]*i+n[9]*arguments[0]+n[10]*arguments[3]+n[11]*arguments[6],l=n[12]*i+n[13]*arguments[0]+n[14]*arguments[3]+n[15]*arguments[6],u=n[4]*r+n[5]*arguments[1]+n[6]*arguments[4]+n[7]*arguments[7],c=n[8]*r+n[9]*arguments[1]+n[10]*arguments[4]+n[11]*arguments[7],h=n[12]*r+n[13]*arguments[1]+n[14]*arguments[4]+n[15]*arguments[7],d=n[4]*o+n[5]*arguments[2]+n[6]*arguments[5]+n[7]*arguments[8],p=n[8]*o+n[9]*arguments[2]+n[10]*arguments[5]+n[11]*arguments[8],f=n[12]*o+n[13]*arguments[2]+n[14]*arguments[5]+n[15]*arguments[8],g=0;On>g;g++)i+=s,s+=a,a+=l,r+=u,u+=c,c+=h,o+=d,d+=p,p+=f,yt.vertex(i,r,o);yt.vertex(arguments[6],arguments[7],arguments[8])}},yt.texture=function(e){var t=Ct.$ensureContext();if(e.__texture)t.bindTexture(t.TEXTURE_2D,e.__texture);else if("canvas"===e.localName)t.bindTexture(t.TEXTURE_2D,zt),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.generateMipmap(t.TEXTURE_2D),Xn.width=e.width,Xn.height=e.height;else{var n,i=t.createTexture(),r=u.createElement("canvas"),o=r.getContext("2d");if(e.width&0===e.width-1)r.width=e.width;else{for(n=1;n<e.width;)n*=2;r.width=n}if(e.height&0===e.height-1)r.height=e.height;else{for(n=1;n<e.height;)n*=2;r.height=n}o.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,r.width,r.height),t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.generateMipmap(t.TEXTURE_2D),e.__texture=i,Xn.width=e.width,Xn.height=e.height}Jn=!0,t.useProgram(kt),E("usingTexture3d",kt,"uUsingTexture",Jn)},yt.textureMode=function(e){Zn=e};var vr=function(e,t,n,i,r,o,s,a,l,u,c,h){var d=i,p=r,f=o,g=_t.array(),m=g[4]*e+g[5]*i+g[6]*s+g[7]*u,v=g[8]*e+g[9]*i+g[10]*s+g[11]*u,y=g[12]*e+g[13]*i+g[14]*s+g[15]*u,b=g[4]*t+g[5]*r+g[6]*a+g[7]*c,w=g[8]*t+g[9]*r+g[10]*a+g[11]*c,C=g[12]*t+g[13]*r+g[14]*a+g[15]*c,x=g[4]*n+g[5]*o+g[6]*l+g[7]*h,A=g[8]*n+g[9]*o+g[10]*l+g[11]*h,S=g[12]*n+g[13]*o+g[14]*l+g[15]*h;yt.vertex(d,p,f);for(var _=0;Rn>_;_++)d+=m,m+=v,v+=y,p+=b,b+=w,w+=C,f+=x,x+=A,A+=S,yt.vertex(d,p,f)};ir.prototype.curveVertex=function(e,t){Li=!0,yt.vertex(e,t)},rr.prototype.curveVertex=function(e,t,n){Li=!0,Ln||mr();var i=[];i[0]=e,i[1]=t,i[2]=n,Mi.push(i),Ri++,Ri>3&&vr(Mi[Ri-4][0],Mi[Ri-4][1],Mi[Ri-4][2],Mi[Ri-3][0],Mi[Ri-3][1],Mi[Ri-3][2],Mi[Ri-2][0],Mi[Ri-2][1],Mi[Ri-2][2],Mi[Ri-1][0],Mi[Ri-1][1],Mi[Ri-1][2])},ir.prototype.curve=function(e,t,n,i,r,o,s,a){yt.beginShape(),yt.curveVertex(e,t),yt.curveVertex(n,i),yt.curveVertex(r,o),yt.curveVertex(s,a),yt.endShape()},rr.prototype.curve=function(e,n,i,r,o,s,a,l,u,c,h,d){return d!==t?(yt.beginShape(),yt.curveVertex(e,n,i),yt.curveVertex(r,o,s),yt.curveVertex(a,l,u),yt.curveVertex(c,h,d),yt.endShape(),void 0):(yt.beginShape(),yt.curveVertex(e,n),yt.curveVertex(i,r),yt.curveVertex(o,s),yt.curveVertex(a,l),yt.endShape(),void 0)},yt.curveTightness=function(e){Mn=e},yt.curveDetail=function(e){Rn=e,mr()},yt.rectMode=function(e){wn=e},yt.imageMode=function(e){switch(e){case h.CORNER:Qi=Ji;break;case h.CORNERS:Qi=er;break;case h.CENTER:Qi=tr;break;default:throw"Invalid imageMode"}},yt.ellipseMode=function(e){Cn=e},yt.arc=function(e,t,n,i,r,o){if(!(0>=n||r>o)){for(Cn===h.CORNERS?(n-=e,i-=t):Cn===h.RADIUS?(e-=n,t-=i,n=2*n,i=2*i):Cn===h.CENTER&&(e-=n/2,t-=i/2);0>r;)r+=h.TWO_PI,o+=h.TWO_PI;o-r>h.TWO_PI&&(r=0,o=h.TWO_PI);var s=n/2,a=i/2,l=e+s,u=t+a,c=1/(s+a),d=function(e,t,n,i,r){return function(o,l,u,c,d){for(u=0,c=n,d=r+i,o.beginShape(),l&&o.vertex(e-.5,t-.5);d>c;u++,c=u*i+n)o.vertex(0|e+Math.cos(c)*s,0|t+Math.sin(c)*a);o.endShape(l?h.CLOSE:void 0)}}(l+.5,u+.5,r,c,o);if(an){var p=hn;hn=!1,d(yt,!0),hn=p}if(hn){var f=an;an=!1,d(yt),an=f}}},ir.prototype.line=function(e,n,i,r){if(hn){if(vn||(e=Math.round(e),i=Math.round(i),n=Math.round(n),r=Math.round(r)),e===i&&n===r)return yt.point(e,n),void 0;for(var o=t,s=t,a=!0,l=en.array(),u=[1,0,0,0,1,0],c=0;6>c&&a;c++)a=l[c]===u[c];a&&(e===i?(n>r&&(o=n,n=r,r=o),r++,1===gn%2&&bt.translate(.5,0)):n===r&&(e>i&&(o=e,e=i,i=o),i++,1===gn%2&&bt.translate(0,.5)),1===gn&&(s=bt.lineCap,bt.lineCap="butt")),bt.beginPath(),bt.moveTo(e||0,n||0),bt.lineTo(i||0,r||0),V(),a&&(e===i&&1===gn%2?bt.translate(-.5,0):n===r&&1===gn%2&&bt.translate(0,-.5),1===gn&&(bt.lineCap=s))}},rr.prototype.line=function(e,n,i,r,o,s){if((o===t||s===t)&&(s=0,o=r,r=i,i=0),e===r&&n===o&&i===s)return yt.point(e,n,i),void 0;var a=[e,n,i,r,o,s],l=new lr;l.scale(1,-1,1),l.apply(en.array()),l.transpose(),gn>0&&hn&&(bt.useProgram(Dt),$("uModel2d",Dt,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),$("uView2d",Dt,"uView",!1,l.array()),_("uColor2d",Dt,"uColor",dn),E("uIsDrawingText",Dt,"uIsDrawingText",!1),T("aVertex2d",Dt,"aVertex",3,Bt),k("aTextureCoord2d",Dt,"aTextureCoord"),bt.bufferData(bt.ARRAY_BUFFER,new m(a),bt.STREAM_DRAW),bt.drawArrays(bt.LINES,0,2))},ir.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";yt.beginShape(),yt.vertex(arguments[0],arguments[1]),yt.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),yt.endShape()},rr.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";yt.beginShape(),yt.vertex(arguments[0],arguments[1],arguments[2]),yt.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),yt.endShape()},yt.bezierDetail=function(e){On=e},yt.bezierPoint=function(e,t,n,i,r){return(1-r)*(1-r)*(1-r)*e+3*(1-r)*(1-r)*r*t+3*(1-r)*r*r*n+r*r*r*i},yt.bezierTangent=function(e,t,n,i,r){return 3*r*r*(-e+3*t-3*n+i)+6*r*(e-2*t+n)+3*(-e+t)},yt.curvePoint=function(e,t,n,i,r){return.5*(2*t+(-e+n)*r+(2*e-5*t+4*n-i)*r*r+(-e+3*t-3*n+i)*r*r*r)},yt.curveTangent=function(e,t,n,i,r){return.5*(-e+n+2*(2*e-5*t+4*n-i)*r+3*(-e+3*t-3*n+i)*r*r)},yt.triangle=function(e,t,n,i,r,o){yt.beginShape(h.TRIANGLES),yt.vertex(e,t,0),yt.vertex(n,i,0),yt.vertex(r,o,0),yt.endShape()},yt.quad=function(e,t,n,i,r,o,s,a){yt.beginShape(h.QUADS),yt.vertex(e,t,0),yt.vertex(n,i,0),yt.vertex(r,o,0),yt.vertex(s,a,0),yt.endShape()};var yr=function(e,n,i,r,o,s,a,l){l===t&&(s=o,a=o,l=o);var u=i/2,c=r/2;(o>u||o>c)&&(o=Math.min(u,c)),(s>u||s>c)&&(s=Math.min(u,c)),(a>u||a>c)&&(a=Math.min(u,c)),(l>u||l>c)&&(l=Math.min(u,c)),(!an||hn)&&bt.translate(.5,.5),bt.beginPath(),bt.moveTo(e+o,n),bt.lineTo(e+i-s,n),bt.quadraticCurveTo(e+i,n,e+i,n+s),bt.lineTo(e+i,n+r-a),bt.quadraticCurveTo(e+i,n+r,e+i-a,n+r),bt.lineTo(e+l,n+r),bt.quadraticCurveTo(e,n+r,e,n+r-l),bt.lineTo(e,n+o),bt.quadraticCurveTo(e,n,e+o,n),(!an||hn)&&bt.translate(-.5,-.5),H(),V()};ir.prototype.rect=function(e,n,i,r,o,s,a,l){if(i||r){if(wn===h.CORNERS?(i-=e,r-=n):wn===h.RADIUS?(i*=2,r*=2,e-=i/2,n-=r/2):wn===h.CENTER&&(e-=i/2,n-=r/2),vn||(e=Math.round(e),n=Math.round(n),i=Math.round(i),r=Math.round(r)),o!==t)return yr(e,n,i,r,o,s,a,l),void 0;hn&&1===gn%2&&bt.translate(.5,.5),bt.beginPath(),bt.rect(e,n,i,r),H(),V(),hn&&1===gn%2&&bt.translate(-.5,-.5)}},rr.prototype.rect=function(e,n,i,r,o){if(o!==t)throw"rect() with rounded corners is not supported in 3D mode";wn===h.CORNERS?(i-=e,r-=n):wn===h.RADIUS?(i*=2,r*=2,e-=i/2,n-=r/2):wn===h.CENTER&&(e-=i/2,n-=r/2);var s=new lr;s.translate(e,n,0),s.scale(i,r,1),s.transpose();var a=new lr;if(a.scale(1,-1,1),a.apply(en.array()),a.transpose(),gn>0&&hn&&(bt.useProgram(Dt),$("uModel2d",Dt,"uModel",!1,s.array()),$("uView2d",Dt,"uView",!1,a.array()),_("uColor2d",Dt,"uColor",dn),E("uIsDrawingText2d",Dt,"uIsDrawingText",!1),T("aVertex2d",Dt,"aVertex",3,Pt),k("aTextureCoord2d",Dt,"aTextureCoord"),bt.drawArrays(bt.LINE_LOOP,0,Vi.length/3)),an){if(bt.useProgram(kt),$("uModel3d",kt,"uModel",!1,s.array()),$("uView3d",kt,"uView",!1,a.array()),bt.enable(bt.POLYGON_OFFSET_FILL),bt.polygonOffset(1,1),_("color3d",kt,"uColor",ln),fi>0){var l=new lr;l.set(a);var u=new lr;u.set(s),l.mult(u);var c=new lr;c.set(l),c.invert(),c.transpose(),$("uNormalTransform3d",kt,"uNormalTransform",!1,c.array()),T("aNormal3d",kt,"aNormal",3,Ot)}else k("normal3d",kt,"aNormal");T("vertex3d",kt,"aVertex",3,Pt),bt.drawArrays(bt.TRIANGLE_FAN,0,Vi.length/3),bt.disable(bt.POLYGON_OFFSET_FILL)}},ir.prototype.ellipse=function(e,t,n,i){if(e=e||0,t=t||0,!(0>=n&&0>=i))if(Cn===h.RADIUS?(n*=2,i*=2):Cn===h.CORNERS?(n-=e,i-=t,e+=n/2,t+=i/2):Cn===h.CORNER&&(e+=n/2,t+=i/2),n===i)bt.beginPath(),bt.arc(e,t,n/2,0,h.TWO_PI,!1),H(),V();else{var r=n/2,o=i/2,s=.5522847498307933,a=s*r,l=s*o;yt.beginShape(),yt.vertex(e+r,t),yt.bezierVertex(e+r,t-l,e+a,t-o,e,t-o),yt.bezierVertex(e-a,t-o,e-r,t-l,e-r,t),yt.bezierVertex(e-r,t+l,e-a,t+o,e,t+o),yt.bezierVertex(e+a,t+o,e+r,t+l,e+r,t),yt.endShape()}},rr.prototype.ellipse=function(e,t,n,i){if(e=e||0,t=t||0,!(0>=n&&0>=i)){Cn===h.RADIUS?(n*=2,i*=2):Cn===h.CORNERS?(n-=e,i-=t,e+=n/2,t+=i/2):Cn===h.CORNER&&(e+=n/2,t+=i/2);var r=n/2,o=i/2,s=.5522847498307933,a=s*r,l=s*o;if(yt.beginShape(),yt.vertex(e+r,t),yt.bezierVertex(e+r,t-l,0,e+a,t-o,0,e,t-o,0),yt.bezierVertex(e-a,t-o,0,e-r,t-l,0,e-r,t,0),yt.bezierVertex(e-r,t+l,0,e-a,t+o,0,e,t+o,0),yt.bezierVertex(e+a,t+o,0,e+r,t+l,0,e+r,t,0),yt.endShape(),an){var u,c,d=0,p=0;for(u=0;u<Fi.length;u++)d+=Fi[u][0],p+=Fi[u][1];d/=Fi.length,p/=Fi.length;var f=[],g=[],m=[];for(f[0]=d,f[1]=p,f[2]=0,f[3]=0,f[4]=0,f[5]=ln[0],f[6]=ln[1],f[7]=ln[2],f[8]=ln[3],f[9]=dn[0],f[10]=dn[1],f[11]=dn[2],f[12]=dn[3],f[13]=xn,f[14]=An,f[15]=Sn,Fi.unshift(f),u=0;u<Fi.length;u++){for(c=0;3>c;c++)g.push(Fi[u][c]);for(c=5;9>c;c++)m.push(Fi[u][c])}fr(g,"TRIANGLE_FAN",m)}}},yt.normal=function(e,t,n){if(3!==arguments.length||"number"!=typeof e||"number"!=typeof t||"number"!=typeof n)throw"normal() requires three numeric arguments.";xn=e,An=t,Sn=n,0!==Dn&&(_n===h.NORMAL_MODE_AUTO?_n=h.NORMAL_MODE_SHAPE:_n===h.NORMAL_MODE_SHAPE&&(_n=h.NORMAL_MODE_VERTEX))},yt.save=function(e,n){return n!==t?l.open(n.toDataURL(),"_blank"):l.open(yt.externals.canvas.toDataURL(),"_blank")};var br=0;yt.saveFrame=function(e){e===t&&(e="screen-####.png");var n=e.replace(/#+/,function(e){for(var t=""+br++;t.length<e.length;)t="0"+t;return t});yt.save(n)};var wr=u.createElement("canvas").getContext("2d"),Cr=[t,t,t],xr=function(e,t,n){if(this.__isDirty=!1,e instanceof f)this.fromHTMLImageData(e);else if(t||n){this.width=e||1,this.height=t||1;var i=this.sourceImg=u.createElement("canvas");if(i.width=this.width,i.height=this.height,this.imageData=i.getContext("2d").createImageData(this.width,this.height),this.format=n===h.ARGB||n===h.ALPHA?n:h.RGB,this.format===h.RGB)for(var r=3,o=this.imageData.data,s=o.length;s>r;r+=4)o[r]=255;this.__isDirty=!0,this.updatePixels()}else this.width=0,this.height=0,this.imageData=wr.createImageData(1,1),this.format=h.ARGB;this.pixels=W(this)};xr.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof p&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var t=z(e);try{var n=t.context.getImageData(0,0,e.width,e.height);this.fromImageData(n)}catch(i){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,t,n,i){return arguments.length?2===arguments.length?yt.get(e,t,this):4===arguments.length?yt.get(e,t,n,i,this):void 0:yt.get(this)},set:function(e,t,n){yt.set(e,t,n,this),this.__isDirty=!0},blend:function(e,t,n,i,r,o,s,a,l,u){9===arguments.length?yt.blend(this,e,t,n,i,r,o,s,a,l,this):10===arguments.length&&yt.blend(e,t,n,i,r,o,s,a,l,u,this),delete this.sourceImg},copy:function(e,t,n,i,r,o,s,a,l){8===arguments.length?yt.blend(this,e,t,n,i,r,o,s,a,h.REPLACE,this):9===arguments.length&&yt.blend(e,t,n,i,r,o,s,a,l,h.REPLACE,this),delete this.sourceImg},filter:function(e,t){2===arguments.length?yt.filter(e,t,this):1===arguments.length&&yt.filter(e,null,this),delete this.sourceImg},save:function(e){yt.save(e,this)},resize:function(e,t){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===e&&0!==t?e=Math.floor(this.width/this.height*t):0===t&&0!==e&&(t=Math.floor(this.height/this.width*e));var n=z(this.imageData).canvas,i=z(n,e,t).context.getImageData(0,0,e,t);this.fromImageData(i)}},mask:function(e){var t,n,i=this.toImageData();if(e instanceof xr||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";for(e=e.toImageData(),t=2,n=4*this.width*this.height;n>t;t+=4)i.data[t+1]=e.data[t]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(t=0,n=e.length;n>t;++t)i.data[4*t+3]=e[t]}this.fromImageData(i)},loadPixels:c,toImageData:function(){if(this.isRemote)return this.sourceImg;if(!this.__isDirty)return this.imageData;var e=z(this.sourceImg);return e.context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";var e=z(this.imageData);return e.canvas.toDataURL()},fromImageData:function(e){var t=e.width,n=e.height,i=u.createElement("canvas"),r=i.getContext("2d");this.width=i.width=t,this.height=i.height=n,r.putImageData(e,0,0),this.format=h.ARGB,this.imageData=e,this.sourceImg=i}},yt.PImage=xr,yt.createImage=function(e,t,n){return new xr(e,t,n)},yt.loadImage=function(e,t,n){var i;if(wt.imageCache.images[e])return i=new xr(wt.imageCache.images[e]),i.loaded=!0,i;i=new xr;var r=u.createElement("img");return i.sourceImg=r,r.onload=function(e,t,n){var i=e,r=t,o=n;return function(){r.fromHTMLImageData(i),r.loaded=!0,o&&o()}}(r,i,n),r.src=e,i},yt.requestImage=yt.loadImage,yt.get=function(e,t,n,i,r){return void 0!==r?Y(e,t,n,i,r):void 0!==i?K(e,t,n,i):void 0!==n?q(e,t,n):void 0!==t?j(e,t):void 0!==e?Y(0,0,e.width,e.height,e):K(0,0,yt.width,yt.height)},yt.createGraphics=function(e,t,n){var i=new S;return i.size(e,t,n),i.background(0,0),i},yt.set=function(e,t,n,i){3===arguments.length?"number"==typeof n?Q(e,t,n):(n instanceof xr||n.__isPImage)&&yt.image(n,e,t):4===arguments.length&&et(e,t,n,i)},yt.imageData={},yt.pixels={getLength:function(){return yt.imageData.data.length?yt.imageData.data.length/4:0},getPixel:function(e){var t=4*e,n=yt.imageData.data;return 4278190080&n[t+3]<<24|16711680&n[t+0]<<16|65280&n[t+1]<<8|255&n[t+2]},setPixel:function(e,t){var n=4*e,i=yt.imageData.data;
i[n+0]=(16711680&t)>>>16,i[n+1]=(65280&t)>>>8,i[n+2]=255&t,i[n+3]=(4278190080&t)>>>24},toArray:function(){for(var e=[],t=yt.imageData.width*yt.imageData.height,n=yt.imageData.data,i=0,r=0;t>i;i++,r+=4)e.push(4278190080&n[r+3]<<24|16711680&n[r+0]<<16|65280&n[r+1]<<8|255&n[r+2]);return e},set:function(e){for(var t=0,n=e.length;n>t;t++)this.setPixel(t,e[t])}},yt.loadPixels=function(){yt.imageData=Ct.$ensureContext().getImageData(0,0,yt.width,yt.height)},yt.updatePixels=function(){yt.imageData&&Ct.$ensureContext().putImageData(yt.imageData,0,0)},yt.hint=function(e){var t=Ct.$ensureContext();e===h.DISABLE_DEPTH_TEST?(t.disable(t.DEPTH_TEST),t.depthMask(!1),t.clear(t.DEPTH_BUFFER_BIT)):e===h.ENABLE_DEPTH_TEST?(t.enable(t.DEPTH_TEST),t.depthMask(!0)):e===h.ENABLE_OPENGL_2X_SMOOTH||e===h.ENABLE_OPENGL_4X_SMOOTH?vn=!0:e===h.DISABLE_OPENGL_2X_SMOOTH&&(vn=!1)};var Ar=function(e,t,n,i){var r;if(e instanceof xr||e.__isPImage){if(r=e,!r.loaded)throw"Error using image in background(): PImage not loaded.";if(r.width!==yt.width||r.height!==yt.height)throw"Background image must be the same dimensions as the canvas."}else r=yt.color(e,t,n,i);Pn=r};ir.prototype.background=function(e,n,i,r){e!==t&&Ar(e,n,i,r),Pn instanceof xr||Pn.__isPImage?(L(),bt.setTransform(1,0,0,1,0,0),yt.image(Pn,0,0),P()):(L(),bt.setTransform(1,0,0,1,0,0),yt.alpha(Pn)!==In&&bt.clearRect(0,0,yt.width,yt.height),bt.fillStyle=yt.color.toString(Pn),bt.fillRect(0,0,yt.width,yt.height),cn=!0,P())},rr.prototype.background=function(e,t,n,i){arguments.length>0&&Ar(e,t,n,i);var r=yt.color.toGLArray(Pn);bt.clearColor(r[0],r[1],r[2],r[3]),bt.clear(bt.COLOR_BUFFER_BIT|bt.DEPTH_BUFFER_BIT)},ir.prototype.image=function(e,t,n,i,r){if(t=Math.round(t),n=Math.round(n),e.width>0){i||e.width,r||e.height;var o=Qi(t||0,n||0,i||e.width,r||e.height,arguments.length<4),s=!!e.sourceImg&&null===zn;if(s){var a=e.sourceImg;e.__isDirty&&e.updatePixels(),bt.drawImage(a,0,0,a.width,a.height,o.x,o.y,o.w,o.h)}else{var l=e.toImageData();null!==zn&&(zn(l),e.__isDirty=!0),bt.drawImage(z(l).canvas,0,0,e.width,e.height,o.x,o.y,o.w,o.h)}}},rr.prototype.image=function(e,t,n,i,r){e.width>0&&(t=Math.round(t),n=Math.round(n),i=i||e.width,r=r||e.height,yt.beginShape(yt.QUADS),yt.texture(e),yt.vertex(t,n,0,0,0),yt.vertex(t,n+r,0,0,r),yt.vertex(t+i,n+r,0,i,r),yt.vertex(t+i,n,0,i,0),yt.endShape())},yt.tint=function(e,t,n,i){var r=yt.color(e,t,n,i),o=yt.red(r)/Bn,s=yt.green(r)/Nn,a=yt.blue(r)/Gn,l=yt.alpha(r)/In;zn=function(e){for(var t=e.data,n=4*e.width*e.height,i=0;n>i;)t[i++]*=o,t[i++]*=s,t[i++]*=a,t[i++]*=l},Wn=function(e){for(var t=0;t<e.length;)e[t++]=o,e[t++]=s,e[t++]=a,e[t++]=l}},yt.noTint=function(){zn=null,Wn=null},yt.copy=function(e,n,i,r,o,s,a,l,u){u===t&&(u=l,l=a,a=s,s=o,o=r,r=i,i=n,n=e,e=yt),yt.blend(e,n,i,r,o,s,a,l,u,h.REPLACE)},yt.blend=function(e,n,i,r,o,s,a,l,u,c,h){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";c===t&&(c=u,u=l,l=a,a=s,s=o,o=r,r=i,i=n,n=e,e=yt);var d=n+r,p=i+o,f=s+l,g=a+u,m=h||yt;(h===t||c===t)&&yt.loadPixels(),e.loadPixels(),e===yt&&yt.intersect(n,i,d,p,s,a,f,g)?yt.blit_resize(yt.get(n,i,d-n,p-i),0,0,d-n-1,p-i-1,m.imageData.data,m.width,m.height,s,a,f,g,c):yt.blit_resize(e,n,i,d,p,m.imageData.data,m.width,m.height,s,a,f,g,c),h===t&&yt.updatePixels()};var Sr=function(e){var t,n=yt.floor(3.5*e);if(n=1>n?1:248>n?n:248,yt.shared.blurRadius!==n){yt.shared.blurRadius=n,yt.shared.blurKernelSize=1+(yt.shared.blurRadius<<1),yt.shared.blurKernel=new m(yt.shared.blurKernelSize);var i=yt.shared.blurKernel,r=yt.shared.blurKernelSize;for(yt.shared.blurRadius,t=0;r>t;t++)i[t]=0;var o=(n-1)*(n-1);for(t=1;n>t;t++)i[n+t]=i[n-t]=o;i[n]=n*n}},_r=function(e,t){var n,i,r,o,s,a,l,u,c,h,d,p,f,g,v,y=t.pixels.getLength(),b=new m(y),w=new m(y),C=new m(y),x=new m(y),A=0;Sr(e);var S=t.height,_=t.width,E=yt.shared.blurKernelSize,$=yt.shared.blurRadius,T=yt.shared.blurKernel,k=t.imageData.data;for(f=0;S>f;f++){for(p=0;_>p;p++){if(o=r=i=s=n=0,l=p-$,0>l)d=-l,l=0;else{if(l>=_)break;d=0}for(g=d;E>g&&!(l>=_);g++)v=4*(l+A),a=T[g],s+=a*k[v+3],i+=a*k[v],r+=a*k[v+1],o+=a*k[v+2],n+=a,l++;u=A+p,x[u]=s/n,b[u]=i/n,w[u]=r/n,C[u]=o/n}A+=_}for(A=0,c=-$,h=c*_,f=0;S>f;f++){for(p=0;_>p;p++){if(o=r=i=s=n=0,0>c)d=u=-c,l=p;else{if(c>=S)break;d=0,u=c,l=p+h}for(g=d;E>g&&!(u>=S);g++)a=T[g],s+=a*x[l],i+=a*b[l],r+=a*w[l],o+=a*C[l],n+=a,u++,l+=_;v=4*(p+A),k[v]=i/n,k[v+1]=r/n,k[v+2]=o/n,k[v+3]=s/n}A+=_,h+=_,c++}},Er=function(e,t){var n,i,r,o,s,a,l,u,c,h,d,p,f,g,m,y,b,w=0,C=t.pixels.getLength(),x=new v(C);if(e)for(;C>w;)for(n=w,i=w+t.width;i>w;)r=o=t.pixels.getPixel(w),l=w-1,a=w+1,u=w-t.width,c=w+t.width,n>l&&(l=w),a>=i&&(a=w),0>u&&(u=0),c>=C&&(c=w),p=t.pixels.getPixel(u),d=t.pixels.getPixel(l),f=t.pixels.getPixel(c),h=t.pixels.getPixel(a),s=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),m=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),g=77*(255&h>>16)+151*(255&h>>8)+28*(255&h),y=77*(255&p>>16)+151*(255&p>>8)+28*(255&p),b=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),s>m&&(o=d,s=m),s>g&&(o=h,s=g),s>y&&(o=p,s=y),s>b&&(o=f,s=b),x[w++]=o;else for(;C>w;)for(n=w,i=w+t.width;i>w;)r=o=t.pixels.getPixel(w),l=w-1,a=w+1,u=w-t.width,c=w+t.width,n>l&&(l=w),a>=i&&(a=w),0>u&&(u=0),c>=C&&(c=w),p=t.pixels.getPixel(u),d=t.pixels.getPixel(l),f=t.pixels.getPixel(c),h=t.pixels.getPixel(a),s=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),m=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),g=77*(255&h>>16)+151*(255&h>>8)+28*(255&h),y=77*(255&p>>16)+151*(255&p>>8)+28*(255&p),b=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),m>s&&(o=d,s=m),g>s&&(o=h,s=g),y>s&&(o=p,s=y),b>s&&(o=f,s=b),x[w++]=o;t.pixels.set(x)};yt.filter=function(e,n,i){var r,o,s,a;if(3===arguments.length?(i.loadPixels(),r=i):(yt.loadPixels(),r=yt),n===t&&(n=null),r.isRemote)throw"Image is loaded remotely. Cannot filter image.";var l=r.pixels.getLength();switch(e){case h.BLUR:var u=n||1;_r(u,r);break;case h.GRAY:if(r.format===h.ALPHA){for(a=0;l>a;a++)o=255-r.pixels.getPixel(a),r.pixels.setPixel(a,4278190080|o<<16|o<<8|o);r.format=h.RGB}else for(a=0;l>a;a++)o=r.pixels.getPixel(a),s=77*(255&o>>16)+151*(255&o>>8)+28*(255&o)>>8,r.pixels.setPixel(a,o&h.ALPHA_MASK|s<<16|s<<8|s);break;case h.INVERT:for(a=0;l>a;a++)r.pixels.setPixel(a,16777215^r.pixels.getPixel(a));break;case h.POSTERIZE:if(null===n)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";var c=yt.floor(n);if(2>c||c>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";var d=c-1;for(a=0;l>a;a++){var p=255&r.pixels.getPixel(a)>>16,f=255&r.pixels.getPixel(a)>>8,g=255&r.pixels.getPixel(a);p=255*(p*c>>8)/d,f=255*(f*c>>8)/d,g=255*(g*c>>8)/d,r.pixels.setPixel(a,4278190080&r.pixels.getPixel(a)|p<<16|f<<8|g)}break;case h.OPAQUE:for(a=0;l>a;a++)r.pixels.setPixel(a,4278190080|r.pixels.getPixel(a));r.format=h.RGB;break;case h.THRESHOLD:if(null===n&&(n=.5),0>n||n>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";var m=yt.floor(255*n);for(a=0;l>a;a++){var v=yt.max((r.pixels.getPixel(a)&h.RED_MASK)>>16,yt.max((r.pixels.getPixel(a)&h.GREEN_MASK)>>8,r.pixels.getPixel(a)&h.BLUE_MASK));r.pixels.setPixel(a,r.pixels.getPixel(a)&h.ALPHA_MASK|(m>v?0:16777215))}break;case h.ERODE:Er(!0,r);break;case h.DILATE:Er(!1,r)}r.updatePixels()},yt.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},yt.intersect=function(e,t,n,i,r,o,s,a){var l=n-e+1,u=i-t+1,c=s-r+1,h=a-o+1;if(e>r)c+=r-e,c>l&&(c=l);else{var d=l+e-r;c>d&&(c=d)}if(t>o)h+=o-t,h>u&&(h=u);else{var p=u+t-o;h>p&&(h=p)}return!(0>=c||0>=h)};var $r={};if($r[h.BLEND]=yt.modes.blend,$r[h.ADD]=yt.modes.add,$r[h.SUBTRACT]=yt.modes.subtract,$r[h.LIGHTEST]=yt.modes.lightest,$r[h.DARKEST]=yt.modes.darkest,$r[h.REPLACE]=yt.modes.replace,$r[h.DIFFERENCE]=yt.modes.difference,$r[h.EXCLUSION]=yt.modes.exclusion,$r[h.MULTIPLY]=yt.modes.multiply,$r[h.SCREEN]=yt.modes.screen,$r[h.OVERLAY]=yt.modes.overlay,$r[h.HARD_LIGHT]=yt.modes.hard_light,$r[h.SOFT_LIGHT]=yt.modes.soft_light,$r[h.DODGE]=yt.modes.dodge,$r[h.BURN]=yt.modes.burn,yt.blit_resize=function(e,t,n,i,r,o,s,a,l,u,c,d,p){var f,g;0>t&&(t=0),0>n&&(n=0),i>=e.width&&(i=e.width-1),r>=e.height&&(r=e.height-1);var m=i-t,v=r-n,y=c-l,b=d-u;if(!(0>=y||0>=b||0>=m||0>=v||l>=s||u>=a||t>=e.width||n>=e.height)){var w=Math.floor(m/y*h.PRECISIONF),C=Math.floor(v/b*h.PRECISIONF),x=yt.shared;x.srcXOffset=Math.floor(0>l?-l*w:t*h.PRECISIONF),x.srcYOffset=Math.floor(0>u?-u*C:n*h.PRECISIONF),0>l&&(y+=l,l=0),0>u&&(b+=u,u=0),y=Math.min(y,s-l),b=Math.min(b,a-u);var A,S=u*s+l;x.srcBuffer=e.imageData.data,x.iw=e.width,x.iw1=e.width-1,x.ih1=e.height-1;var _,E,$,T,k,D,F=(yt.filter_bilinear,yt.filter_new_scanline,$r[p]),M=h.ALPHA_MASK,R=h.RED_MASK,L=h.GREEN_MASK,P=h.BLUE_MASK,O=h.PREC_MAXVAL,I=h.PRECISIONB,B=h.PREC_RED_SHIFT,N=h.PREC_ALPHA_SHIFT,G=x.srcBuffer,H=Math.min;for(g=0;b>g;g++){for(x.sX=x.srcXOffset,x.fracV=x.srcYOffset&O,x.ifV=O-x.fracV,x.v1=(x.srcYOffset>>I)*x.iw,x.v2=H((x.srcYOffset>>I)+1,x.ih1)*x.iw,f=0;y>f;f++)E=4*(S+f),A=o[E+3]<<24&M|o[E]<<16&R|o[E+1]<<8&L|o[E+2]&P,x.fracU=x.sX&O,x.ifU=O-x.fracU,x.ul=x.ifU*x.ifV>>I,x.ll=x.ifU*x.fracV>>I,x.ur=x.fracU*x.ifV>>I,x.lr=x.fracU*x.fracV>>I,x.u1=x.sX>>I,x.u2=H(x.u1+1,x.iw1),$=4*(x.v1+x.u1),T=4*(x.v1+x.u2),k=4*(x.v2+x.u1),D=4*(x.v2+x.u2),x.cUL=G[$+3]<<24&M|G[$]<<16&R|G[$+1]<<8&L|G[$+2]&P,x.cUR=G[T+3]<<24&M|G[T]<<16&R|G[T+1]<<8&L|G[T+2]&P,x.cLL=G[k+3]<<24&M|G[k]<<16&R|G[k+1]<<8&L|G[k+2]&P,x.cLR=G[D+3]<<24&M|G[D]<<16&R|G[D+1]<<8&L|G[D+2]&P,x.r=x.ul*((x.cUL&R)>>16)+x.ll*((x.cLL&R)>>16)+x.ur*((x.cUR&R)>>16)+x.lr*((x.cLR&R)>>16)<<B&R,x.g=x.ul*(x.cUL&L)+x.ll*(x.cLL&L)+x.ur*(x.cUR&L)+x.lr*(x.cLR&L)>>>I&L,x.b=x.ul*(x.cUL&P)+x.ll*(x.cLL&P)+x.ur*(x.cUR&P)+x.lr*(x.cLR&P)>>>I,x.a=x.ul*((x.cUL&M)>>>24)+x.ll*((x.cLL&M)>>>24)+x.ur*((x.cUR&M)>>>24)+x.lr*((x.cLR&M)>>>24)<<N&M,_=F(A,x.a|x.r|x.g|x.b),o[E]=(_&R)>>>16,o[E+1]=(_&L)>>>8,o[E+2]=_&P,o[E+3]=(_&M)>>>24,x.sX+=w;S+=s,x.srcYOffset+=C}}},yt.loadFont=function(e,n){if(e===t)throw"font name required in loadFont.";if(-1===e.indexOf(".svg"))return n===t&&(n=ai.size),PFont.get(e,n);var i=yt.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:i.units_per_em,horiz_adv_x:1/i.units_per_em*i.horiz_adv_x,ascent:i.ascent,descent:i.descent,width:function(t){for(var n=0,i=t.length,r=0;i>r;r++)try{n+=parseFloat(yt.glyphLook(yt.glyphTable[e],t[r]).horiz_adv_x)}catch(o){S.debug(o)}return n/yt.glyphTable[e].units_per_em}}},yt.createFont=function(e,t){return yt.loadFont(e,t)},yt.textFont=function(e,n){n!==t&&(e.glyph||(e=PFont.get(e.name,n)),ii=n),ai=e,ni=ai.name,ri=ai.ascent,oi=ai.descent,si=ai.leading;var i=Ct.$ensureContext();i.font=ai.css},yt.textSize=function(e){ai=PFont.get(ni,e),ii=e,ri=ai.ascent,oi=ai.descent,si=ai.leading;var t=Ct.$ensureContext();t.font=ai.css},yt.textAscent=function(){return ri},yt.textDescent=function(){return oi},yt.textLeading=function(e){si=e},yt.textAlign=function(e,t){Qn=e,ei=t||h.BASELINE},ir.prototype.textWidth=function(e){var t,n=tt(e).split(/\r?\n/g),i=0,r=n.length;for(bt.font=ai.css,t=0;r>t;++t)i=Math.max(i,ai.measureTextWidth(n[t]));return 0|i},rr.prototype.textWidth=function(e){var n,i=tt(e).split(/\r?\n/g),r=0,o=i.length;xt===t&&(xt=u.createElement("canvas"));var s=xt.getContext("2d");for(s.font=ai.css,n=0;o>n;++n)r=Math.max(r,s.measureText(i[n]).width);return 0|r},yt.glyphLook=function(e,t){try{switch(t){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[t]}}catch(n){S.debug(n)}},ir.prototype.text$line=function(e,t,n,i,r){var o=0,s=0;if(ai.glyph){var a=yt.glyphTable[ni];L(),bt.translate(t,n+ii),(r===h.RIGHT||r===h.CENTER)&&(o=a.width(e),s=r===h.RIGHT?-o:-o/2);var l=a.units_per_em,u=1/l*ii;bt.scale(u,u);for(var c=0,d=e.length;d>c;c++)try{yt.glyphLook(a,e[c]).draw()}catch(p){S.debug(p)}P()}else e&&"fillText"in bt&&(cn&&(bt.fillStyle=yt.color.toString(un),cn=!1),(r===h.RIGHT||r===h.CENTER)&&(o=ai.measureTextWidth(e),s=r===h.RIGHT?-o:-o/2),bt.fillText(e,t+s,n))},rr.prototype.text$line=function(e,n,i,r,o){xt===t&&(xt=u.createElement("canvas"));var s=bt;bt=xt.getContext("2d"),bt.font=ai.css;var a=ai.measureTextWidth(e);xt.width=a,xt.height=ii,bt=xt.getContext("2d"),bt.font=ai.css,bt.textBaseline="top",ir.prototype.text$line(e,0,0,0,h.LEFT);var l=xt.width/xt.height;bt=s,bt.bindTexture(bt.TEXTURE_2D,Wt),bt.texImage2D(bt.TEXTURE_2D,0,bt.RGBA,bt.RGBA,bt.UNSIGNED_BYTE,xt),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MAG_FILTER,bt.LINEAR),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_MIN_FILTER,bt.LINEAR),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_T,bt.CLAMP_TO_EDGE),bt.texParameteri(bt.TEXTURE_2D,bt.TEXTURE_WRAP_S,bt.CLAMP_TO_EDGE);var c=0;o===h.RIGHT?c=-a:o===h.CENTER&&(c=-a/2);var d=new lr,p=.5*ii;d.translate(n+c-p/2,i-p,r),d.scale(-l*p,-p,p),d.translate(-1,-1,-1),d.transpose();var f=new lr;f.scale(1,-1,1),f.apply(en.array()),f.transpose(),bt.useProgram(Dt),T("aVertex2d",Dt,"aVertex",3,jt),T("aTextureCoord2d",Dt,"aTextureCoord",2,qt),E("uSampler2d",Dt,"uSampler",[0]),E("uIsDrawingText2d",Dt,"uIsDrawingText",!0),$("uModel2d",Dt,"uModel",!1,d.array()),$("uView2d",Dt,"uView",!1,f.array()),_("uColor2d",Dt,"uColor",ln),bt.bindBuffer(bt.ELEMENT_ARRAY_BUFFER,Kt),bt.drawElements(bt.TRIANGLES,6,bt.UNSIGNED_SHORT,0)},yt.text=function(){ti!==h.SHAPE&&(3===arguments.length?nt(tt(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?nt(tt(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?it(tt(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&it(tt(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},yt.textMode=function(e){ti=e},yt.loadGlyphs=function(e){var n,i,r,o,s,a,c,h,d,p,f,g,m="[0-9\\-]+",v=function(e,t){var n,i=0,r=[],o=new RegExp(e,"g");for(n=r[i]=o.exec(t);n;)i++,n=r[i]=o.exec(t);return r},y=function(e){var t=v("[A-Za-z][0-9\\- ]+|Z",e),l=function(){return L(),Ct.$ensureContext()},u=function(){H(),V(),P()};g="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",n=0,i=0,r=0,o=0,s=0,a=0,e=0,h=0,d="",p=t.length-1;for(var c=0;p>c;c++){var y=t[c][0],b=v(m,y);switch(y[0]){case"M":n=parseFloat(b[0][0]),i=parseFloat(b[1][0]),g+="curContext.moveTo("+n+","+-i+");";break;case"L":n=parseFloat(b[0][0]),i=parseFloat(b[1][0]),g+="curContext.lineTo("+n+","+-i+");";break;case"H":n=parseFloat(b[0][0]),g+="curContext.lineTo("+n+","+-i+");";break;case"V":i=parseFloat(b[0][0]),g+="curContext.lineTo("+n+","+-i+");";break;case"T":s=parseFloat(b[0][0]),a=parseFloat(b[1][0]),"Q"===d||"T"===d?(e=Math.sqrt(Math.pow(n-r,2)+Math.pow(o-i,2)),h=Math.PI+Math.atan2(r-n,o-i),r=n+Math.sin(h)*e,o=i+Math.cos(h)*e):(r=n,o=i),g+="curContext.quadraticCurveTo("+r+","+-o+","+s+","+-a+");",n=s,i=a;break;case"Q":r=parseFloat(b[0][0]),o=parseFloat(b[1][0]),s=parseFloat(b[2][0]),a=parseFloat(b[3][0]),g+="curContext.quadraticCurveTo("+r+","+-o+","+s+","+-a+");",n=s,i=a;break;case"Z":g+="curContext.closePath();"}d=y[0]}return g+="afterPathDraw();",g+="curContext.translate("+f+",0);",g+="}}",new Function("beforePathDraw","afterPathDraw",g)(l,u)},b=function(n){var i=n.getElementsByTagName("font");yt.glyphTable[e].horiz_adv_x=i[0].getAttribute("horiz-adv-x");var r=n.getElementsByTagName("font-face")[0];yt.glyphTable[e].units_per_em=parseFloat(r.getAttribute("units-per-em")),yt.glyphTable[e].ascent=parseFloat(r.getAttribute("ascent")),yt.glyphTable[e].descent=parseFloat(r.getAttribute("descent"));for(var o=n.getElementsByTagName("glyph"),s=o.length,a=0;s>a;a++){var l=o[a].getAttribute("unicode"),u=o[a].getAttribute("glyph-name");f=o[a].getAttribute("horiz-adv-x"),null===f&&(f=yt.glyphTable[e].horiz_adv_x),c=o[a].getAttribute("d"),c!==t&&(g=y(c),yt.glyphTable[e][u]={name:u,unicode:l,horiz_adv_x:f,draw:g.draw})}},w=function(){var t;try{t=u.implementation.createDocument("","",null)}catch(n){return S.debug(n.message),void 0}try{t.async=!1,t.load(e),b(t.getElementsByTagName("svg")[0])}catch(i){S.debug(i);try{var r=new l.XMLHttpRequest;r.open("GET",e,!1),r.send(null),b(r.responseXML.documentElement)}catch(o){S.debug(i)}}};return yt.glyphTable[e]={},w(e),yt.glyphTable[e]},yt.param=function(e){var t="data-processing-"+e;if(gt.hasAttribute(t))return gt.getAttribute(t);for(var n=0,i=gt.childNodes.length;i>n;++n){var r=gt.childNodes.item(n);if(1===r.nodeType&&"param"===r.tagName.toLowerCase()&&r.getAttribute("name")===e)return r.getAttribute("value")}return wt.params.hasOwnProperty(e)?wt.params[e]:null},or.prototype.translate=ot("translate"),or.prototype.transform=ot("transform"),or.prototype.scale=ot("scale"),or.prototype.pushMatrix=ot("pushMatrix"),or.prototype.popMatrix=ot("popMatrix"),or.prototype.resetMatrix=ot("resetMatrix"),or.prototype.applyMatrix=ot("applyMatrix"),or.prototype.rotate=ot("rotate"),or.prototype.rotateZ=ot("rotateZ"),or.prototype.shearX=ot("shearX"),or.prototype.shearY=ot("shearY"),or.prototype.redraw=ot("redraw"),or.prototype.toImageData=ot("toImageData"),or.prototype.ambientLight=ot("ambientLight"),or.prototype.directionalLight=ot("directionalLight"),or.prototype.lightFalloff=ot("lightFalloff"),or.prototype.lightSpecular=ot("lightSpecular"),or.prototype.pointLight=ot("pointLight"),or.prototype.noLights=ot("noLights"),or.prototype.spotLight=ot("spotLight"),or.prototype.beginCamera=ot("beginCamera"),or.prototype.endCamera=ot("endCamera"),or.prototype.frustum=ot("frustum"),or.prototype.box=ot("box"),or.prototype.sphere=ot("sphere"),or.prototype.ambient=ot("ambient"),or.prototype.emissive=ot("emissive"),or.prototype.shininess=ot("shininess"),or.prototype.specular=ot("specular"),or.prototype.fill=ot("fill"),or.prototype.stroke=ot("stroke"),or.prototype.strokeWeight=ot("strokeWeight"),or.prototype.smooth=ot("smooth"),or.prototype.noSmooth=ot("noSmooth"),or.prototype.point=ot("point"),or.prototype.vertex=ot("vertex"),or.prototype.endShape=ot("endShape"),or.prototype.bezierVertex=ot("bezierVertex"),or.prototype.curveVertex=ot("curveVertex"),or.prototype.curve=ot("curve"),or.prototype.line=ot("line"),or.prototype.bezier=ot("bezier"),or.prototype.rect=ot("rect"),or.prototype.ellipse=ot("ellipse"),or.prototype.background=ot("background"),or.prototype.image=ot("image"),or.prototype.textWidth=ot("textWidth"),or.prototype.text$line=ot("text$line"),or.prototype.$ensureContext=ot("$ensureContext"),or.prototype.$newPMatrix=ot("$newPMatrix"),or.prototype.size=function(e,t,n){rt(n===h.WEBGL?"3D":"2D"),yt.size(e,t,n)},or.prototype.$init=c,ir.prototype.$init=function(){yt.size(yt.width,yt.height),bt.lineCap="round",yt.noSmooth(),yt.disableContextMenu()},rr.prototype.$init=function(){yt.use3DContext=!0,yt.disableContextMenu()},nr.prototype.$ensureContext=function(){return bt},gt.getAttribute("tabindex")||gt.setAttribute("tabindex",0),mt)wt=new S.Sketch,rt(),yt.size=function(e,t,n){n&&n===h.WEBGL?rt("3D"):rt("2D"),yt.size(e,t,n)};else{wt=n instanceof S.Sketch?n:"function"==typeof n?new S.Sketch(n):n?S.compile(n):new S.Sketch(function(){}),yt.externals.sketch=wt,rt(),gt.onfocus=function(){yt.focused=!0},gt.onblur=function(){yt.focused=!1,wt.options.globalKeyEvents||ct()},wt.options.pauseOnBlur&&(g(l,"focus",function(){yn&&yt.loop()}),g(l,"blur",function(){yn&&mn&&(yt.noLoop(),yn=!0),ct()}));var Tr=wt.options.globalKeyEvents?l:gt;g(Tr,"keydown",dt),g(Tr,"keypress",pt),g(Tr,"keyup",ft);for(var kr in S.lib)S.lib.hasOwnProperty(kr)&&(S.lib[kr].hasOwnProperty("attach")?S.lib[kr].attach(yt):S.lib[kr]instanceof Function&&S.lib[kr].call(this));var Dr=100,Fr=function(e){if(wt.imageCache.pending||PFont.preloading.pending(Dr))l.setTimeout(function(){Fr(e)},Dr);else{if(l.opera){var t,n,r=wt.imageCache.operaCache;for(t in r)r.hasOwnProperty(t)&&(n=r[t],null!==n&&u.body.removeChild(n),delete r[t])}wt.attach(e,i),wt.onLoad(e),e.setup&&(e.setup(),e.resetMatrix(),wt.onSetup()),X(),e.draw&&(yn?e.loop():e.redraw())}};x(this),Fr(yt)}};return S.debug=function(){return"console"in l?function(e){l.console.log("Processing.js: "+e)}:c}(),S.prototype=i,S.instances=w,S.getInstanceById=function(e){return w[C[e]]},function(e){function t(e){return function(){throw"Processing.js does not support "+e+"."}}for(var n,i,r="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),o=r.length;o--;)n=r[o],i=n.replace("()",""),e[i]=t(n)}(i),S}},{}],28:[function(e,t){var n={virtEquals:e("./Helpers/virtEquals"),virtHashCode:e("./Helpers/virtHashCode"),ObjectIterator:e("./Helpers/ObjectIterator"),PConstants:e("./Helpers/PConstants"),ArrayList:e("./Objects/ArrayList"),HashMap:e("./Objects/HashMap"),PVector:e("./Objects/PVector"),PFont:e("./Objects/PFont"),Char:e("./Objects/Char"),XMLAttribute:e("./Objects/XMLAttribute"),XMLElement:e("./Objects/XMLElement"),PMatrix2D:e("./Objects/PMatrix2D"),PMatrix3D:e("./Objects/PMatrix3D"),PShape:e("./Objects/PShape"),colors:e("./Objects/webcolors"),PShapeSVG:e("./Objects/PShapeSVG"),CommonFunctions:e("./P5Functions/commonFunctions"),defaultScope:e("./Helpers/defaultScope"),Processing:e("./Processing"),setupParser:e("./Parser/Parser"),finalize:e("./Helpers/finalizeProcessing")};n.extend={withMath:e("./P5Functions/Math.js"),withProxyFunctions:e("./P5Functions/JavaProxyFunctions")(n.virtHashCode,n.virtEquals),withTouch:e("./P5Functions/touchmouse"),withCommonFunctions:n.CommonFunctions.withCommonFunctions},t.exports=function(t,i){var r=function(){},o=n.virtEquals,s=n.virtHashCode,a=n.PConstants,l=n.CommonFunctions,u=n.ObjectIterator,c=n.Char,h=n.XMLAttribute(),d=n.ArrayList({virtHashCode:s,virtEquals:o}),p=n.HashMap({virtHashCode:s,virtEquals:o}),f=n.PVector({PConstants:a}),g=n.PFont({Browser:t,noop:r}),m=n.XMLElement({Browser:t,XMLAttribute:h}),v=n.PMatrix2D({p:l}),y=n.PMatrix3D({p:l}),b=n.PShape({PConstants:a,PMatrix2D:v,PMatrix3D:y}),w=n.PShapeSVG({CommonFunctions:l,PConstants:a,PShape:b,XMLElement:m,colors:n.colors}),C=n.defaultScope({ArrayList:d,HashMap:p,PVector:f,PFont:g,PShapeSVG:w,ObjectIterator:u,PConstants:a,Char:c,XMLElement:m,XML:m}),x=n.Processing({defaultScope:C,Browser:t,extend:n.extend,noop:r});return x=n.setupParser(x,{Browser:t,aFunctions:i,defaultScope:C}),x=n.finalize(x,{version:e("../package.json").version,isDomPresent:!1||t.isDomPresent,window:t.window,document:t.document,noop:r})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,"./Helpers/defaultScope":6,"./Helpers/finalizeProcessing":7,"./Helpers/virtEquals":8,"./Helpers/virtHashCode":9,"./Objects/ArrayList":10,"./Objects/Char":11,"./Objects/HashMap":12,"./Objects/PFont":13,"./Objects/PMatrix2D":14,"./Objects/PMatrix3D":15,"./Objects/PShape":16,"./Objects/PShapeSVG":17,"./Objects/PVector":18,"./Objects/XMLAttribute":19,"./Objects/XMLElement":20,"./Objects/webcolors":21,"./P5Functions/JavaProxyFunctions":22,"./P5Functions/Math.js":23,"./P5Functions/commonFunctions":24,"./P5Functions/touchmouse":25,"./Parser/Parser":26,"./Processing":27}]},{},[1]),angular.module("com.2fdevs.videogular.plugins.buffering",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-buffering",'<div class="bufferingContainer">              <div ng-class="spinnerClass" class="loadingSpinner"></div>            </div>')}]).directive("vgBuffering",["VG_STATES","VG_UTILS",function(e,t){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-buffering"},link:function(n,i,r,o){n.showSpinner=function(){n.spinnerClass={stop:o.isBuffering},i.css("display","block")},n.hideSpinner=function(){n.spinnerClass={stop:o.isBuffering},i.css("display","none")},n.setState=function(e){e?n.showSpinner():n.hideSpinner()},n.onStateChange=function(t){t==e.STOP&&n.hideSpinner()},n.onPlayerReady=function(e){e&&n.hideSpinner()},n.showSpinner(),t.isMobileDevice()?n.hideSpinner():n.$watch(function(){return o.isReady},function(e,t){(1==o.isReady||e!=t)&&n.onPlayerReady(e)}),n.$watch(function(){return o.currentState},function(e,t){e!=t&&n.onStateChange(e)}),n.$watch(function(){return o.isBuffering},function(e,t){e!=t&&n.setState(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-controls",'<div class="controls-container" ng-mousemove="onMouseMove()" ng-class="animationClass" ng-transclude></div>')}]).directive("vgControls",["$timeout","VG_STATES",function(e,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-controls"},scope:{vgAutohide:"=?",vgAutohideTime:"=?"},link:function(n,i,r,o){var s,a=2e3;n.API=o,n.onMouseMove=function(){n.vgAutohide&&n.showControls()},n.setAutohide=function(i){i&&o.currentState==t.PLAY?s=e(n.hideControls,a):(n.animationClass="",e.cancel(s),n.showControls())},n.setAutohideTime=function(e){a=e},n.hideControls=function(){n.animationClass="hide-animation"},n.showControls=function(){n.animationClass="show-animation",e.cancel(s),n.vgAutohide&&o.currentState==t.PLAY&&(s=e(n.hideControls,a))},o.isConfig?n.$watch("API.config",function(){if(n.API.config){var e=n.API.config.plugins.controls.autohide||!1,t=n.API.config.plugins.controls.autohideTime||2e3;n.vgAutohide=e,n.vgAutohideTime=t,n.setAutohideTime(t),n.setAutohide(e)}}):(void 0!=n.vgAutohide&&n.$watch("vgAutohide",n.setAutohide),void 0!=n.vgAutohideTime&&n.$watch("vgAutohideTime",n.setAutohideTime))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-fullscreen-button",'<button class="iconButton" ng-click="onClickFullScreen()" ng-class="fullscreenIcon" aria-label="Toggle full screen" type="button"> </button>')}]).directive("vgFullscreenButton",[function(){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-fullscreen-button"},link:function(e,t,n,i){e.onChangeFullScreen=function(t){e.fullscreenIcon={enter:!t,exit:t}},e.onClickFullScreen=function(){i.toggleFullScreen()},e.fullscreenIcon={enter:!0},e.$watch(function(){return i.isFullScreen},function(t,n){t!=n&&e.onChangeFullScreen(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-play-pause-button",'<button class="iconButton" ng-click="onClickPlayPause()" ng-class="playPauseIcon" aria-label="Play/Pause" type="button"></button>')}]).directive("vgPlayPauseButton",["VG_STATES",function(e){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-play-pause-button"},link:function(t,n,i,r){t.setState=function(n){switch(n){case e.PLAY:t.playPauseIcon={pause:!0};break;case e.PAUSE:t.playPauseIcon={play:!0};break;case e.STOP:t.playPauseIcon={play:!0}}},t.onClickPlayPause=function(){r.playPause()},t.playPauseIcon={play:!0},t.$watch(function(){return r.currentState},function(e){t.setState(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-playback-button",'<button class="playbackValue iconButton" ng-click="onClickPlayback()">{{playback}}x</button>')}]).directive("vgPlaybackButton",["VG_UTILS",function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-playback-button"},link:function(e,t,n,i){e.playback="1.0",e.onClickPlayback=function(){var t=[".5","1.0","1.5","2.0"],n=t.indexOf(e.playback)+1;e.playback=n>=t.length?t[0]:t[n],i.setPlayback(e.playback)},e.$watch(function(){return i.playback})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar-cue-points",'<div class="cue-point-timeline" ng-style="timelineWidth"><div ng-repeat="cuePoint in vgCuePoints" class="cue-point" ng-style="cuePoint.$$style"></div></div>')}]).directive("vgScrubBarCuePoints",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar-cue-points"},scope:{vgCuePoints:"="},link:function(e,t,n,i){e.onPlayerReady=function(){e.updateCuePoints(e.vgCuePoints)},e.updateCuePoints=function(e){var n;if(e){n=parseInt(t[0].clientWidth);for(var r=0,o=e.length;o>r;r++){var s=1e3*(e[r].timeLapse.end-e[r].timeLapse.start),a=1e3*(100*e[r].timeLapse.start/i.totalTime)+"%",l=0;"number"==typeof s&&i.totalTime&&(l=100*s/i.totalTime+"%"),e[r].$$style={width:l,left:a}}}},e.$watch("vgCuePoints",e.updateCuePoints),e.$watch(function(){return i.totalTime},function(t){t>0&&e.onPlayerReady()})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarCurrentTime",[function(){return{restrict:"E",require:"^videogular",link:function(e,t,n,i){var r=0;e.onUpdateTime=function(e){"number"==typeof e&&i.totalTime?(r=100*(e/i.totalTime),t.css("width",r+"%")):t.css("width",0)},e.$watch(function(){return i.currentTime},function(t){e.onUpdateTime(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar",'<div role="slider" aria-valuemax="{{ariaTime(API.totalTime)}}" aria-valuenow="{{ariaTime(API.currentTime)}}" aria-valuemin="0" aria-label="Time scrub bar" tabindex="0" ng-transclude ng-keydown="onScrubBarKeyDown($event)"></div>')}]).directive("vgScrubBar",["VG_STATES","VG_UTILS",function(e,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar"},link:function(n,i,r,o){var s=!1,a=!1,l=!1,u=0,c=37,h=39,d=5;n.API=o,n.ariaTime=function(e){return Math.round(e/1e3)},n.onScrubBarTouchStart=function(e){var r,c=e.originalEvent||e,h=c.touches;u=t.isiOSDevice()?-1*(h[0].clientX-c.layerX):c.layerX,r=h[0].clientX+u-h[0].target.offsetLeft,s=!0,a&&(l=!0),o.pause(),o.seekTime(r*o.mediaElement[0].duration/i[0].scrollWidth),n.$apply()},n.onScrubBarTouchEnd=function(e){e.originalEvent||e,l&&(l=!1,o.play()),s=!1,n.$apply()},n.onScrubBarTouchMove=function(e){var t,r=e.originalEvent||e,a=r.touches;s&&(t=a[0].clientX+u-a[0].target.offsetLeft,o.seekTime(t*o.mediaElement[0].duration/i[0].scrollWidth)),n.$apply()},n.onScrubBarTouchLeave=function(){s=!1,n.$apply()},n.onScrubBarMouseDown=function(e){e=t.fixEventOffset(e),s=!0,a&&(l=!0),o.pause(),o.seekTime(e.offsetX*o.mediaElement[0].duration/i[0].scrollWidth),n.$apply()},n.onScrubBarMouseUp=function(){l&&(l=!1,o.play()),s=!1,n.$apply()},n.onScrubBarMouseMove=function(e){s&&(e=t.fixEventOffset(e),o.seekTime(e.offsetX*o.mediaElement[0].duration/i[0].scrollWidth)),n.$apply()},n.onScrubBarMouseLeave=function(){s=!1,n.$apply()},n.onScrubBarKeyDown=function(e){var t=100*(o.currentTime/o.totalTime);e.which===c||e.keyCode===c?(o.seekTime(t-d,!0),e.preventDefault()):(e.which===h||e.keyCode===h)&&(o.seekTime(t+d,!0),e.preventDefault())},n.setState=function(t){if(!s)switch(t){case e.PLAY:a=!0;break;case e.PAUSE:a=!1;break;case e.STOP:a=!1}},n.$watch(function(){return o.currentState},function(e,t){e!=t&&n.setState(e)
}),t.isMobileDevice()?(i.bind("touchstart",n.onScrubBarTouchStart),i.bind("touchend",n.onScrubBarTouchEnd),i.bind("touchmove",n.onScrubBarTouchMove),i.bind("touchleave",n.onScrubBarTouchLeave)):(i.bind("mousedown",n.onScrubBarMouseDown),i.bind("mouseup",n.onScrubBarMouseUp),i.bind("mousemove",n.onScrubBarMouseMove),i.bind("mouseleave",n.onScrubBarMouseLeave))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgTimeDisplay",[function(){return{require:"^videogular",restrict:"E",link:function(e,t,n,i){e.currentTime=i.currentTime,e.timeLeft=i.timeLeft,e.totalTime=i.totalTime,e.isLive=i.isLive,e.$watch(function(){return i.currentTime},function(t){e.currentTime=t}),e.$watch(function(){return i.timeLeft},function(t){e.timeLeft=t}),e.$watch(function(){return i.totalTime},function(t){e.totalTime=t}),e.$watch(function(){return i.isLive},function(t){e.isLive=t})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-mute-button",'<button type="button" class="iconButton" ng-class="muteIcon" ng-click="onClickMute()" ng-focus="onMuteButtonFocus()" ng-blur="onMuteButtonLoseFocus()" ng-keydown="onMuteButtonKeyDown($event)" aria-label="Mute"></button>')}]).directive("vgMuteButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-mute-button"},link:function(e,t,n,i){var r=!1,o=38,s=40,a=.05;e.onClickMute=function(){r?e.currentVolume=e.defaultVolume:(e.currentVolume=0,e.muteIcon={mute:!0}),r=!r,i.setVolume(e.currentVolume)},e.onMuteButtonFocus=function(){e.volumeVisibility="visible"},e.onMuteButtonLoseFocus=function(){e.volumeVisibility="hidden"},e.onMuteButtonKeyDown=function(e){var t,n=null!=i.volume?i.volume:1;e.which===o||e.keyCode===o?(t=n+a,t>1&&(t=1),i.setVolume(t),e.preventDefault()):(e.which===s||e.keyCode===s)&&(t=n-a,0>t&&(t=0),i.setVolume(t),e.preventDefault())},e.onSetVolume=function(t){e.currentVolume=t,r?t>0&&(e.defaultVolume=t):e.defaultVolume=t;var n=Math.round(100*t);0==n?e.muteIcon={mute:!0}:n>0&&25>n?e.muteIcon={level0:!0}:n>=25&&50>n?e.muteIcon={level1:!0}:n>=50&&75>n?e.muteIcon={level2:!0}:n>=75&&(e.muteIcon={level3:!0})},e.defaultVolume=1,e.currentVolume=e.defaultVolume,e.muteIcon={level3:!0},e.onSetVolume(i.volume),e.$watch(function(){return i.volume},function(t,n){t!=n&&e.onSetVolume(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-volume-bar",'<div class="verticalVolumeBar">              <div class="volumeBackground" ng-click="onClickVolume($event)" ng-mousedown="onMouseDownVolume()" ng-mouseup="onMouseUpVolume()" ng-mousemove="onMouseMoveVolume($event)" ng-mouseleave="onMouseLeaveVolume()">                <div class="volumeValue"></div>                <div class="volumeClickArea"></div>              </div>            </div>')}]).directive("vgVolumeBar",["VG_UTILS",function(e){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-volume-bar"},link:function(t,n,i,r){var o=!1,s=angular.element(n[0].getElementsByClassName("volumeBackground")),a=angular.element(n[0].getElementsByClassName("volumeValue"));t.onClickVolume=function(t){t=e.fixEventOffset(t);var n=parseInt(s.prop("offsetHeight")),i=100*t.offsetY/n,o=1-i/100;r.setVolume(o)},t.onMouseDownVolume=function(){o=!0},t.onMouseUpVolume=function(){o=!1},t.onMouseLeaveVolume=function(){o=!1},t.onMouseMoveVolume=function(t){if(o){t=e.fixEventOffset(t);var n=parseInt(s.prop("offsetHeight")),i=100*t.offsetY/n,a=1-i/100;r.setVolume(a)}},t.updateVolumeView=function(e){e=100*e,a.css("height",e+"%"),a.css("top",100-e+"%")},t.onChangeVisibility=function(e){n.css("visibility",e)},n.css("visibility",t.volumeVisibility),t.$watch("volumeVisibility",t.onChangeVisibility),t.updateVolumeView(r.volume),t.$watch(function(){return r.volume},function(e,n){e!=n&&t.updateVolumeView(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgVolume",["VG_UTILS",function(e){return{restrict:"E",link:function(t,n){t.onMouseOverVolume=function(){t.$evalAsync(function(){t.volumeVisibility="visible"})},t.onMouseLeaveVolume=function(){t.$evalAsync(function(){t.volumeVisibility="hidden"})},e.isMobileDevice()?n.css("display","none"):(t.volumeVisibility="hidden",n.bind("mouseover",t.onMouseOverVolume),n.bind("mouseleave",t.onMouseLeaveVolume))}}}]),angular.module("com.2fdevs.videogular.plugins.overlayplay",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-overlay-play",'<div class="overlayPlayContainer" ng-click="onClickOverlayPlay()">              <div class="iconButton" ng-class="overlayPlayIcon"></div>            </div>')}]).directive("vgOverlayPlay",["VG_STATES",function(e){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-overlay-play"},link:function(t,n,i,r){t.onChangeState=function(n){switch(n){case e.PLAY:t.overlayPlayIcon={};break;case e.PAUSE:t.overlayPlayIcon={play:!0};break;case e.STOP:t.overlayPlayIcon={play:!0}}},t.onClickOverlayPlay=function(){r.playPause()},t.overlayPlayIcon={play:!0},t.$watch(function(){return r.currentState},function(e){t.onChangeState(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.poster",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-poster",'<img ng-src="{{vgUrl}}" ng-class="API.currentState">')}]).directive("vgPoster",[function(){return{restrict:"E",require:"^videogular",scope:{vgUrl:"=?"},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-poster"},link:function(e,t,n,i){e.API=i,i.isConfig&&e.$watch("API.config",function(){e.API.config&&(e.vgUrl=e.API.config.plugins.poster.url)})}}}]);